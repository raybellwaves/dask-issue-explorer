{
    "url": "https://api.github.com/repos/dask/dask/issues/3162",
    "repository_url": "https://api.github.com/repos/dask/dask",
    "labels_url": "https://api.github.com/repos/dask/dask/issues/3162/labels{/name}",
    "comments_url": "https://api.github.com/repos/dask/dask/issues/3162/comments",
    "events_url": "https://api.github.com/repos/dask/dask/issues/3162/events",
    "html_url": "https://github.com/dask/dask/issues/3162",
    "id": 296560849,
    "node_id": "MDU6SXNzdWUyOTY1NjA4NDk=",
    "number": 3162,
    "title": "Arithmetic operations of dtype arrays raise ValueError",
    "user": {
        "login": "fujiisoup",
        "id": 6815844,
        "node_id": "MDQ6VXNlcjY4MTU4NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6815844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fujiisoup",
        "html_url": "https://github.com/fujiisoup",
        "followers_url": "https://api.github.com/users/fujiisoup/followers",
        "following_url": "https://api.github.com/users/fujiisoup/following{/other_user}",
        "gists_url": "https://api.github.com/users/fujiisoup/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fujiisoup/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fujiisoup/subscriptions",
        "organizations_url": "https://api.github.com/users/fujiisoup/orgs",
        "repos_url": "https://api.github.com/users/fujiisoup/repos",
        "events_url": "https://api.github.com/users/fujiisoup/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fujiisoup/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 242862305,
            "node_id": "MDU6TGFiZWwyNDI4NjIzMDU=",
            "url": "https://api.github.com/repos/dask/dask/labels/array",
            "name": "array",
            "color": "006b75",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2018-02-12T23:24:20Z",
    "updated_at": "2019-08-13T14:30:15Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "xref pydata/xarray#1883\r\n\r\nObject-typed array does not support arithmetic operations,\r\n```python\r\nIn [1]: import numpy as np\r\n   ...: import dask.array as da\r\n   ...: \r\n   ...: x = np.array([True, False, np.nan], dtype=object)\r\n   ...: x / 2\r\n   ...: \r\nOut[1]: array([0.5, 0.0, nan], dtype=object)\r\n\r\nIn [2]: dx = da.from_array(x, chunks=[1])\r\n   ...: dx / 2\r\n   ...: \r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-2-0fc254e56c40> in <module>()\r\n      1 dx = da.from_array(x, chunks=[1])\r\n----> 2 dx / 2\r\n\r\n~/anaconda3/envs/xarray/lib/python3.6/site-packages/dask/array/core.py in __truediv__(self, other)\r\n   1532 \r\n   1533     def __truediv__(self, other):\r\n-> 1534         return elemwise(operator.truediv, self, other)\r\n   1535 \r\n   1536     def __rtruediv__(self, other):\r\n\r\n~/anaconda3/envs/xarray/lib/python3.6/site-packages/dask/array/core.py in elemwise(op, *args, **kwargs)\r\n   2938                 if not is_scalar_for_elemwise(a) else a\r\n   2939                 for a in args]\r\n-> 2940         dt = apply_infer_dtype(op, vals, {}, 'elemwise', suggest_dtype=False)\r\n   2941         need_enforce_dtype = any(not is_scalar_for_elemwise(a) and a.ndim == 0 for a in args)\r\n   2942 \r\n\r\n~/anaconda3/envs/xarray/lib/python3.6/site-packages/dask/array/core.py in apply_infer_dtype(func, args, kwargs, funcname, suggest_dtype)\r\n    544         msg = None\r\n    545     if msg is not None:\r\n--> 546         raise ValueError(msg)\r\n    547     return o.dtype\r\n    548 \r\n\r\nValueError: `dtype` inference failed in `elemwise`.\r\n\r\nOriginal error is below:\r\n------------------------\r\nTypeError(\"unsupported operand type(s) for /: 'NoneType' and 'int'\",)\r\n\r\nTraceback:\r\n---------\r\n  File \"/home/keisukefujii/anaconda3/envs/xarray/lib/python3.6/site-packages/dask/array/core.py\", line 529, in apply_infer_dtype\r\n    o = func(*args, **kwargs)\r\n```\r\n\r\nMaybe we need some type castings.",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/dask/dask/issues/3162/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/dask/dask/issues/3162/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}