{
    "url": "https://api.github.com/repos/dask/dask/issues/5432",
    "repository_url": "https://api.github.com/repos/dask/dask",
    "labels_url": "https://api.github.com/repos/dask/dask/issues/5432/labels{/name}",
    "comments_url": "https://api.github.com/repos/dask/dask/issues/5432/comments",
    "events_url": "https://api.github.com/repos/dask/dask/issues/5432/events",
    "html_url": "https://github.com/dask/dask/issues/5432",
    "id": 498240758,
    "node_id": "MDU6SXNzdWU0OTgyNDA3NTg=",
    "number": 5432,
    "title": "Proxying Dask (Bokeh) Web Interface on AWS SageMaker ",
    "user": {
        "login": "davidtwomey",
        "id": 2926574,
        "node_id": "MDQ6VXNlcjI5MjY1NzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2926574?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/davidtwomey",
        "html_url": "https://github.com/davidtwomey",
        "followers_url": "https://api.github.com/users/davidtwomey/followers",
        "following_url": "https://api.github.com/users/davidtwomey/following{/other_user}",
        "gists_url": "https://api.github.com/users/davidtwomey/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/davidtwomey/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/davidtwomey/subscriptions",
        "organizations_url": "https://api.github.com/users/davidtwomey/orgs",
        "repos_url": "https://api.github.com/users/davidtwomey/repos",
        "events_url": "https://api.github.com/users/davidtwomey/events{/privacy}",
        "received_events_url": "https://api.github.com/users/davidtwomey/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 27,
    "created_at": "2019-09-25T12:03:34Z",
    "updated_at": "2023-12-28T10:33:52Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Hi,\r\nI am using Amazon SageMaker Instances to run self-contained JupyterLab environments.\r\nI can run dask no problem, but it would be great to view the bokeh dashboard in my browser. \r\nI have so far looked into two approaches (see below) but **would welcome any solutions/ideas anyone has**:\r\n\r\n### 1.  **Port Forwarding**: (as suggested [here](https://distributed.dask.org/en/latest/web.html#id1))\r\nUnfortunately, (to the best of my knowledge), AWS Sagemaker Notebooks do not allow SSH access, and hence Port Forwarding is not an option\r\n> NOTE: Google AI Notebook Instances **do** however and so this is a suitable solution for GCP `<VM-IP-ADDRESS>:8787/status`\r\n\r\n### 2.  Using a jupyter proxy extension [google-server-proxy](https://github.com/jupyterhub/jupyter-server-proxy) \r\nThis is close to a working solution, as I am able to view the dashboard, but am getting a websocket error \r\n**When I attempt to access the dashboard using the proxy** `bokeh.protocol.exceptions.ProtocolError: No bokeh-protocol-version specified`\r\n![image](https://user-images.githubusercontent.com/2926574/65598312-06df6100-df93-11e9-8aba-482ba06fc373.png)\r\n**The exception raised from bokeh**\r\n![image](https://user-images.githubusercontent.com/2926574/65598079-8b7daf80-df92-11e9-9fb1-0ea58e4ac21a.png)\r\n\r\n#### Steps to reproduce\r\n- Create a new notebook instance [SageMaker](https://eu-west-2.console.aws.amazon.com/sagemaker/home?region=eu-west-2#/notebook-instances/create)\r\n- Install Dask + Bokeh in a py3.6 kernel\r\n- Install jupyter-server-proxy extension\r\n```\r\ngit clone --depth 1 https://github.com/jupyterhub/jupyter-server-proxy\r\ncd jupyter-server-proxy/jupyterlab-server-proxy\r\nnpm install && npm run build && jupyter labextension link .\r\nnpm run build && jupyter lab build\r\n```\r\n- Create a new notebook and create a client\r\n```python\r\nfrom dask.distributed import Client\r\nclient = Client()\r\n```\r\n- Navigate to the proxied web-proxy: \r\n```\r\n# In web-browser\r\nhttps://<SAGEMAKER-ENDPOINT>/proxy/8787/status\r\n```\r\n(Additional info on my runtime env)\r\n![image](https://user-images.githubusercontent.com/2926574/65598017-66893c80-df92-11e9-8e3f-0c87b3d41931.png)\r\n\r\n\r\n\r\n**Additional Comment**\r\nI am a big advocate of dask and very much appreciate the ongoing work everyone is doing! \r\n\r\nI understand this may not be the appropriate repo for this issue/feature-request and may not appear of high priority. However, I feel SageMaker Notebooks/GCP AI Notebook environments will be an increasing use case for lots of ML researchers and developers and, consequently, a well supported solution to this would be a useful addition to the docs.\r\n\r\nThanks,\r\n\r\nDavid",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/dask/dask/issues/5432/reactions",
        "total_count": 7,
        "+1": 7,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/dask/dask/issues/5432/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}