{
    "url": "https://api.github.com/repos/dask/dask/issues/10045",
    "repository_url": "https://api.github.com/repos/dask/dask",
    "labels_url": "https://api.github.com/repos/dask/dask/issues/10045/labels{/name}",
    "comments_url": "https://api.github.com/repos/dask/dask/issues/10045/comments",
    "events_url": "https://api.github.com/repos/dask/dask/issues/10045/events",
    "html_url": "https://github.com/dask/dask/issues/10045",
    "id": 1618490840,
    "node_id": "I_kwDOAbcwm85geDXY",
    "number": 10045,
    "title": "Custom sort key for dataframe.read_parquet with multiple paths as input",
    "user": {
        "login": "alexgorban",
        "id": 1524085,
        "node_id": "MDQ6VXNlcjE1MjQwODU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1524085?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alexgorban",
        "html_url": "https://github.com/alexgorban",
        "followers_url": "https://api.github.com/users/alexgorban/followers",
        "following_url": "https://api.github.com/users/alexgorban/following{/other_user}",
        "gists_url": "https://api.github.com/users/alexgorban/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/alexgorban/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/alexgorban/subscriptions",
        "organizations_url": "https://api.github.com/users/alexgorban/orgs",
        "repos_url": "https://api.github.com/users/alexgorban/repos",
        "events_url": "https://api.github.com/users/alexgorban/events{/privacy}",
        "received_events_url": "https://api.github.com/users/alexgorban/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 242862289,
            "node_id": "MDU6TGFiZWwyNDI4NjIyODk=",
            "url": "https://api.github.com/repos/dask/dask/labels/dataframe",
            "name": "dataframe",
            "color": "fbca04",
            "default": false,
            "description": null
        },
        {
            "id": 365513534,
            "node_id": "MDU6TGFiZWwzNjU1MTM1MzQ=",
            "url": "https://api.github.com/repos/dask/dask/labels/io",
            "name": "io",
            "color": "6f871c",
            "default": false,
            "description": ""
        },
        {
            "id": 2949099791,
            "node_id": "MDU6TGFiZWwyOTQ5MDk5Nzkx",
            "url": "https://api.github.com/repos/dask/dask/labels/parquet",
            "name": "parquet",
            "color": "77A66C",
            "default": false,
            "description": ""
        },
        {
            "id": 3468123446,
            "node_id": "LA_kwDOAbcwm87Ot102",
            "url": "https://api.github.com/repos/dask/dask/labels/needs%20attention",
            "name": "needs attention",
            "color": "6d626c",
            "default": false,
            "description": "It's been a while since this was pushed on. Needs attention from the owner or a maintainer."
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 4,
    "created_at": "2023-03-10T07:25:13Z",
    "updated_at": "2024-03-04T01:47:54Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "[dask.dataframe.read_parquet](https://docs.dask.org/en/stable/generated/dask.dataframe.read_parquet.html) accepts a list of paths as input. It uses [natural_sort_key](https://pydocs.github.io/p/dask/2021.10.0/api/dask.utils.natural_sort_key) under the hood to sort the paths in several places. In my case parquet files are not in the natural order and I'd like to sort them outside and keep the same order inside the read_parquet, so I do monkey patching like this to make it work:\r\n\r\n```\r\nwith (mock.patch.object(dask.dataframe.io.parquet.core, 'natural_sort_key', new=lambda p: p),\r\n      mock.patch.object(dask.dataframe.io.parquet.utils, 'natural_sort_key', new=lambda p: p)):    \r\n    return dd.read_parquet(paths, index='index', calculate_divisions=True)\r\n```\r\n\r\nIt would be great if there was a parameter to control the sort key (disable natural_sort_key or provide my own).",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/dask/dask/issues/10045/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/dask/dask/issues/10045/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}