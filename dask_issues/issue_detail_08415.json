{
    "url": "https://api.github.com/repos/dask/dask/issues/8415",
    "repository_url": "https://api.github.com/repos/dask/dask",
    "labels_url": "https://api.github.com/repos/dask/dask/issues/8415/labels{/name}",
    "comments_url": "https://api.github.com/repos/dask/dask/issues/8415/comments",
    "events_url": "https://api.github.com/repos/dask/dask/issues/8415/events",
    "html_url": "https://github.com/dask/dask/issues/8415",
    "id": 1061129156,
    "node_id": "I_kwDOAbcwm84_P4vE",
    "number": 8415,
    "title": "Documentation for `set_index(col, compute=True)` is unclear/inaccurate",
    "user": {
        "login": "DahnJ",
        "id": 18722560,
        "node_id": "MDQ6VXNlcjE4NzIyNTYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/18722560?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/DahnJ",
        "html_url": "https://github.com/DahnJ",
        "followers_url": "https://api.github.com/users/DahnJ/followers",
        "following_url": "https://api.github.com/users/DahnJ/following{/other_user}",
        "gists_url": "https://api.github.com/users/DahnJ/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/DahnJ/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/DahnJ/subscriptions",
        "organizations_url": "https://api.github.com/users/DahnJ/orgs",
        "repos_url": "https://api.github.com/users/DahnJ/repos",
        "events_url": "https://api.github.com/users/DahnJ/events{/privacy}",
        "received_events_url": "https://api.github.com/users/DahnJ/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 242862289,
            "node_id": "MDU6TGFiZWwyNDI4NjIyODk=",
            "url": "https://api.github.com/repos/dask/dask/labels/dataframe",
            "name": "dataframe",
            "color": "fbca04",
            "default": false,
            "description": null
        },
        {
            "id": 386719598,
            "node_id": "MDU6TGFiZWwzODY3MTk1OTg=",
            "url": "https://api.github.com/repos/dask/dask/labels/documentation",
            "name": "documentation",
            "color": "f9d0c4",
            "default": true,
            "description": "Improve or add to documentation"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 13,
    "created_at": "2021-11-23T11:16:03Z",
    "updated_at": "2022-03-01T17:55:55Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "I think the documentation is currently unclear/inaccurate about the nature of the `compute` parameter for `set_index`:\r\n\r\n```python\r\ndf.set_index(col, compute=True)\r\n```\r\n\r\nThe documentation currently contains this description:\r\n> compute: bool, default False\r\n> - Whether or not to trigger an immediate computation. Defaults to False. Note, that even if you set compute=False, an immediate computation will still be triggered if divisions is None.\r\n\r\nThis would suggest that if I provide divisions and set `compute=True`, immediate computation will be triggered. This only seems to be the case when using `shuffle=disk`, however. Even then, it's not clear to me what is actually being computed.\r\n\r\nExamples from the SO question where I originally asked about this ([What does set_index(col, compute=True) do in Dask?](https://stackoverflow.com/questions/70012274/what-does-set-indexcol-compute-true-do-in-dask)):\r\n\r\n```python\r\nimport dask.datasets\r\ndf = dask.datasets.timeseries()\r\n\r\n# Nothing gets submitted to the scheduler\r\ndf.set_index(\r\n    'name', \r\n    divisions=('Alice', 'Michael', 'Zelda'), \r\n    compute=True\r\n) \r\n```\r\n\r\nGoing down the stack of functions `set_index` actually calls, it appears that the only place where `compute` is actually used in [`rearrange_by_column_disk`](https://github.com/dask/dask/blob/8aea537d925b794a94f828d35211a5da05ad9dce/dask/dataframe/shuffle.py#L501). And indeed:\r\n\r\n```python\r\n# Still, nothing gets submitted\r\ndf.set_index(\r\n    'name', \r\n    divisions=('Alice', 'Michael', 'Zelda'), \r\n    shuffle='tasks',\r\n    compute=True\r\n) \r\n\r\n# Something is computed here\r\ndf.set_index(\r\n    'name', \r\n    divisions=('Alice', 'Michael', 'Zelda'), \r\n    shuffle='disk',\r\n    compute=True\r\n) \r\n```\r\n\r\nIf I'm correct, then I believe the documentation should reflect the fact that this setting only affects the `shuffle=disk` case. Also, I can't work out from the documentation what is actually being computed \u2014 \"immediate computation\" of what?",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/dask/dask/issues/8415/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/dask/dask/issues/8415/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}