[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/877835950",
        "html_url": "https://github.com/dask/dask/issues/7885#issuecomment-877835950",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/7885",
        "id": 877835950,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg3NzgzNTk1MA==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-07-11T17:30:45Z",
        "updated_at": "2021-07-11T17:30:45Z",
        "author_association": "MEMBER",
        "body": "Mixed type optimization is certainly in scope.  I think that first we need to improve typing of all of the individual layers, and then we can change dask.optimize to optimize connected components of layers based on their type, rather than based on the type of the final colleciton (which, as you point out, is not great).  \r\n\r\nI think that right now @rjzamora is looking into more extensive typing of dataframes as a start to this process.  \r\n\r\nAs a warning though, this has been the plan for several months, and has not risen to the top of anyone's priority list.  If anyone is interested in pushing on this I'm more than happy to advise them through it.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/877835950/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/877838696",
        "html_url": "https://github.com/dask/dask/issues/7885#issuecomment-877838696",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/7885",
        "id": 877838696,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg3NzgzODY5Ng==",
        "user": {
            "login": "rjzamora",
            "id": 20461013,
            "node_id": "MDQ6VXNlcjIwNDYxMDEz",
            "avatar_url": "https://avatars.githubusercontent.com/u/20461013?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rjzamora",
            "html_url": "https://github.com/rjzamora",
            "followers_url": "https://api.github.com/users/rjzamora/followers",
            "following_url": "https://api.github.com/users/rjzamora/following{/other_user}",
            "gists_url": "https://api.github.com/users/rjzamora/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rjzamora/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rjzamora/subscriptions",
            "organizations_url": "https://api.github.com/users/rjzamora/orgs",
            "repos_url": "https://api.github.com/users/rjzamora/repos",
            "events_url": "https://api.github.com/users/rjzamora/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rjzamora/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-07-11T17:55:16Z",
        "updated_at": "2021-07-11T17:55:16Z",
        "author_association": "MEMBER",
        "body": ">I think that right now @rjzamora is looking into more extensive typing of dataframes as a start to this process.\r\n\r\nYes, I will soon submit a draft PR demonstrating the basic changes required to enable \"multi-layer\" column projection in Dask-Dataframe and outlining a general design proposal.  The proposed changes are dominated by the need for all collection-based Layers to inherit from a corresponding `<Collection>Layer` class.  For Dask-Dataframe, this will make it easier to track column dependencies between layers (note that I have started working through a simple `set_index` example to explore/test this).  That work also motivates a new `Layer` method to replace itself when one of it's dependencies has changed. ",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/877838696/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/877844391",
        "html_url": "https://github.com/dask/dask/issues/7885#issuecomment-877844391",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/7885",
        "id": 877844391,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg3Nzg0NDM5MQ==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-07-11T18:44:27Z",
        "updated_at": "2021-07-11T18:44:27Z",
        "author_association": "MEMBER",
        "body": "My thinking is that once that is done it should be easier to segment the\ngraph based on layer type, and solve the problem that Joris has in this\nissue.\n\nOn Sun, Jul 11, 2021, 10:55 AM Richard (Rick) Zamora <\n***@***.***> wrote:\n\n> I think that right now @rjzamora <https://github.com/rjzamora> is looking\n> into more extensive typing of dataframes as a start to this process.\n>\n> Yes, I will soon submit a draft PR demonstrating the basic changes\n> required to enable \"multi-layer\" column projection in Dask-Dataframe and\n> outlining a general design proposal. The proposed changes are dominated by\n> the need for all collection-based Layers to inherit from a corresponding\n> <Collection>Layer class. For Dask-Dataframe, this will make it easier to\n> track column dependencies between layers (note that I have started working\n> through a simple set_index example to explore/test this). That work also\n> motivates a new Layer method to replace itself when one of it's\n> dependencies has changed.\n>\n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/dask/dask/issues/7885#issuecomment-877838696>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AACKZTFELEYIO7WY4EU75EDTXHLJBANCNFSM5AELP7FA>\n> .\n>\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/877844391/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/878526467",
        "html_url": "https://github.com/dask/dask/issues/7885#issuecomment-878526467",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/7885",
        "id": 878526467,
        "node_id": "MDEyOklzc3VlQ29tbWVudDg3ODUyNjQ2Nw==",
        "user": {
            "login": "jrbourbeau",
            "id": 11656932,
            "node_id": "MDQ6VXNlcjExNjU2OTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/11656932?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jrbourbeau",
            "html_url": "https://github.com/jrbourbeau",
            "followers_url": "https://api.github.com/users/jrbourbeau/followers",
            "following_url": "https://api.github.com/users/jrbourbeau/following{/other_user}",
            "gists_url": "https://api.github.com/users/jrbourbeau/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jrbourbeau/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jrbourbeau/subscriptions",
            "organizations_url": "https://api.github.com/users/jrbourbeau/orgs",
            "repos_url": "https://api.github.com/users/jrbourbeau/repos",
            "events_url": "https://api.github.com/users/jrbourbeau/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jrbourbeau/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-07-12T19:12:01Z",
        "updated_at": "2021-07-12T19:13:05Z",
        "author_association": "MEMBER",
        "body": "Just cross-referencing another place where something similar came up https://github.com/dask/dask/issues/7545 (cc @chrisroat for visibility) ",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/878526467/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]