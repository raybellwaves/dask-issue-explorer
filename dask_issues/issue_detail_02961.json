{
    "url": "https://api.github.com/repos/dask/dask/issues/2961",
    "repository_url": "https://api.github.com/repos/dask/dask",
    "labels_url": "https://api.github.com/repos/dask/dask/issues/2961/labels{/name}",
    "comments_url": "https://api.github.com/repos/dask/dask/issues/2961/comments",
    "events_url": "https://api.github.com/repos/dask/dask/issues/2961/events",
    "html_url": "https://github.com/dask/dask/issues/2961",
    "id": 279196815,
    "node_id": "MDU6SXNzdWUyNzkxOTY4MTU=",
    "number": 2961,
    "title": "Dask array getitem scalar vs 0-D array",
    "user": {
        "login": "jakirkham",
        "id": 3019665,
        "node_id": "MDQ6VXNlcjMwMTk2NjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jakirkham",
        "html_url": "https://github.com/jakirkham",
        "followers_url": "https://api.github.com/users/jakirkham/followers",
        "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
        "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
        "organizations_url": "https://api.github.com/users/jakirkham/orgs",
        "repos_url": "https://api.github.com/users/jakirkham/repos",
        "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jakirkham/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 242862305,
            "node_id": "MDU6TGFiZWwyNDI4NjIzMDU=",
            "url": "https://api.github.com/repos/dask/dask/labels/array",
            "name": "array",
            "color": "006b75",
            "default": false,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2017-12-05T00:02:39Z",
    "updated_at": "2018-06-13T20:43:47Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "When indexing a Dask array, it will return a 0-D array instead of a scalar. This differs from NumPy's behavior. Fixing this is straightforward if we are ok leaving 0-D arrays behind.\r\n\r\nWith a NumPy array, slicing with an empty tuple (e.g. `a[()]`) typically converts a 0-D array to a scalar. Alternatively NumPy scalars can be converted to 0-D arrays by slicing using `Ellipsis` (e.g. `v[...]`). The latter already works correctly with Dask arrays since 0-D arrays are always returned. However the former does not.\r\n\r\n<details>\r\n<summary>Example</summary>\r\n\r\n```python\r\nIn [1]: import numpy as np\r\n\r\nIn [2]: import dask.array as da\r\n\r\nIn [3]: a1 = np.zeros((1, 1))\r\n\r\nIn [4]: d1 = da.from_array(a1, chunks=1)\r\n\r\nIn [5]: a2 = np.array(0.0)\r\n\r\nIn [6]: d2 = da.from_array(a2, chunks=1)\r\n\r\nIn [7]: a1[0, 0]\r\nOut[7]: 0.0\r\n\r\nIn [8]: d1[0, 0]\r\nOut[8]: dask.array<getitem, shape=(), dtype=float64, chunksize=()>\r\n\r\nIn [9]: d1[0, 0].compute()\r\nOut[9]: array(0.0)\r\n\r\nIn [10]: a2[()]\r\nOut[10]: 0.0\r\n\r\nIn [11]: d2[()]\r\nOut[11]: dask.array<array, shape=(), dtype=float64, chunksize=()>\r\n\r\nIn [12]: d2[()].compute()\r\nOut[12]: array(0.0)\r\n\r\nIn [13]: a2[()][...]\r\nOut[13]: array(0.0)\r\n\r\nIn [14]: d2[()][...]\r\nOut[14]: dask.array<array, shape=(), dtype=float64, chunksize=()>\r\n\r\nIn [15]: d2[()][...].compute()\r\nOut[15]: array(0.0)\r\n```\r\n\r\n</details>\r\n\r\n<br>\r\n\r\n<details>\r\n<summary>Environment</summary>\r\n\r\n```yaml\r\nname: test\r\nchannels:\r\n- conda-forge\r\n- defaults\r\ndependencies:\r\n- appnope=0.1.0=py36_0\r\n- blas=1.1=openblas\r\n- bokeh=0.12.11=py36_0\r\n- ca-certificates=2017.11.5=0\r\n- certifi=2017.11.5=py36_0\r\n- click=6.7=py36_0\r\n- cloudpickle=0.4.0=py36_0\r\n- dask=0.16.0=py_0\r\n- dask-core=0.16.0=py_0\r\n- decorator=4.1.2=py36_0\r\n- distributed=1.20.1=py36_0\r\n- heapdict=1.0.0=py36_0\r\n- ipython=6.2.1=py36_0\r\n- ipython_genutils=0.2.0=py36_0\r\n- jedi=0.10.2=py36_0\r\n- jinja2=2.10=py36_0\r\n- libgfortran=3.0.0=0\r\n- locket=0.2.0=py36_1\r\n- markupsafe=1.0=py36_0\r\n- msgpack-python=0.4.8=py36_0\r\n- ncurses=5.9=10\r\n- numpy=1.13.3=py36_blas_openblas_201\r\n- openblas=0.2.20=6\r\n- openssl=1.0.2m=0\r\n- pandas=0.21.0=py36_0\r\n- partd=0.3.8=py36_0\r\n- pexpect=4.3.0=py36_0\r\n- pickleshare=0.7.4=py36_0\r\n- pip=9.0.1=py36_0\r\n- prompt_toolkit=1.0.15=py36_0\r\n- psutil=5.4.0=py36_0\r\n- ptyprocess=0.5.2=py36_0\r\n- pygments=2.2.0=py36_0\r\n- python=3.6.3=1\r\n- python-dateutil=2.6.1=py36_0\r\n- pytz=2017.3=py_2\r\n- pyyaml=3.12=py36_1\r\n- readline=6.2=0\r\n- setuptools=38.2.3=py36_0\r\n- simplegeneric=0.8.1=py36_0\r\n- six=1.11.0=py36_1\r\n- sortedcontainers=1.5.7=py36_0\r\n- sqlite=3.13.0=1\r\n- tblib=1.3.2=py36_0\r\n- tk=8.5.19=2\r\n- toolz=0.8.2=py_2\r\n- tornado=4.5.2=py36_0\r\n- traitlets=4.3.2=py36_0\r\n- wcwidth=0.1.7=py36_0\r\n- wheel=0.30.0=py_1\r\n- xz=5.2.3=0\r\n- yaml=0.1.7=0\r\n- zict=0.1.3=py_0\r\n- zlib=1.2.11=0\r\n```\r\n\r\n</details>",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/dask/dask/issues/2961/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/dask/dask/issues/2961/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}