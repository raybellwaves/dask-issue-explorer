[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/142663092",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-142663092",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 142663092,
        "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjY2MzA5Mg==",
        "user": {
            "login": "jcrist",
            "id": 2783717,
            "node_id": "MDQ6VXNlcjI3ODM3MTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2783717?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jcrist",
            "html_url": "https://github.com/jcrist",
            "followers_url": "https://api.github.com/users/jcrist/followers",
            "following_url": "https://api.github.com/users/jcrist/following{/other_user}",
            "gists_url": "https://api.github.com/users/jcrist/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jcrist/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jcrist/subscriptions",
            "organizations_url": "https://api.github.com/users/jcrist/orgs",
            "repos_url": "https://api.github.com/users/jcrist/repos",
            "events_url": "https://api.github.com/users/jcrist/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jcrist/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2015-09-23T17:00:45Z",
        "updated_at": "2015-09-23T17:00:45Z",
        "author_association": "MEMBER",
        "body": "I'm working on this. For single argument ufuncs, this is fairly simple. I'm uncertain how to handle functions with multiple arguments (or operators), as the slicing can't be pushed to all arguments due to broadcasting:\n\n``` python\nIn [87]: a = np.arange(27).reshape((3, 3, 3))\n\nIn [88]: b = np.arange(9).reshape((3, 3))\n\nIn [89]: (a + b)[0]\nOut[89]:\narray([[ 0,  2,  4],\n       [ 6,  8, 10],\n       [12, 14, 16]])\n\nIn [90]: a[0] + b[0]\nOut[90]:\narray([[ 0,  2,  4],\n       [ 3,  5,  7],\n       [ 6,  8, 10]])\n```\n\nSuggestions on how to properly handle this would be appreciated.\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/142663092/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/142666641",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-142666641",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 142666641,
        "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjY2NjY0MQ==",
        "user": {
            "login": "shoyer",
            "id": 1217238,
            "node_id": "MDQ6VXNlcjEyMTcyMzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1217238?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shoyer",
            "html_url": "https://github.com/shoyer",
            "followers_url": "https://api.github.com/users/shoyer/followers",
            "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
            "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
            "organizations_url": "https://api.github.com/users/shoyer/orgs",
            "repos_url": "https://api.github.com/users/shoyer/repos",
            "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shoyer/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2015-09-23T17:11:15Z",
        "updated_at": "2015-09-23T17:11:15Z",
        "author_association": "MEMBER",
        "body": "I think we should insert an explicit broadcasting step into `elemwise` using the dask equivalent of `np.broadcast_arrays`. We can build this up out of `broadcast_to`, though we'll need our own code to calculate the target shape. Then, we can simply index into each non-scalar argument, because they will all be the same shape.\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/142666641/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/142669303",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-142669303",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 142669303,
        "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjY2OTMwMw==",
        "user": {
            "login": "shoyer",
            "id": 1217238,
            "node_id": "MDQ6VXNlcjEyMTcyMzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1217238?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shoyer",
            "html_url": "https://github.com/shoyer",
            "followers_url": "https://api.github.com/users/shoyer/followers",
            "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
            "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
            "organizations_url": "https://api.github.com/users/shoyer/orgs",
            "repos_url": "https://api.github.com/users/shoyer/repos",
            "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shoyer/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2015-09-23T17:17:09Z",
        "updated_at": "2015-09-23T17:17:09Z",
        "author_association": "MEMBER",
        "body": "It's possibly worth copying NumPy's unit tests from `_broadcast_shape` in `numpy.lib.stride_tricks`: https://github.com/numpy/numpy/blob/941a4e037d394dada43e3c2beef1e650d5505742/numpy/lib/tests/test_stride_tricks.py#L267\n\nHowever, the current implementation only works on NumPy arrays because it uses the NumPy array iterator: https://github.com/numpy/numpy/blob/941a4e037d394dada43e3c2beef1e650d5505742/numpy/lib/stride_tricks.py#L115\n\nThere's some code at does this calculation in an old version of stride_tricks, but I suspect you could simply it considerably:\nhttps://github.com/numpy/numpy/blob/edb902cdc6573553afcf11047ecdfb447e444322/numpy/lib/stride_tricks.py#L81-L118\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/142669303/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/142702700",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-142702700",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 142702700,
        "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjcwMjcwMA==",
        "user": {
            "login": "jcrist",
            "id": 2783717,
            "node_id": "MDQ6VXNlcjI3ODM3MTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2783717?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jcrist",
            "html_url": "https://github.com/jcrist",
            "followers_url": "https://api.github.com/users/jcrist/followers",
            "following_url": "https://api.github.com/users/jcrist/following{/other_user}",
            "gists_url": "https://api.github.com/users/jcrist/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jcrist/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jcrist/subscriptions",
            "organizations_url": "https://api.github.com/users/jcrist/orgs",
            "repos_url": "https://api.github.com/users/jcrist/repos",
            "events_url": "https://api.github.com/users/jcrist/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jcrist/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2015-09-23T19:20:31Z",
        "updated_at": "2015-09-23T19:20:31Z",
        "author_association": "MEMBER",
        "body": "After experimenting with this for a bit, it seems that explicitly calling `broadcast_to` in the graph is 20% slower on simplistic cases (summing a 500x500x500 array with a 500x500 one, chunked by 250 in each dimension). I tried a few other cases, and saw similar numbers. This may be insignificant in real cases, I'm not certain. I suspect it will have an impact though, as elementwise computations are pretty common.\n\nAnother option would be to special case the  `getitem` instead, doing the broadcasting inside the selection after the rewrite. This wouldn't penalize normal operation, and would allow the rewriting you want. Downside is that it's `yet-another-get*-function`, and may not play nice with the other optimizations. I like this option better though.\n\nThoughts?\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/142702700/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/142703147",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-142703147",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 142703147,
        "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjcwMzE0Nw==",
        "user": {
            "login": "shoyer",
            "id": 1217238,
            "node_id": "MDQ6VXNlcjEyMTcyMzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1217238?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shoyer",
            "html_url": "https://github.com/shoyer",
            "followers_url": "https://api.github.com/users/shoyer/followers",
            "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
            "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
            "organizations_url": "https://api.github.com/users/shoyer/orgs",
            "repos_url": "https://api.github.com/users/shoyer/repos",
            "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shoyer/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2015-09-23T19:22:34Z",
        "updated_at": "2015-09-23T19:22:34Z",
        "author_association": "MEMBER",
        "body": "20% slower at compute or compile time?\n\nOn Wed, Sep 23, 2015 at 12:20 PM, Jim Crist notifications@github.com\nwrote:\n\n> After experimenting with this for a bit, it seems that explicitly calling\n> broadcast_to in the graph is 20% slower on simplistic cases (summing a\n> 500x500x500 array with a 500x500 one, chunked by 250 in each dimension). I\n> tried a few other cases, and saw similar numbers. This may be insignificant\n> in real cases, I'm not certain. I suspect it will have an impact though, as\n> elementwise computations are pretty common.\n> \n> Another option would be to special case the getitem instead, doing the\n> broadcasting inside the selection after the rewrite. This wouldn't penalize\n> normal operation, and would allow the rewriting you want. Downside is that\n> it's yet-another-get*-function, and may not play nice with the other\n> optimizations. I like this option better though.\n> \n> Thoughts?\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/blaze/dask/issues/746#issuecomment-142702700.\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/142703147/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/142705613",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-142705613",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 142705613,
        "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjcwNTYxMw==",
        "user": {
            "login": "jcrist",
            "id": 2783717,
            "node_id": "MDQ6VXNlcjI3ODM3MTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2783717?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jcrist",
            "html_url": "https://github.com/jcrist",
            "followers_url": "https://api.github.com/users/jcrist/followers",
            "following_url": "https://api.github.com/users/jcrist/following{/other_user}",
            "gists_url": "https://api.github.com/users/jcrist/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jcrist/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jcrist/subscriptions",
            "organizations_url": "https://api.github.com/users/jcrist/orgs",
            "repos_url": "https://api.github.com/users/jcrist/repos",
            "events_url": "https://api.github.com/users/jcrist/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jcrist/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2015-09-23T19:32:09Z",
        "updated_at": "2015-09-23T19:32:09Z",
        "author_association": "MEMBER",
        "body": "``` python\nIn [13]: a = np.arange(500**3).reshape((500, 500, 500))\n\nIn [14]: b = np.arange(500**2).reshape((500, 500))\n\nIn [15]: t = da.from_array(a, chunks=(250, 250, 250))\n\nIn [16]: s = da.from_array(b, chunks=(250, 250))\n\nIn [17]: s2 = da.broadcast_to(s, t.shape)\n\nIn [18]: o = t + s\n\nIn [19]: o2 = t + s2\n\nIn [20]: %timeit o.compute()\n1 loops, best of 3: 807 ms per loop\n\nIn [21]: %timeit o2.compute()\n1 loops, best of 3: 1.02 s per loop\n```\n\nAgain, toy computation, probably not representative of real world things.\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/142705613/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/142715268",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-142715268",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 142715268,
        "node_id": "MDEyOklzc3VlQ29tbWVudDE0MjcxNTI2OA==",
        "user": {
            "login": "shoyer",
            "id": 1217238,
            "node_id": "MDQ6VXNlcjEyMTcyMzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1217238?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shoyer",
            "html_url": "https://github.com/shoyer",
            "followers_url": "https://api.github.com/users/shoyer/followers",
            "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
            "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
            "organizations_url": "https://api.github.com/users/shoyer/orgs",
            "repos_url": "https://api.github.com/users/shoyer/repos",
            "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shoyer/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2015-09-23T20:11:39Z",
        "updated_at": "2015-09-23T20:11:39Z",
        "author_association": "MEMBER",
        "body": "Hmm. Might be worth a shot trying `getitem_from_broadcasted` then. \n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/142715268/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/142758025",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-142758025",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 142758025,
        "node_id": "MDEyOklzc3VlQ29tbWVudDE0Mjc1ODAyNQ==",
        "user": {
            "login": "jcrist",
            "id": 2783717,
            "node_id": "MDQ6VXNlcjI3ODM3MTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2783717?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jcrist",
            "html_url": "https://github.com/jcrist",
            "followers_url": "https://api.github.com/users/jcrist/followers",
            "following_url": "https://api.github.com/users/jcrist/following{/other_user}",
            "gists_url": "https://api.github.com/users/jcrist/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jcrist/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jcrist/subscriptions",
            "organizations_url": "https://api.github.com/users/jcrist/orgs",
            "repos_url": "https://api.github.com/users/jcrist/repos",
            "events_url": "https://api.github.com/users/jcrist/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jcrist/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2015-09-23T23:19:24Z",
        "updated_at": "2015-09-23T23:19:24Z",
        "author_association": "MEMBER",
        "body": "So I'm running into a problem - the following won't work with non-array objects (hdf5 files, etc...). \n\n``` python\ndef getitem_from_broadcasted(arg, index, outshape):\n    return np.broadcast_to(arg, outshape)[index]\n```\n\nFor indexing/slicing operations, I can transform the index appropriately with a little extra logic to remove the need to call `broadcast_to`. I'm unsure if the same can be done for indexing with boolean or integer arrays.\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/142758025/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/142758883",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-142758883",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 142758883,
        "node_id": "MDEyOklzc3VlQ29tbWVudDE0Mjc1ODg4Mw==",
        "user": {
            "login": "shoyer",
            "id": 1217238,
            "node_id": "MDQ6VXNlcjEyMTcyMzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1217238?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shoyer",
            "html_url": "https://github.com/shoyer",
            "followers_url": "https://api.github.com/users/shoyer/followers",
            "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
            "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
            "organizations_url": "https://api.github.com/users/shoyer/orgs",
            "repos_url": "https://api.github.com/users/shoyer/repos",
            "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shoyer/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2015-09-23T23:26:29Z",
        "updated_at": "2015-09-23T23:26:29Z",
        "author_association": "MEMBER",
        "body": "As long as you aren't doing vectorized fancy indexing stuff, you can treat each axis independently. Then indexing into a synthetically enlarged axis is pretty simple: just grab the approach number of elements (preferably using broadcast_to), since they will all be duplicated.\n\nOn Wed, Sep 23, 2015 at 4:19 PM, Jim Crist notifications@github.com\nwrote:\n\n> So I'm running into a problem - the following won't work with non-array objects (hdf5 files, etc...). \n> \n> ``` python\n> def getitem_from_broadcasted(arg, index, outshape):\n>     return np.broadcast_to(arg, outshape)[index]\n> ```\n> \n> ## For indexing/slicing operations, I can transform the index appropriately with a little extra logic to remove the need to call `broadcast_to`. I'm unsure if the same can be done for indexing with boolean or integer arrays.\n> \n> Reply to this email directly or view it on GitHub:\n> https://github.com/blaze/dask/issues/746#issuecomment-142758025\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/142758883/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/142987805",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-142987805",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 142987805,
        "node_id": "MDEyOklzc3VlQ29tbWVudDE0Mjk4NzgwNQ==",
        "user": {
            "login": "jcrist",
            "id": 2783717,
            "node_id": "MDQ6VXNlcjI3ODM3MTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2783717?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jcrist",
            "html_url": "https://github.com/jcrist",
            "followers_url": "https://api.github.com/users/jcrist/followers",
            "following_url": "https://api.github.com/users/jcrist/following{/other_user}",
            "gists_url": "https://api.github.com/users/jcrist/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jcrist/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jcrist/subscriptions",
            "organizations_url": "https://api.github.com/users/jcrist/orgs",
            "repos_url": "https://api.github.com/users/jcrist/repos",
            "events_url": "https://api.github.com/users/jcrist/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jcrist/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2015-09-24T16:56:37Z",
        "updated_at": "2015-09-24T16:57:08Z",
        "author_association": "MEMBER",
        "body": "So would it be fine if this optimization pass only worked on indexes composed of slices, ellipsis, or single integers (don't perform the rewrite if not composed of these)?\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/142987805/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/142989174",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-142989174",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 142989174,
        "node_id": "MDEyOklzc3VlQ29tbWVudDE0Mjk4OTE3NA==",
        "user": {
            "login": "shoyer",
            "id": 1217238,
            "node_id": "MDQ6VXNlcjEyMTcyMzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1217238?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shoyer",
            "html_url": "https://github.com/shoyer",
            "followers_url": "https://api.github.com/users/shoyer/followers",
            "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
            "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
            "organizations_url": "https://api.github.com/users/shoyer/orgs",
            "repos_url": "https://api.github.com/users/shoyer/repos",
            "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shoyer/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2015-09-24T17:01:15Z",
        "updated_at": "2015-09-24T17:01:15Z",
        "author_association": "MEMBER",
        "body": "Indexing with 1D arrays is also pretty important. I don't think that's much\nharder than doing slices. Slices, ellipsis and single integers would be a\ngood start, though, and I can see if there's an obvious way to extend that.\n\nOn Thu, Sep 24, 2015 at 9:56 AM, Jim Crist notifications@github.com wrote:\n\n> So would it be fine if this optimization pass only worked on indexes\n> composed of slices, ellipsis, or single integers?\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/blaze/dask/issues/746#issuecomment-142987805.\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/142989174/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/348859351",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-348859351",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 348859351,
        "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODg1OTM1MQ==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-12-04T04:43:36Z",
        "updated_at": "2017-12-04T04:43:36Z",
        "author_association": "MEMBER",
        "body": "Have there been any more recent PRs on this topic since the one mentioned in the OP? What are the current issues still facing this issue?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/348859351/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/348864955",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-348864955",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 348864955,
        "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODg2NDk1NQ==",
        "user": {
            "login": "shoyer",
            "id": 1217238,
            "node_id": "MDQ6VXNlcjEyMTcyMzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1217238?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shoyer",
            "html_url": "https://github.com/shoyer",
            "followers_url": "https://api.github.com/users/shoyer/followers",
            "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
            "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
            "organizations_url": "https://api.github.com/users/shoyer/orgs",
            "repos_url": "https://api.github.com/users/shoyer/repos",
            "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shoyer/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-12-04T05:37:19Z",
        "updated_at": "2017-12-04T05:37:19Z",
        "author_association": "MEMBER",
        "body": "Even the single argument version of this would be enough to solve xarray's lazy decoding issue, I think. (We would technically need binary arithmetic between an array and a scalar, but that can be mapped into the single argument version.)",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/348864955/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/406747566",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-406747566",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 406747566,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjc0NzU2Ng==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-07-20T23:04:24Z",
        "updated_at": "2018-07-20T23:04:24Z",
        "author_association": "MEMBER",
        "body": "Do you have any advice, @jcrist, regarding the single argument version? Maybe a PR or write-up that might be a useful starting point?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/406747566/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/406754283",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-406754283",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 406754283,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjc1NDI4Mw==",
        "user": {
            "login": "shoyer",
            "id": 1217238,
            "node_id": "MDQ6VXNlcjEyMTcyMzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1217238?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shoyer",
            "html_url": "https://github.com/shoyer",
            "followers_url": "https://api.github.com/users/shoyer/followers",
            "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
            "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
            "organizations_url": "https://api.github.com/users/shoyer/orgs",
            "repos_url": "https://api.github.com/users/shoyer/repos",
            "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shoyer/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-07-21T00:02:05Z",
        "updated_at": "2018-07-21T00:02:05Z",
        "author_association": "MEMBER",
        "body": "Over in https://github.com/pydata/xarray/issues/2298, @mrocklin mentioned https://github.com/dask/dask/issues/2538 as another way to solve this problem, which looks like a great potential solution for this problem. It seems like some of the geoscience/astronomy use-cases could really use the ability to perform this optimization on arrays that are functions of multiple arguments.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/406754283/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/434195817",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-434195817",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 434195817,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDE5NTgxNw==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-10-30T07:18:01Z",
        "updated_at": "2018-10-30T07:18:01Z",
        "author_association": "MEMBER",
        "body": "Given the recent optimizations that went in, is this one still outstanding or has it been addressed?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/434195817/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/434209379",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-434209379",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 434209379,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDIwOTM3OQ==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-10-30T08:15:22Z",
        "updated_at": "2018-10-30T08:15:22Z",
        "author_association": "MEMBER",
        "body": "It has not been addressed\n\nOn Tue, Oct 30, 2018 at 3:18 AM jakirkham <notifications@github.com> wrote:\n\n> Given the recent optimizations that went in, is this one still outstanding\n> or has it been addressed?\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/dask/dask/issues/746#issuecomment-434195817>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AASszC-yJf3VYVmFxU51NbNVp4a8BFfbks5up_0rgaJpZM4GB8UG>\n> .\n>\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/434209379/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/435954202",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-435954202",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 435954202,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTk1NDIwMg==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-11-05T17:07:58Z",
        "updated_at": "2018-11-05T17:07:58Z",
        "author_association": "MEMBER",
        "body": "As an interesting related case, would submit `key = mask`.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/435954202/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/439535180",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-439535180",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 439535180,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTUzNTE4MA==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-11-16T21:31:56Z",
        "updated_at": "2018-11-16T21:31:56Z",
        "author_association": "MEMBER",
        "body": "FWIW a colleague voiced interest in solving `map_blocks` cases with selection using a similar optimization. Expect the use case is not too different from the ones that motivated opening this issue in the first place.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/439535180/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/439994860",
        "html_url": "https://github.com/dask/dask/issues/746#issuecomment-439994860",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/746",
        "id": 439994860,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTk5NDg2MA==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-11-19T18:30:23Z",
        "updated_at": "2018-11-19T18:30:23Z",
        "author_association": "MEMBER",
        "body": "Should add `map_overlap` would be another case where this would be nice to solve. However given the operation is overlapping it's not really a `ufunc` and is probably different enough to deserve its own issue.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/439994860/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]