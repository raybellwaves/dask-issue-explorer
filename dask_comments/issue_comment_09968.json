[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1433364036",
        "html_url": "https://github.com/dask/dask/issues/9968#issuecomment-1433364036",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9968",
        "id": 1433364036,
        "node_id": "IC_kwDOAbcwm85Vb2ZE",
        "user": {
            "login": "jrbourbeau",
            "id": 11656932,
            "node_id": "MDQ6VXNlcjExNjU2OTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/11656932?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jrbourbeau",
            "html_url": "https://github.com/jrbourbeau",
            "followers_url": "https://api.github.com/users/jrbourbeau/followers",
            "following_url": "https://api.github.com/users/jrbourbeau/following{/other_user}",
            "gists_url": "https://api.github.com/users/jrbourbeau/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jrbourbeau/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jrbourbeau/subscriptions",
            "organizations_url": "https://api.github.com/users/jrbourbeau/orgs",
            "repos_url": "https://api.github.com/users/jrbourbeau/repos",
            "events_url": "https://api.github.com/users/jrbourbeau/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jrbourbeau/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-16T16:29:40Z",
        "updated_at": "2023-02-16T16:29:40Z",
        "author_association": "MEMBER",
        "body": "Thanks for writing this up @j-bennet! Just wanted to note that it looks like https://github.com/apache/arrow/issues/24440 was closed as part of the `pyarrow=0.17.0` release (IIUC). Our current minimum is `pyarrow=1.0` so we should be good to integrate the new `pyarrow` code \ud83d\udc4d ",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1433364036/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1433443172",
        "html_url": "https://github.com/dask/dask/issues/9968#issuecomment-1433443172",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9968",
        "id": 1433443172,
        "node_id": "IC_kwDOAbcwm85VcJtk",
        "user": {
            "login": "rjzamora",
            "id": 20461013,
            "node_id": "MDQ6VXNlcjIwNDYxMDEz",
            "avatar_url": "https://avatars.githubusercontent.com/u/20461013?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rjzamora",
            "html_url": "https://github.com/rjzamora",
            "followers_url": "https://api.github.com/users/rjzamora/followers",
            "following_url": "https://api.github.com/users/rjzamora/following{/other_user}",
            "gists_url": "https://api.github.com/users/rjzamora/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rjzamora/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rjzamora/subscriptions",
            "organizations_url": "https://api.github.com/users/rjzamora/orgs",
            "repos_url": "https://api.github.com/users/rjzamora/repos",
            "events_url": "https://api.github.com/users/rjzamora/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rjzamora/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-16T17:20:53Z",
        "updated_at": "2023-02-16T17:20:53Z",
        "author_association": "MEMBER",
        "body": "Thanks for writing this up. I agree that it makes sense to re-introduce `write_to_dataset` if possible. Dask-cuDF is using it's own version of `write_to_dataset` in `CudfEngine.write_partition`, so RAPIDS isn't a blocker.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1433443172/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1456900084",
        "html_url": "https://github.com/dask/dask/issues/9968#issuecomment-1456900084",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9968",
        "id": 1456900084,
        "node_id": "IC_kwDOAbcwm85W1of0",
        "user": {
            "login": "rjzamora",
            "id": 20461013,
            "node_id": "MDQ6VXNlcjIwNDYxMDEz",
            "avatar_url": "https://avatars.githubusercontent.com/u/20461013?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rjzamora",
            "html_url": "https://github.com/rjzamora",
            "followers_url": "https://api.github.com/users/rjzamora/followers",
            "following_url": "https://api.github.com/users/rjzamora/following{/other_user}",
            "gists_url": "https://api.github.com/users/rjzamora/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rjzamora/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rjzamora/subscriptions",
            "organizations_url": "https://api.github.com/users/rjzamora/orgs",
            "repos_url": "https://api.github.com/users/rjzamora/repos",
            "events_url": "https://api.github.com/users/rjzamora/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rjzamora/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-03-06T20:11:23Z",
        "updated_at": "2023-03-06T20:11:23Z",
        "author_association": "MEMBER",
        "body": "I explored this issue today and found that the latest `pyarrow.parquet.write_to_dataset` implementation works very nicely for **most** cases (it even handles null hive partitions correctly).\r\n\r\nThe problem, however, is that Dask requires the base filename for a specific `write_to_dataset` call to be the same for all partitions. For example, when writing out the 3rd dask partition into multiple \"month\" hive partitions, we want our files to have names like `root_path/month=1/part.3.parquet`  and `root_path/month=2/part.3.parquet` (all having the same deterministic base name). It used to be possible to do this with the `partition_filename_cb` argument, but that argument has now been deprecated in favor of a `basename_template` argument that is **required** to contain a `\"{i}\"` wildcard string.\r\n\r\n@jorisvandenbossche - Am I understanding this `basename_template` restriction correctly? Do you think pyarrow would be able to relax this restriction in the future (i.e. allow something like `basename_template=\"part.3.parquet\"`)?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1456900084/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]