[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1656241823",
        "html_url": "https://github.com/dask/dask/issues/10433#issuecomment-1656241823",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/10433",
        "id": 1656241823,
        "node_id": "IC_kwDOAbcwm85iuD6f",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-07-28T19:53:39Z",
        "updated_at": "2023-07-28T19:53:39Z",
        "author_association": "MEMBER",
        "body": "Hi @jordan-jack-schneider \ud83d\udc4b \r\n\r\nI don't mind.  I imagine other folks would enjoy it as well.  If you wanted to be careful though you'd wait until Monday.  Some of the folks who probably care about this may be off enjoying their weekend already.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1656241823/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1674970028",
        "html_url": "https://github.com/dask/dask/issues/10433#issuecomment-1674970028",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/10433",
        "id": 1674970028,
        "node_id": "IC_kwDOAbcwm85j1gOs",
        "user": {
            "login": "jakkdl",
            "id": 11260241,
            "node_id": "MDQ6VXNlcjExMjYwMjQx",
            "avatar_url": "https://avatars.githubusercontent.com/u/11260241?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakkdl",
            "html_url": "https://github.com/jakkdl",
            "followers_url": "https://api.github.com/users/jakkdl/followers",
            "following_url": "https://api.github.com/users/jakkdl/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakkdl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakkdl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakkdl/subscriptions",
            "organizations_url": "https://api.github.com/users/jakkdl/orgs",
            "repos_url": "https://api.github.com/users/jakkdl/repos",
            "events_url": "https://api.github.com/users/jakkdl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakkdl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-08-11T15:24:52Z",
        "updated_at": "2023-08-11T15:24:52Z",
        "author_association": "NONE",
        "body": "The factory functions for creating `Bag` objects will hit the problem of https://github.com/python/mypy/issues/6073 due to [functions not being subscriptable](https://peps.python.org/pep-0718/), and require somewhat nasty workarounds as done in trio: https://github.com/python-trio/trio/blob/master/trio/_channel.py#L90 plus https://github.com/python-trio/trio/blob/master/trio/_util.py#L274",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1674970028/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1699003770",
        "html_url": "https://github.com/dask/dask/issues/10433#issuecomment-1699003770",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/10433",
        "id": 1699003770,
        "node_id": "IC_kwDOAbcwm85lRL16",
        "user": {
            "login": "jakkdl",
            "id": 11260241,
            "node_id": "MDQ6VXNlcjExMjYwMjQx",
            "avatar_url": "https://avatars.githubusercontent.com/u/11260241?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakkdl",
            "html_url": "https://github.com/jakkdl",
            "followers_url": "https://api.github.com/users/jakkdl/followers",
            "following_url": "https://api.github.com/users/jakkdl/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakkdl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakkdl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakkdl/subscriptions",
            "organizations_url": "https://api.github.com/users/jakkdl/orgs",
            "repos_url": "https://api.github.com/users/jakkdl/repos",
            "events_url": "https://api.github.com/users/jakkdl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakkdl/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-08-30T11:44:04Z",
        "updated_at": "2023-09-16T10:48:11Z",
        "author_association": "NONE",
        "body": "I started looking at this, and some basic cases and methods can definitely be typed, but I'm quickly hitting problems.\r\n\r\nSeveral methods aren't possible to fully type without [higher kinded types](https://returns.readthedocs.io/en/latest/pages/hkt.html), especially for cases when `Bag` is subclassed. e.g. `starmap` and `map_partitions` should return `Self[T]`.\r\n\r\nAnd then there are lots of functions that are ~impossible to fully correctly type: `map` has complicated logic for determining the return type, `pluck` and `unzip` are pretty impossible (although you can sort out a couple cases with overloads), for `mean` it *might* be possible to catch type errors if the object in the bag can't be summed with `float`, and probably lots more.\r\n\r\n\r\n> The factory functions for creating `Bag` objects will hit the problem of [python/mypy#6073](https://github.com/python/mypy/issues/6073) due to [functions not being subscriptable](https://peps.python.org/pep-0718/), and require somewhat nasty workarounds as done in trio: https://github.com/python-trio/trio/blob/master/trio/_channel.py#L90 plus https://github.com/python-trio/trio/blob/master/trio/_util.py#L274\r\n\r\nI think this probably isn't too much of a problem though",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1699003770/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]