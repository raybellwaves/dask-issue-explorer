[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/348618038",
        "html_url": "https://github.com/dask/dask/issues/2911#issuecomment-348618038",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2911",
        "id": 348618038,
        "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODYxODAzOA==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-12-01T21:24:34Z",
        "updated_at": "2017-12-01T21:24:34Z",
        "author_association": "MEMBER",
        "body": "Some quick first impressions:\r\n\r\n1.  We might want to include operations like sort, but note that they probably aren't very doable\r\n2.  Many of the missing ufuncs (divide, ceil, ...) *are* handled by `__array_ufunc__`.  I guess there is still value to implementing these explicitly for older versions of NumPy.\r\n3.  Some sort of grid layout might be more pleasant.  I have no particular objection to moving this to the docs.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/348618038/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/349379648",
        "html_url": "https://github.com/dask/dask/issues/2911#issuecomment-349379648",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2911",
        "id": 349379648,
        "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTM3OTY0OA==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-12-05T17:33:27Z",
        "updated_at": "2017-12-05T17:33:27Z",
        "author_association": "MEMBER",
        "body": "Agreed.\r\n\r\nTrue. More generally we might want to survey what versions of NumPy are used with Dask. Not sure if this data is reported by `conda` somehow.\r\n\r\nAgreed. Will give it some thought during the migration to the docs.\r\n\r\nAs more follow-up to the last point, are you thinking to group these as well? Should add am planning to add things like `numpy.fft`/`da.fft` and `numpy.linalg`/`da.linalg`. How do you imagine these fit in with the grid layout?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/349379648/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/349380062",
        "html_url": "https://github.com/dask/dask/issues/2911#issuecomment-349380062",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2911",
        "id": 349380062,
        "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTM4MDA2Mg==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-12-05T17:34:49Z",
        "updated_at": "2017-12-05T17:34:49Z",
        "author_association": "MEMBER",
        "body": "I haven't thought about how to lay them out intelligently at all.\n\nOn Tue, Dec 5, 2017 at 12:33 PM, jakirkham <notifications@github.com> wrote:\n\n> Agreed.\n>\n> True. More generally we might want to survey what versions of NumPy are\n> used with Dask. Not sure if this data is reported by conda somehow.\n>\n> Agreed. Will give it some thought during the migration to the docs.\n>\n> As more follow-up to the last point, are you thinking to group these as\n> well? Should add am planning to add things like numpy.fft/da.fft and\n> numpy.linalg/da.linalg. How do you imagine these fit in with the grid\n> layout?\n>\n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/dask/dask/issues/2911#issuecomment-349379648>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AASszIheEsGncxeGWLgUasdWhSEJvIFjks5s9X5ogaJpZM4Qjup8>\n> .\n>\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/349380062/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/349381782",
        "html_url": "https://github.com/dask/dask/issues/2911#issuecomment-349381782",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2911",
        "id": 349381782,
        "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTM4MTc4Mg==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-12-05T17:40:19Z",
        "updated_at": "2017-12-05T17:40:19Z",
        "author_association": "MEMBER",
        "body": "Ok. No worries. I'll try something when putting them in the docs and we can discuss in that PR in more detail.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/349381782/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/400161954",
        "html_url": "https://github.com/dask/dask/issues/2911#issuecomment-400161954",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2911",
        "id": 400161954,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDE2MTk1NA==",
        "user": {
            "login": "rabernat",
            "id": 1197350,
            "node_id": "MDQ6VXNlcjExOTczNTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1197350?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rabernat",
            "html_url": "https://github.com/rabernat",
            "followers_url": "https://api.github.com/users/rabernat/followers",
            "following_url": "https://api.github.com/users/rabernat/following{/other_user}",
            "gists_url": "https://api.github.com/users/rabernat/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rabernat/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rabernat/subscriptions",
            "organizations_url": "https://api.github.com/users/rabernat/orgs",
            "repos_url": "https://api.github.com/users/rabernat/repos",
            "events_url": "https://api.github.com/users/rabernat/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rabernat/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-06-26T02:57:59Z",
        "updated_at": "2018-06-26T02:57:59Z",
        "author_association": "MEMBER",
        "body": "I just encountered a need for a blocked `histogram2d`: https://docs.scipy.org/doc/numpy/reference/generated/numpy.histogram2d.html\r\n\r\nI am voicing my support for adding this function to dask.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/400161954/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/422401799",
        "html_url": "https://github.com/dask/dask/issues/2911#issuecomment-422401799",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2911",
        "id": 422401799,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjQwMTc5OQ==",
        "user": {
            "login": "rabernat",
            "id": 1197350,
            "node_id": "MDQ6VXNlcjExOTczNTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1197350?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rabernat",
            "html_url": "https://github.com/rabernat",
            "followers_url": "https://api.github.com/users/rabernat/followers",
            "following_url": "https://api.github.com/users/rabernat/following{/other_user}",
            "gists_url": "https://api.github.com/users/rabernat/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rabernat/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rabernat/subscriptions",
            "organizations_url": "https://api.github.com/users/rabernat/orgs",
            "repos_url": "https://api.github.com/users/rabernat/repos",
            "events_url": "https://api.github.com/users/rabernat/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rabernat/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-09-18T13:52:41Z",
        "updated_at": "2018-09-18T13:52:41Z",
        "author_association": "MEMBER",
        "body": "@dhruvbalwada: implementing histogram2d and histogramdd within dask would be an excellent way to proceed on the project we discussed regarding evaluating statistics of our high-resolution simulations. This would allow you to trivially compute, for example, the 2D histogram of vorticity and divergence for a very large dataset.\r\n\r\nAlternatively, we could try to use [datashader](http://holoviews.org/user_guide/Large_Data.html) for this.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/422401799/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/422409721",
        "html_url": "https://github.com/dask/dask/issues/2911#issuecomment-422409721",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2911",
        "id": 422409721,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjQwOTcyMQ==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-09-18T14:12:55Z",
        "updated_at": "2018-09-18T14:12:55Z",
        "author_association": "MEMBER",
        "body": "If you knew the bins ahead of time you could presumably do this today by\nusing da.map_blocks with the appropriate numpy historgram function and then\nsumming the result.\n\nOn Tue, Sep 18, 2018 at 9:52 AM, Ryan Abernathey <notifications@github.com>\nwrote:\n\n> @dhruvbalwada <https://github.com/dhruvbalwada>: implementing histogram2d\n> and histogramdd within dask would be an excellent way to proceed on the\n> project we discussed regarding evaluating statistics of our high-resolution\n> simulations. This would allow you to trivially compute, for example, the 2D\n> histogram of vorticity and divergence for a very large dataset.\n>\n> Alternatively, we could try to use datashader\n> <http://holoviews.org/user_guide/Large_Data.html> for this.\n>\n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/dask/dask/issues/2911#issuecomment-422401799>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AASszP-2r2jdf9fClCcvzVAeAOmEZRImks5ucPqsgaJpZM4Qjup8>\n> .\n>\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/422409721/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/457523277",
        "html_url": "https://github.com/dask/dask/issues/2911#issuecomment-457523277",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2911",
        "id": 457523277,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NzUyMzI3Nw==",
        "user": {
            "login": "horta",
            "id": 514522,
            "node_id": "MDQ6VXNlcjUxNDUyMg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/514522?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/horta",
            "html_url": "https://github.com/horta",
            "followers_url": "https://api.github.com/users/horta/followers",
            "following_url": "https://api.github.com/users/horta/following{/other_user}",
            "gists_url": "https://api.github.com/users/horta/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/horta/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/horta/subscriptions",
            "organizations_url": "https://api.github.com/users/horta/orgs",
            "repos_url": "https://api.github.com/users/horta/repos",
            "events_url": "https://api.github.com/users/horta/events{/privacy}",
            "received_events_url": "https://api.github.com/users/horta/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-01-25T10:11:52Z",
        "updated_at": "2019-01-25T10:11:52Z",
        "author_association": "CONTRIBUTOR",
        "body": "Isn't `trace` simply `da.diag(K).sum())`?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/457523277/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/457564763",
        "html_url": "https://github.com/dask/dask/issues/2911#issuecomment-457564763",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2911",
        "id": 457564763,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NzU2NDc2Mw==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-01-25T12:57:06Z",
        "updated_at": "2019-01-25T12:57:06Z",
        "author_association": "MEMBER",
        "body": "A PR for this would be welcome. Assuming of course that this list isn\u2019t missing some things.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/457564763/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/514035093",
        "html_url": "https://github.com/dask/dask/issues/2911#issuecomment-514035093",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2911",
        "id": 514035093,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDAzNTA5Mw==",
        "user": {
            "login": "deeplycloudy",
            "id": 1325771,
            "node_id": "MDQ6VXNlcjEzMjU3NzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1325771?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/deeplycloudy",
            "html_url": "https://github.com/deeplycloudy",
            "followers_url": "https://api.github.com/users/deeplycloudy/followers",
            "following_url": "https://api.github.com/users/deeplycloudy/following{/other_user}",
            "gists_url": "https://api.github.com/users/deeplycloudy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/deeplycloudy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/deeplycloudy/subscriptions",
            "organizations_url": "https://api.github.com/users/deeplycloudy/orgs",
            "repos_url": "https://api.github.com/users/deeplycloudy/repos",
            "events_url": "https://api.github.com/users/deeplycloudy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/deeplycloudy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-07-23T03:04:53Z",
        "updated_at": "2019-07-23T03:10:08Z",
        "author_association": "NONE",
        "body": "I too had a need for `histogram2d` today, and so I made a run at what @mrocklin said should be possible. Below is an example that takes an `xarray` dataset and the names of the two variables to be histogrammed, as well as a tuple of explicit bin edges.\r\n\r\n```\r\ndef do_histo2d(da, **kwargs):\r\n    # use an intermediate function to toss out the xbin, ybin arguments\r\n    histo, xbin, ybin = np.histogram2d(da[0,:], da[1,:], **kwargs)\r\n    return histo\r\n\r\ndef dask_histogram2d(dataset, names, bins=None, chunksize=10000, dtype='i4'):\r\n    if bins is None: raise ValueError('bins must be a 2-tuple of np.ndarray bin edges')\r\n    output_shape = [b.shape[0]-1 for b in bins]\r\n    das = [dataset[n].data.flatten() for n in names]\r\n    histo_data = dask.array.vstack(das).rechunk((len(names),chunksize))\r\n    res = dask.array.core.map_blocks(do_histo2d, histo_data,\r\n                                     chunks=output_shape,\r\n                                     dtype=dtype, bins=bins)\r\n    return res, output_shape\r\n```\r\n\r\nFor my use case, I've preprocessed many large satellite images to select some pixels of interest that are stored in the `xarray` dataset `glm_5_min`. It has two data variables, `flash_extent_density` and `average_flash_area`, for which I have specified some explicit bin edges as numpy arrays. Calling `dask_histogram2d` looks like this:\r\n\r\n```\r\nres, output_shape = dask_histogram2d(glm_5_min,\r\n                        ('flash_extent_density', 'average_flash_area'),\r\n                        bins=(fed_bins, afa_bins))\r\nhisto=res.compute()\r\nreshaped = histo.reshape(output_shape[0], res.numblocks[1], output_shape[1]).sum(axis=1)\r\n```\r\n\r\n`reshaped` has the same shape as the `histo` returned by `np.histogram2d`.\r\n\r\nI don't understand why `histo` has the shape it does. Figuring out that the number of blocks was the middle dimension took a couple hours of trial and error, probably because I don't understand how `map_blocks` works.\r\n\r\nI don't have time to turn this into a real PR right now, but if someone does feel free to run with it.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/514035093/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/514044760",
        "html_url": "https://github.com/dask/dask/issues/2911#issuecomment-514044760",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2911",
        "id": 514044760,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDA0NDc2MA==",
        "user": {
            "login": "dhruvbalwada",
            "id": 18236610,
            "node_id": "MDQ6VXNlcjE4MjM2NjEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/18236610?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dhruvbalwada",
            "html_url": "https://github.com/dhruvbalwada",
            "followers_url": "https://api.github.com/users/dhruvbalwada/followers",
            "following_url": "https://api.github.com/users/dhruvbalwada/following{/other_user}",
            "gists_url": "https://api.github.com/users/dhruvbalwada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dhruvbalwada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dhruvbalwada/subscriptions",
            "organizations_url": "https://api.github.com/users/dhruvbalwada/orgs",
            "repos_url": "https://api.github.com/users/dhruvbalwada/repos",
            "events_url": "https://api.github.com/users/dhruvbalwada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dhruvbalwada/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-07-23T03:59:55Z",
        "updated_at": "2019-07-23T03:59:55Z",
        "author_association": "NONE",
        "body": "@deeplycloudy - could also look at https://xhistogram.readthedocs.io/ , which has been trying to address this. From personal experience it works quite smoothly :)",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/514044760/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/514262889",
        "html_url": "https://github.com/dask/dask/issues/2911#issuecomment-514262889",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2911",
        "id": 514262889,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDI2Mjg4OQ==",
        "user": {
            "login": "deeplycloudy",
            "id": 1325771,
            "node_id": "MDQ6VXNlcjEzMjU3NzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1325771?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/deeplycloudy",
            "html_url": "https://github.com/deeplycloudy",
            "followers_url": "https://api.github.com/users/deeplycloudy/followers",
            "following_url": "https://api.github.com/users/deeplycloudy/following{/other_user}",
            "gists_url": "https://api.github.com/users/deeplycloudy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/deeplycloudy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/deeplycloudy/subscriptions",
            "organizations_url": "https://api.github.com/users/deeplycloudy/orgs",
            "repos_url": "https://api.github.com/users/deeplycloudy/repos",
            "events_url": "https://api.github.com/users/deeplycloudy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/deeplycloudy/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-07-23T15:32:51Z",
        "updated_at": "2019-07-23T15:32:51Z",
        "author_association": "NONE",
        "body": "@dhruvbalwada Ah, very nice! Yes, a fully generalized, label-aware histogram is certainly useful. I'd love to see relevant parts upstreamed into xarray, dask, or even numpy. @mrocklin gave a nice talk at SciPy about the benefit of and need to work toward a unified, user-facing API across various libraries, and this is a great illustration of something universally useful that has to exist as a separate package right now. It makes it not as discoverable for folks starting from numpy and growing into dask/xarray.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/514262889/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/626068789",
        "html_url": "https://github.com/dask/dask/issues/2911#issuecomment-626068789",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2911",
        "id": 626068789,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYyNjA2ODc4OQ==",
        "user": {
            "login": "fredericoschardong",
            "id": 3732628,
            "node_id": "MDQ6VXNlcjM3MzI2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3732628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fredericoschardong",
            "html_url": "https://github.com/fredericoschardong",
            "followers_url": "https://api.github.com/users/fredericoschardong/followers",
            "following_url": "https://api.github.com/users/fredericoschardong/following{/other_user}",
            "gists_url": "https://api.github.com/users/fredericoschardong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fredericoschardong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fredericoschardong/subscriptions",
            "organizations_url": "https://api.github.com/users/fredericoschardong/orgs",
            "repos_url": "https://api.github.com/users/fredericoschardong/repos",
            "events_url": "https://api.github.com/users/fredericoschardong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fredericoschardong/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-09T00:00:15Z",
        "updated_at": "2020-05-09T00:00:15Z",
        "author_association": "NONE",
        "body": "Is there any particular reason not to include `left_shift` and `right_shift`?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/626068789/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/626072897",
        "html_url": "https://github.com/dask/dask/issues/2911#issuecomment-626072897",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2911",
        "id": 626072897,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYyNjA3Mjg5Nw==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-09T00:19:12Z",
        "updated_at": "2020-05-09T00:19:12Z",
        "author_association": "MEMBER",
        "body": "They are in the list \ud83d\ude42\r\n\r\nIt's worth noting that they are `ufunc`s. So you should just be able to use NumPy's functions on Dask Arrays as-is and things will be handled correctly under-the-hood \ud83d\ude09",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/626072897/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1118908744",
        "html_url": "https://github.com/dask/dask/issues/2911#issuecomment-1118908744",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2911",
        "id": 1118908744,
        "node_id": "IC_kwDOAbcwm85CsTFI",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-05-05T18:21:53Z",
        "updated_at": "2022-05-05T18:21:53Z",
        "author_association": "MEMBER",
        "body": "Also [this listing/comparison]( https://github.com/data-apis/array-api-comparison/blob/eaa75810fa287bd7a8813f6910fd81f7313f8fc4/data/common_apis.csv ) may be useful",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1118908744/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]