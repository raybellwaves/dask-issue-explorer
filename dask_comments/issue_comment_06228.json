[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/634203573",
        "html_url": "https://github.com/dask/dask/issues/6228#issuecomment-634203573",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6228",
        "id": 634203573,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNDIwMzU3Mw==",
        "user": {
            "login": "martindurant",
            "id": 6042212,
            "node_id": "MDQ6VXNlcjYwNDIyMTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6042212?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/martindurant",
            "html_url": "https://github.com/martindurant",
            "followers_url": "https://api.github.com/users/martindurant/followers",
            "following_url": "https://api.github.com/users/martindurant/following{/other_user}",
            "gists_url": "https://api.github.com/users/martindurant/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/martindurant/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/martindurant/subscriptions",
            "organizations_url": "https://api.github.com/users/martindurant/orgs",
            "repos_url": "https://api.github.com/users/martindurant/repos",
            "events_url": "https://api.github.com/users/martindurant/events{/privacy}",
            "received_events_url": "https://api.github.com/users/martindurant/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-26T18:37:42Z",
        "updated_at": "2020-05-26T18:37:42Z",
        "author_association": "MEMBER",
        "body": "Thanks for posting this thoughtful discussion. \r\n\r\nFrom your listed options, it seems to me that \"start_state_from_dask could be refactored\" is the minimally-invasive one that achieves your goal and may indeed simplify the code. Have you tried to scope this yet or otherwise have thoughts on how complicated t would be? Otherwise, calling cull may be ok, not so sure on where the tradeoffs for that would be.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/634203573/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/636027822",
        "html_url": "https://github.com/dask/dask/issues/6228#issuecomment-636027822",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6228",
        "id": 636027822,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjAyNzgyMg==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-29T15:12:11Z",
        "updated_at": "2020-05-29T15:12:11Z",
        "author_association": "MEMBER",
        "body": "Yeah, nice writeup @gjoseph92 .  Given how easy it is to forget things, I suspect that you may now be the world expert on this topic, probably eclipsing @jcrist who wrote a lot of the callback machinery :).  One answer is that all of these seem like good optimizations (regardless of this specific application problem) if we do them well:\r\n\r\n1.  Culling as a side effect of graph traversal sounds great, if it can be done without performance penalty\r\n2.  Adding keys to the Callback interface sounds great, _if_ it can be done in a backwards compatible way.  Perhaps we ask if the start function has a `keys` parameter and if so, we pass in the keys.  See `dask.utils.has_keyword`\r\n3.  We kind of want caching to happen in the middle of optimizations, before fusion but after culling. There has been some conversation about how to make the optimization pipeline more configurable. (cc @sofroniewn who ran into this with Napari)",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/636027822/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/636056067",
        "html_url": "https://github.com/dask/dask/issues/6228#issuecomment-636056067",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6228",
        "id": 636056067,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjA1NjA2Nw==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-29T16:08:30Z",
        "updated_at": "2020-05-29T16:08:30Z",
        "author_association": "MEMBER",
        "body": "Between these three options, number 2 seems like the easiest to me.  Number 3 would have the most positive impact, but is the least well defined.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/636056067/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/636066887",
        "html_url": "https://github.com/dask/dask/issues/6228#issuecomment-636066887",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6228",
        "id": 636066887,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYzNjA2Njg4Nw==",
        "user": {
            "login": "sofroniewn",
            "id": 6531703,
            "node_id": "MDQ6VXNlcjY1MzE3MDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6531703?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sofroniewn",
            "html_url": "https://github.com/sofroniewn",
            "followers_url": "https://api.github.com/users/sofroniewn/followers",
            "following_url": "https://api.github.com/users/sofroniewn/following{/other_user}",
            "gists_url": "https://api.github.com/users/sofroniewn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sofroniewn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sofroniewn/subscriptions",
            "organizations_url": "https://api.github.com/users/sofroniewn/orgs",
            "repos_url": "https://api.github.com/users/sofroniewn/repos",
            "events_url": "https://api.github.com/users/sofroniewn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sofroniewn/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-05-29T16:31:25Z",
        "updated_at": "2020-05-29T16:31:25Z",
        "author_association": "MEMBER",
        "body": "cc @tlambert03",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/636066887/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]