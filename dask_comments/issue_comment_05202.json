[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/517338016",
        "html_url": "https://github.com/dask/dask/issues/5202#issuecomment-517338016",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/5202",
        "id": 517338016,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxNzMzODAxNg==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-08-01T15:30:41Z",
        "updated_at": "2019-08-01T15:30:41Z",
        "author_association": "MEMBER",
        "body": "Interest sure.  My guess is that the algorithm currently within dask.array\nwouldn't be appropriate.  It uses a variety of block-level QR and SVD\ndecompositions in order to compute the full SVD.  There are likely to\ndensify and probably wouldn't work well.\n\nThe approximate algorithm in svd_compressed starts off by reducing things\ndown a bunch with matrix multiplies.  That might work well if you're\ncomfortable with approximate results.  To be clear though this won't just\nwork out of the box.  You might have to add an explicit densification stage\nin between the matrix multiplies and the QR decompositions though (at that\npoint things should be slim enough that this is safe), otherwise the\nnumpy.linalg.qr call will complain that it doesn't know how to operate on\nsparse arrays.\n\nSparse distributed SVDs are likely a topic of research.  Dask array may\nwell be a good place for an implementation if anyone is interested (this is\nhow we got our current SVD implementation), but my guess is that this will\ntake work.\n\nOn Thu, Aug 1, 2019 at 8:20 AM Benjamin Zaitlen <notifications@github.com>\nwrote:\n\n> Naively I tried to run svd on a sparse matrix:\n>\n> import dask.array as daimport scipy.sparseimport numpy as np\n>\n> data = np.random.rand(100,100sparse = scipy.sparse.csc_matrix(data)ds = da.from_array(sparse)\n> u, s, v = da.linalg.svd(ds)\n> v.compute()\n>\n> The following breaks with a tuple index error:\n>\n> ~/GitRepos/dask/dask/array/linalg.py in _wrapped_qr(a)\n>      45     \"\"\"\n>      46     # workaround may be removed when numpy stops rejecting edge cases\n> ---> 47     if a.shape[0] == 0:\n>      48         return np.zeros((0, 0)), np.zeros((0, a.shape[1]))\n>      49     else:\n>\n> IndexError: tuple index out of range\n>\n> Is there any interest in supporting a sparse SVD implementation with dask ?\n>\n> cc @davidsebfischer <https://github.com/davidsebfischer>\n>\n> \u2014\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/dask/dask/issues/5202?email_source=notifications&email_token=AACKZTA7BIWZ7HFTMPYKVKDQCL5K5A5CNFSM4IIRZJ22YY3PNVWWK3TUL52HS4DFUVEXG43VMWVGG33NNVSW45C7NFSM4HC3I5NQ>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AACKZTHYKZL7BZQMXL2IE3LQCL5K5ANCNFSM4IIRZJ2Q>\n> .\n>\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/517338016/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/517378181",
        "html_url": "https://github.com/dask/dask/issues/5202#issuecomment-517378181",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/5202",
        "id": 517378181,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxNzM3ODE4MQ==",
        "user": {
            "login": "quasiben",
            "id": 1403768,
            "node_id": "MDQ6VXNlcjE0MDM3Njg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1403768?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/quasiben",
            "html_url": "https://github.com/quasiben",
            "followers_url": "https://api.github.com/users/quasiben/followers",
            "following_url": "https://api.github.com/users/quasiben/following{/other_user}",
            "gists_url": "https://api.github.com/users/quasiben/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/quasiben/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/quasiben/subscriptions",
            "organizations_url": "https://api.github.com/users/quasiben/orgs",
            "repos_url": "https://api.github.com/users/quasiben/repos",
            "events_url": "https://api.github.com/users/quasiben/events{/privacy}",
            "received_events_url": "https://api.github.com/users/quasiben/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-08-01T17:14:21Z",
        "updated_at": "2019-08-01T17:14:21Z",
        "author_association": "MEMBER",
        "body": "@mrocklin I appreciate the detailed response!  Are there others interested in sparse SVD ?  @seanlaw I know you were investigating sparse data objects with data.  Is this something you would use if you had it ?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/517378181/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/517382104",
        "html_url": "https://github.com/dask/dask/issues/5202#issuecomment-517382104",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/5202",
        "id": 517382104,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxNzM4MjEwNA==",
        "user": {
            "login": "seanlaw",
            "id": 7473521,
            "node_id": "MDQ6VXNlcjc0NzM1MjE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7473521?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seanlaw",
            "html_url": "https://github.com/seanlaw",
            "followers_url": "https://api.github.com/users/seanlaw/followers",
            "following_url": "https://api.github.com/users/seanlaw/following{/other_user}",
            "gists_url": "https://api.github.com/users/seanlaw/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seanlaw/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seanlaw/subscriptions",
            "organizations_url": "https://api.github.com/users/seanlaw/orgs",
            "repos_url": "https://api.github.com/users/seanlaw/repos",
            "events_url": "https://api.github.com/users/seanlaw/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seanlaw/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-08-01T17:24:39Z",
        "updated_at": "2019-08-01T17:24:39Z",
        "author_association": "NONE",
        "body": "@quasiben I do not have any immediate use for sparse SVD at the moment",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/517382104/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/517508358",
        "html_url": "https://github.com/dask/dask/issues/5202#issuecomment-517508358",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/5202",
        "id": 517508358,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUxNzUwODM1OA==",
        "user": {
            "login": "drunkwcodes",
            "id": 36228443,
            "node_id": "MDQ6VXNlcjM2MjI4NDQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/36228443?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/drunkwcodes",
            "html_url": "https://github.com/drunkwcodes",
            "followers_url": "https://api.github.com/users/drunkwcodes/followers",
            "following_url": "https://api.github.com/users/drunkwcodes/following{/other_user}",
            "gists_url": "https://api.github.com/users/drunkwcodes/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/drunkwcodes/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/drunkwcodes/subscriptions",
            "organizations_url": "https://api.github.com/users/drunkwcodes/orgs",
            "repos_url": "https://api.github.com/users/drunkwcodes/repos",
            "events_url": "https://api.github.com/users/drunkwcodes/events{/privacy}",
            "received_events_url": "https://api.github.com/users/drunkwcodes/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-08-02T01:00:03Z",
        "updated_at": "2019-08-02T01:00:03Z",
        "author_association": "NONE",
        "body": "Me interested in if there is an implementation and an example.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/517508358/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]