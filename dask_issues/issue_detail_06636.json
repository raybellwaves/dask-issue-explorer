{
    "url": "https://api.github.com/repos/dask/dask/issues/6636",
    "repository_url": "https://api.github.com/repos/dask/dask",
    "labels_url": "https://api.github.com/repos/dask/dask/issues/6636/labels{/name}",
    "comments_url": "https://api.github.com/repos/dask/dask/issues/6636/comments",
    "events_url": "https://api.github.com/repos/dask/dask/issues/6636/events",
    "html_url": "https://github.com/dask/dask/issues/6636",
    "id": 701076438,
    "node_id": "MDU6SXNzdWU3MDEwNzY0Mzg=",
    "number": 6636,
    "title": "calling methods on wrapped duck arrays",
    "user": {
        "login": "keewis",
        "id": 14808389,
        "node_id": "MDQ6VXNlcjE0ODA4Mzg5",
        "avatar_url": "https://avatars.githubusercontent.com/u/14808389?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/keewis",
        "html_url": "https://github.com/keewis",
        "followers_url": "https://api.github.com/users/keewis/followers",
        "following_url": "https://api.github.com/users/keewis/following{/other_user}",
        "gists_url": "https://api.github.com/users/keewis/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/keewis/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/keewis/subscriptions",
        "organizations_url": "https://api.github.com/users/keewis/orgs",
        "repos_url": "https://api.github.com/users/keewis/repos",
        "events_url": "https://api.github.com/users/keewis/events{/privacy}",
        "received_events_url": "https://api.github.com/users/keewis/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 242862305,
            "node_id": "MDU6TGFiZWwyNDI4NjIzMDU=",
            "url": "https://api.github.com/repos/dask/dask/labels/array",
            "name": "array",
            "color": "006b75",
            "default": false,
            "description": null
        },
        {
            "id": 1372867996,
            "node_id": "MDU6TGFiZWwxMzcyODY3OTk2",
            "url": "https://api.github.com/repos/dask/dask/labels/discussion",
            "name": "discussion",
            "color": "bebaf4",
            "default": false,
            "description": "Discussing a topic with no specific actions yet"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 2,
    "created_at": "2020-09-14T13:03:47Z",
    "updated_at": "2021-10-14T04:26:44Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "Part of the discussion in #5329. I'm opening this issue to make the discussion on this topic a bit more focused.\r\n\r\nAs mentioned in #5329 (comment), we need to find a way to\r\n- call methods on wrapped arrays. e.g. with `pint(dask(sparse))`, how do we call `to_dense` and get a `pint(dask(numpy))`, without having `dask` know about `sparse`?\r\n\r\n---\r\n\r\nTo solve this, at the moment `pint` will pass through attribute access for methods it doesn't know. This has a few issues: these methods will remove the nesting (which might sometimes be intended), and it is easy to shadow methods (e.g. a duck array might declare a `magnitude` method).\r\n\r\nInstead, we could use type accessors: `arr.sparse.to_dense()` would convert a `pint(dask(sparse))` array to `pint(dask(numpy))` by calling `self._data.sparse.to_dense()` until the name is the name of the type / library. Deciding if the nesting was intentionally removed is pretty difficult, though: maybe only if the result is not a duck array?\r\nThis is very explicit, but it involves `__getattr__` to be truly dynamic and might be shadowed by any of the duck array. So I guess to avoid the `__getattr__` magic, and to minimize the attribute shadowing, we could use a method with a string parameter: `arr.array_method(\"sparse\").to_dense()` (I'm sure we can come up with a better name).",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/dask/dask/issues/6636/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/dask/dask/issues/6636/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}