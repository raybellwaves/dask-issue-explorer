[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/435406976",
        "html_url": "https://github.com/dask/dask/issues/4169#issuecomment-435406976",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4169",
        "id": 435406976,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTQwNjk3Ng==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-11-02T14:56:12Z",
        "updated_at": "2018-11-02T14:56:12Z",
        "author_association": "MEMBER",
        "body": "cc @hmaarrfk (who probably has thoughts here)",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/435406976/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/435426033",
        "html_url": "https://github.com/dask/dask/issues/4169#issuecomment-435426033",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4169",
        "id": 435426033,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTQyNjAzMw==",
        "user": {
            "login": "hmaarrfk",
            "id": 90008,
            "node_id": "MDQ6VXNlcjkwMDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/90008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hmaarrfk",
            "html_url": "https://github.com/hmaarrfk",
            "followers_url": "https://api.github.com/users/hmaarrfk/followers",
            "following_url": "https://api.github.com/users/hmaarrfk/following{/other_user}",
            "gists_url": "https://api.github.com/users/hmaarrfk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hmaarrfk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hmaarrfk/subscriptions",
            "organizations_url": "https://api.github.com/users/hmaarrfk/orgs",
            "repos_url": "https://api.github.com/users/hmaarrfk/repos",
            "events_url": "https://api.github.com/users/hmaarrfk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hmaarrfk/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-11-02T15:54:26Z",
        "updated_at": "2018-11-02T15:54:26Z",
        "author_association": "MEMBER",
        "body": "I think this comment https://github.com/dask/dask/issues/3946#issuecomment-418568246 from Matt is really relevant.\r\n\r\nI feel like you and I are working with people that are \"transitionning\" to using dask, where the whole pipeline isn't dask-y yet. So we are hitting a few of this hiccups. Matt seems to have a different usecase which he seems to have optimized dask array for.\r\n\r\nI just learned to put `name=False`. In either case, I think whatever internal functions are written should use the name parameter in an explicit fashion. This will help the transition if it ever happens.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/435426033/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/435434660",
        "html_url": "https://github.com/dask/dask/issues/4169#issuecomment-435434660",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4169",
        "id": 435434660,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTQzNDY2MA==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-11-02T16:22:12Z",
        "updated_at": "2018-11-02T16:22:12Z",
        "author_association": "MEMBER",
        "body": "Sure. Though am asking we reconsider this feature as it is currently optimized for experienced users who are better able to adapt at the expense of new users to Dask who are just learning.\r\n\r\nIn any event, would think that basing the hash off of `id(a)` ends up being a reasonable compromise.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/435434660/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/435439276",
        "html_url": "https://github.com/dask/dask/issues/4169#issuecomment-435439276",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4169",
        "id": 435439276,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTQzOTI3Ng==",
        "user": {
            "login": "hmaarrfk",
            "id": 90008,
            "node_id": "MDQ6VXNlcjkwMDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/90008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hmaarrfk",
            "html_url": "https://github.com/hmaarrfk",
            "followers_url": "https://api.github.com/users/hmaarrfk/followers",
            "following_url": "https://api.github.com/users/hmaarrfk/following{/other_user}",
            "gists_url": "https://api.github.com/users/hmaarrfk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hmaarrfk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hmaarrfk/subscriptions",
            "organizations_url": "https://api.github.com/users/hmaarrfk/orgs",
            "repos_url": "https://api.github.com/users/hmaarrfk/repos",
            "events_url": "https://api.github.com/users/hmaarrfk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hmaarrfk/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-11-02T16:39:01Z",
        "updated_at": "2018-11-02T16:39:01Z",
        "author_association": "MEMBER",
        "body": "well it becomes a matter of creating arrays such as `da.ones`, or `da.zeros` in many places inn the code. Those would get caught by the hash pretty easly, but not by id.\r\n\r\nI'm sure other niche things like fourier coefficients would slip through the `id(a)` while be caught by other stuff.\r\n\r\nMatt (not using handle as not to ping him needlessly)  will probably object to this since he probably has alot of code in the wild optimized with the assumption that things will get hashed.\r\nYou would totally need to deprecate this gracefully. \r\n\r\nI wrote some decorators for this a while back.\r\nhttps://github.com/hmaarrfk/wabisabi\r\nDon't know if they are useful for you.\r\n\r\nThey do crazy things like rewrite the docs, the signature, and handle positional + kwargs.\r\nThe advantage is you can leave them in past the deprecation, and everything **should** just get updated gracefully. The package name changed, so they are no longer on conda-forge.\r\n\r\nYou should probably version it if you will use them.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/435439276/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/435446756",
        "html_url": "https://github.com/dask/dask/issues/4169#issuecomment-435446756",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4169",
        "id": 435446756,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTQ0Njc1Ng==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-11-02T17:07:12Z",
        "updated_at": "2018-11-02T17:07:12Z",
        "author_association": "MEMBER",
        "body": "`da.ones` and friends actually compute their hash [from the arguments to the function]( https://github.com/dask/dask/blob/66f5e0bbb31c503063616610475c50deaf1eccb8/dask/array/wrap.py#L43 ) and not the arrays themselves. So they shouldn't be affected by this proposed change.\r\n\r\nFFTs in Dask just [wrap NumPy's implementations]( https://github.com/dask/dask/blob/66f5e0bbb31c503063616610475c50deaf1eccb8/dask/array/fft.py#L216-L229 ). So they should be hashing other keys and thus should be unaffected. Or is there another use case you have in mind?\r\n\r\nAnyways thinking about use cases that might be affected seems like the right idea. Would be good to collect some use cases in the wild to see if they would be affected by this change. My feeling ATM is that these use cases are exceedingly rare and that any such use case is not likely reconstructing the same NumPy array multiple times, in which case `id` should be fine. Even if an algorithm were creating the same array repeatedly it would be a straightforward thing to set the `name` explicitly and not rely on hashing. Though I could be wrong about all of this.\r\n\r\nInteresting. Thanks for sharing. Will take a look.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/435446756/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/435473720",
        "html_url": "https://github.com/dask/dask/issues/4169#issuecomment-435473720",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4169",
        "id": 435473720,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTQ3MzcyMA==",
        "user": {
            "login": "hmaarrfk",
            "id": 90008,
            "node_id": "MDQ6VXNlcjkwMDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/90008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hmaarrfk",
            "html_url": "https://github.com/hmaarrfk",
            "followers_url": "https://api.github.com/users/hmaarrfk/followers",
            "following_url": "https://api.github.com/users/hmaarrfk/following{/other_user}",
            "gists_url": "https://api.github.com/users/hmaarrfk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hmaarrfk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hmaarrfk/subscriptions",
            "organizations_url": "https://api.github.com/users/hmaarrfk/orgs",
            "repos_url": "https://api.github.com/users/hmaarrfk/repos",
            "events_url": "https://api.github.com/users/hmaarrfk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hmaarrfk/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-11-02T18:47:04Z",
        "updated_at": "2018-11-02T18:47:04Z",
        "author_association": "MEMBER",
        "body": "> da.ones and friends actually compute their hash from the arguments to the function and not the arrays themselves. So they shouldn't be affected by this proposed change.\r\n\r\nSo smart!",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/435473720/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/435959181",
        "html_url": "https://github.com/dask/dask/issues/4169#issuecomment-435959181",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4169",
        "id": 435959181,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQzNTk1OTE4MQ==",
        "user": {
            "login": "jcrist",
            "id": 2783717,
            "node_id": "MDQ6VXNlcjI3ODM3MTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2783717?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jcrist",
            "html_url": "https://github.com/jcrist",
            "followers_url": "https://api.github.com/users/jcrist/followers",
            "following_url": "https://api.github.com/users/jcrist/following{/other_user}",
            "gists_url": "https://api.github.com/users/jcrist/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jcrist/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jcrist/subscriptions",
            "organizations_url": "https://api.github.com/users/jcrist/orgs",
            "repos_url": "https://api.github.com/users/jcrist/repos",
            "events_url": "https://api.github.com/users/jcrist/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jcrist/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-11-05T17:22:07Z",
        "updated_at": "2018-11-05T17:22:07Z",
        "author_association": "MEMBER",
        "body": "> As an initial suggestion about how we can change it, would try using id on the NumPy array to inform its hash. This is probably unique enough for most cases and we can be pretty sure that cases where that key shows up the NumPy array still exists in our graph.\r\n\r\nIds in python can be reused, I'd be -1 on any strategy that has the potential to be incorrect just for the benefit of speed.\r\n\r\nThere is an option to use a `uuid` for wrapped arrays (`name=False` kwarg to `from_array`/`asarray`), which would be similar but more robust. Switching this to the default hashing would likely break users code, but perhaps we could make this part of the configuration. You could then provide a config file to novice users of your software, or set configuration variables on init of your module (or contextually in your code).\r\n\r\n> I think this comment https://github.com/dask/dask/issues/3946#issuecomment-418568246 from Matt is really relevant.\r\n\r\nIn general I agree with Matt's comment that most users of dask array appreciate the current behavior, as hashing large numpy arrays is relatively rare in common workflows.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/435959181/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/442200917",
        "html_url": "https://github.com/dask/dask/issues/4169#issuecomment-442200917",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4169",
        "id": 442200917,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MjIwMDkxNw==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-11-27T20:13:38Z",
        "updated_at": "2018-11-27T20:13:38Z",
        "author_association": "MEMBER",
        "body": "Yeah, it sounds like there are different groups of users that have very different expectations about what `from_array`/`asarray` should do. However I don't see a good way of writing code in Dask proper that can correctly handle all of these needs directly. Moving to a configuration option sounds like a good idea to get this option generally into the hands of users as cleanly as possible.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/442200917/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/488015714",
        "html_url": "https://github.com/dask/dask/issues/4169#issuecomment-488015714",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4169",
        "id": 488015714,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODAxNTcxNA==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-04-30T16:13:18Z",
        "updated_at": "2019-04-30T16:13:18Z",
        "author_association": "MEMBER",
        "body": "FWIW I think this remains an issue that people care about. The xref'd issue from the user above was solicited after talking with him about issues he had encountered with Dask (this issue being one of them). It would be good to figure out a strategy to make hashing more customizable.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/488015714/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/805708634",
        "html_url": "https://github.com/dask/dask/issues/4169#issuecomment-805708634",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4169",
        "id": 805708634,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgwNTcwODYzNA==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-24T10:42:59Z",
        "updated_at": "2021-03-24T10:42:59Z",
        "author_association": "MEMBER",
        "body": "Thinking about this again maybe one naive approach would be to use a UUID when arrays are larger than a certain number of bytes. We\u2019d have to determine a sensible cut off, but maybe this captures the best of both worlds? \ud83d\ude42",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/805708634/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/805811103",
        "html_url": "https://github.com/dask/dask/issues/4169#issuecomment-805811103",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4169",
        "id": 805811103,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgwNTgxMTEwMw==",
        "user": {
            "login": "uellue",
            "id": 25689052,
            "node_id": "MDQ6VXNlcjI1Njg5MDUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/25689052?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/uellue",
            "html_url": "https://github.com/uellue",
            "followers_url": "https://api.github.com/users/uellue/followers",
            "following_url": "https://api.github.com/users/uellue/following{/other_user}",
            "gists_url": "https://api.github.com/users/uellue/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/uellue/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/uellue/subscriptions",
            "organizations_url": "https://api.github.com/users/uellue/orgs",
            "repos_url": "https://api.github.com/users/uellue/repos",
            "events_url": "https://api.github.com/users/uellue/events{/privacy}",
            "received_events_url": "https://api.github.com/users/uellue/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-24T13:15:58Z",
        "updated_at": "2021-03-24T13:15:58Z",
        "author_association": "CONTRIBUTOR",
        "body": "The discussion in #7355 shows a real-world use case where a Dask array is created from a very large memory-mapped NumPy array. In this particular case the hashing was really surprising and led us off track when trying to find out why one version was much slower than the other. Hashing takes about 20x longer than the actual array operation for that use case and negates any advantage from memory mapping.\r\n\r\nAbout creating Dask arrays from memory: Using Dask to work with very large NumPy arrays could be a legit way to speed up some operations through multithreading and at the same time reduce their memory footprint since large intermediate arrays are eliminated, right?\r\n\r\nAre there examples for use cases where the hashing is proven to bring a benefit? I can imagine that it helps mostly in cases where the array is so small that overheads from Dask dominate over the actual number crunching, meaning that the benefit from eliminating steps in the calculation is worth the additional cost of hashing? If the array is larger, many operations such as slicing, sum etc are actually faster than the hash function, so it hurts less to just do some extra number crunching than to avoid it by hashing.\r\n\r\nMaking a decision based on size sounds sensible for that reason. Maybe about 10 MB could be a good cut-off?\r\n\r\nAre there scenarios where hashing or not would lead to different results, i.e. where it is not only a performance issue, but a correctness issue? ",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/805811103/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]