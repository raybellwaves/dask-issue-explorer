[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/727625430",
        "html_url": "https://github.com/dask/dask/pull/6844#issuecomment-727625430",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6844",
        "id": 727625430,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcyNzYyNTQzMA==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-15T19:44:25Z",
        "updated_at": "2020-11-15T19:44:25Z",
        "author_association": "MEMBER",
        "body": "Ah!  Thank you for finding this.  This defininitely seems like a bug.\r\n\r\nI wonder if there is a more comprehensive way of doing this.  Maybe in `tokenize` we could add `[type(arg).__qualname__ for arg in args]` in the final `md5` call?  If that doesn't add too much cost then it seems like it would be a good thing to do.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/727625430/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/727806952",
        "html_url": "https://github.com/dask/dask/pull/6844#issuecomment-727806952",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6844",
        "id": 727806952,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcyNzgwNjk1Mg==",
        "user": {
            "login": "maartenbreddels",
            "id": 1765949,
            "node_id": "MDQ6VXNlcjE3NjU5NDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1765949?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maartenbreddels",
            "html_url": "https://github.com/maartenbreddels",
            "followers_url": "https://api.github.com/users/maartenbreddels/followers",
            "following_url": "https://api.github.com/users/maartenbreddels/following{/other_user}",
            "gists_url": "https://api.github.com/users/maartenbreddels/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/maartenbreddels/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/maartenbreddels/subscriptions",
            "organizations_url": "https://api.github.com/users/maartenbreddels/orgs",
            "repos_url": "https://api.github.com/users/maartenbreddels/repos",
            "events_url": "https://api.github.com/users/maartenbreddels/events{/privacy}",
            "received_events_url": "https://api.github.com/users/maartenbreddels/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-16T07:59:55Z",
        "updated_at": "2020-11-16T07:59:55Z",
        "author_association": "CONTRIBUTOR",
        "body": "Sound like a good idea, because there might be more of these edge cases.\r\n\r\nWhat I planned to do in Vaex is have sth like:\r\n```python\r\nclass Foo:\r\n  def __dask_tokenize__(self):\r\n    return (type(self), dask.base.normalize_token(self.att1), ....)\r\n```\r\n\r\nAdding the qualname in tokenized only, I guess it would then be better to do:\r\n```python\r\n...\r\n    return (type(self), dask.base.tokenize(self.att1), ....)\r\n```\r\n\r\nSo `tokenize` would be always safe to use, while `normalize_token` would be ok if you know the type is always fixed. Does that make sense?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/727806952/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/730970611",
        "html_url": "https://github.com/dask/dask/pull/6844#issuecomment-730970611",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6844",
        "id": 730970611,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczMDk3MDYxMQ==",
        "user": {
            "login": "maartenbreddels",
            "id": 1765949,
            "node_id": "MDQ6VXNlcjE3NjU5NDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1765949?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maartenbreddels",
            "html_url": "https://github.com/maartenbreddels",
            "followers_url": "https://api.github.com/users/maartenbreddels/followers",
            "following_url": "https://api.github.com/users/maartenbreddels/following{/other_user}",
            "gists_url": "https://api.github.com/users/maartenbreddels/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/maartenbreddels/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/maartenbreddels/subscriptions",
            "organizations_url": "https://api.github.com/users/maartenbreddels/orgs",
            "repos_url": "https://api.github.com/users/maartenbreddels/repos",
            "events_url": "https://api.github.com/users/maartenbreddels/events{/privacy}",
            "received_events_url": "https://api.github.com/users/maartenbreddels/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-20T07:43:37Z",
        "updated_at": "2020-11-20T07:43:37Z",
        "author_association": "CONTRIBUTOR",
        "body": "> should work\r\n\r\nI've included a test that demonstrates that is not the case, e.g. this fails:\r\n```python\r\n    class Foo(object):\r\n        def __init__(self, x):\r\n            self.x = x\r\n\r\n        def __dask_tokenize__(self):\r\n            return self.x\r\n\r\n    class Bar(object):\r\n        def __init__(self, y):\r\n            self.y = y\r\n\r\n        def __dask_tokenize__(self):\r\n            return self.y\r\n\r\n    foo1a, foo1b = Foo(1), Foo(1)\r\n    bar1a, bar1b = Bar(foo1a), Bar(foo1b)\r\n    assert tokenize(bar1a) == tokenize(bar1b)\r\n```\r\n\r\nShould this be the case? I think it makes sense.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/730970611/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]