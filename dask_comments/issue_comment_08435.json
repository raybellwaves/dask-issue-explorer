[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/986995544",
        "html_url": "https://github.com/dask/dask/issues/8435#issuecomment-986995544",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/8435",
        "id": 986995544,
        "node_id": "IC_kwDOAbcwm8461FtY",
        "user": {
            "login": "MrPowers",
            "id": 2722395,
            "node_id": "MDQ6VXNlcjI3MjIzOTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2722395?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MrPowers",
            "html_url": "https://github.com/MrPowers",
            "followers_url": "https://api.github.com/users/MrPowers/followers",
            "following_url": "https://api.github.com/users/MrPowers/following{/other_user}",
            "gists_url": "https://api.github.com/users/MrPowers/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MrPowers/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MrPowers/subscriptions",
            "organizations_url": "https://api.github.com/users/MrPowers/orgs",
            "repos_url": "https://api.github.com/users/MrPowers/repos",
            "events_url": "https://api.github.com/users/MrPowers/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MrPowers/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-06T17:31:26Z",
        "updated_at": "2021-12-06T17:31:26Z",
        "author_association": "CONTRIBUTOR",
        "body": "@gjoseph92 - Rather than \"If you use `divisions=\"compute\"`, we recommend printing the `.divisions` of the resulting DataFrame and copy-pasting them back into this line of code, so if you re-run it, divisions won't be re-calculated.\", can we just include the divisions in the error message.  Or perhaps we can expose another API?  Making users set `divisions=\"compute\"`, then calling `.divisions`, then copy pasting them in while removing `divisions=\"compute\"` seems a bit tedious.  Thoughts?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/986995544/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/987002776",
        "html_url": "https://github.com/dask/dask/issues/8435#issuecomment-987002776",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/8435",
        "id": 987002776,
        "node_id": "IC_kwDOAbcwm8461HeY",
        "user": {
            "login": "gjoseph92",
            "id": 3309802,
            "node_id": "MDQ6VXNlcjMzMDk4MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3309802?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gjoseph92",
            "html_url": "https://github.com/gjoseph92",
            "followers_url": "https://api.github.com/users/gjoseph92/followers",
            "following_url": "https://api.github.com/users/gjoseph92/following{/other_user}",
            "gists_url": "https://api.github.com/users/gjoseph92/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gjoseph92/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gjoseph92/subscriptions",
            "organizations_url": "https://api.github.com/users/gjoseph92/orgs",
            "repos_url": "https://api.github.com/users/gjoseph92/repos",
            "events_url": "https://api.github.com/users/gjoseph92/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gjoseph92/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-06T17:40:10Z",
        "updated_at": "2021-12-06T17:40:10Z",
        "author_association": "MEMBER",
        "body": "I'd also like a better API here. Unfortunately though, the whole point is that we don't know the divisions yet, and to figure them out we have to do a big compute. (So we can't include them in this error message because we don't know them yet.) I think it's always going to be three steps:\r\n1. Call `set_index()`, see the error message\r\n2. Compute the divisions in some way (`set_index(divisions=\"compute\")`, or `df.recommended_divisions().compute()` or something)\r\n3. Copy-paste the recommended divisions into the original `set_index` call.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/987002776/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/987014819",
        "html_url": "https://github.com/dask/dask/issues/8435#issuecomment-987014819",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/8435",
        "id": 987014819,
        "node_id": "IC_kwDOAbcwm8461Kaj",
        "user": {
            "login": "MrPowers",
            "id": 2722395,
            "node_id": "MDQ6VXNlcjI3MjIzOTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2722395?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MrPowers",
            "html_url": "https://github.com/MrPowers",
            "followers_url": "https://api.github.com/users/MrPowers/followers",
            "following_url": "https://api.github.com/users/MrPowers/following{/other_user}",
            "gists_url": "https://api.github.com/users/MrPowers/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MrPowers/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MrPowers/subscriptions",
            "organizations_url": "https://api.github.com/users/MrPowers/orgs",
            "repos_url": "https://api.github.com/users/MrPowers/repos",
            "events_url": "https://api.github.com/users/MrPowers/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MrPowers/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-06T17:55:23Z",
        "updated_at": "2021-12-06T17:55:23Z",
        "author_association": "CONTRIBUTOR",
        "body": "I like `df.recommended_divisions().compute()` \ud83e\udd13 \r\n\r\nThat way users that are familiar with the process can easily skip step #1.\r\n\r\nIt seems like manually setting the divisions will run into \"notebook scaling issues\" at some point.  What do we recommend if the recommended divisions array contains 100,000 elements?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/987014819/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/987035251",
        "html_url": "https://github.com/dask/dask/issues/8435#issuecomment-987035251",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/8435",
        "id": 987035251,
        "node_id": "IC_kwDOAbcwm8461PZz",
        "user": {
            "login": "gjoseph92",
            "id": 3309802,
            "node_id": "MDQ6VXNlcjMzMDk4MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3309802?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gjoseph92",
            "html_url": "https://github.com/gjoseph92",
            "followers_url": "https://api.github.com/users/gjoseph92/followers",
            "following_url": "https://api.github.com/users/gjoseph92/following{/other_user}",
            "gists_url": "https://api.github.com/users/gjoseph92/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gjoseph92/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gjoseph92/subscriptions",
            "organizations_url": "https://api.github.com/users/gjoseph92/orgs",
            "repos_url": "https://api.github.com/users/gjoseph92/repos",
            "events_url": "https://api.github.com/users/gjoseph92/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gjoseph92/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-06T18:20:28Z",
        "updated_at": "2021-12-06T18:20:28Z",
        "author_association": "MEMBER",
        "body": "> What do we recommend if the recommended divisions array contains 100,000 elements?\r\n\r\nI don't know, I've also been wondering about this. My vague idea of tools to \"generate reasonable divisions when they know something about the data (save typing)\" are hoping to help with this, but it certainly won't cover a lot of cases. At some point, you might just have 100,000 hardcoded divisions you need to use. At that point, I don't know. Write it to a file? Put it in a cell and collapse it? It's awkward for sure. I just think the pain of dealing with a hardcoded 100,000-element list is still a lot better than a 5-minute recompute of that list every time you run the notebook.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/987035251/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1000444550",
        "html_url": "https://github.com/dask/dask/issues/8435#issuecomment-1000444550",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/8435",
        "id": 1000444550,
        "node_id": "IC_kwDOAbcwm847oZKG",
        "user": {
            "login": "jsignell",
            "id": 4806877,
            "node_id": "MDQ6VXNlcjQ4MDY4Nzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4806877?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jsignell",
            "html_url": "https://github.com/jsignell",
            "followers_url": "https://api.github.com/users/jsignell/followers",
            "following_url": "https://api.github.com/users/jsignell/following{/other_user}",
            "gists_url": "https://api.github.com/users/jsignell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jsignell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jsignell/subscriptions",
            "organizations_url": "https://api.github.com/users/jsignell/orgs",
            "repos_url": "https://api.github.com/users/jsignell/repos",
            "events_url": "https://api.github.com/users/jsignell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jsignell/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-12-23T17:40:22Z",
        "updated_at": "2021-12-23T17:40:22Z",
        "author_association": "MEMBER",
        "body": "I really like the idea of separating out the steps that are all wrapped up into `set_index`. I agree that it currently does too much, and is both surprising and opaque. I took a crack at implementing a `calculate_divisions` method in #8517 and I really liked how the new approach felt. \r\n\r\nIn general in Dask we tend to avoid having the user interact directly with the daskiness of dataframes (partitions, divisions, meta...). I imagine that was the motivation for putting so much in `set_index` rather than splitting it up. I worry that by hiding that stuff too much we end up kind of overloading certain methods. So you end up recommending things like in #8513 where the error is that the divisions are unknown, and the solution is to call `set_index` (even though the user doesn't care about the index). In my mind `set_index` is a kind of special method because I know it has the side effect of setting division, but that is not particularly obvious to the casual user.\r\n\r\nI guess I think that we should encourage dask-specific methods that let people manipulate partitions, divisions, meta... we can still have the magic on set_index, but not at the expense of having less complicated methods.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1000444550/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1005993669",
        "html_url": "https://github.com/dask/dask/issues/8435#issuecomment-1005993669",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/8435",
        "id": 1005993669,
        "node_id": "IC_kwDOAbcwm8479j7F",
        "user": {
            "login": "gjoseph92",
            "id": 3309802,
            "node_id": "MDQ6VXNlcjMzMDk4MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3309802?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gjoseph92",
            "html_url": "https://github.com/gjoseph92",
            "followers_url": "https://api.github.com/users/gjoseph92/followers",
            "following_url": "https://api.github.com/users/gjoseph92/following{/other_user}",
            "gists_url": "https://api.github.com/users/gjoseph92/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gjoseph92/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gjoseph92/subscriptions",
            "organizations_url": "https://api.github.com/users/gjoseph92/orgs",
            "repos_url": "https://api.github.com/users/gjoseph92/repos",
            "events_url": "https://api.github.com/users/gjoseph92/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gjoseph92/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-01-05T18:56:32Z",
        "updated_at": "2022-01-05T18:56:32Z",
        "author_association": "MEMBER",
        "body": "@jsignell totally agreed. If we can't fully hide complexity, it's better not to obscure it at all. For better or worse, I think divisions are the sort of thing users do actually have to understand and interact with in order to use dask effectively.\r\n\r\nI'm liking how your new approach feels too!",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1005993669/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1057215216",
        "html_url": "https://github.com/dask/dask/issues/8435#issuecomment-1057215216",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/8435",
        "id": 1057215216,
        "node_id": "IC_kwDOAbcwm84_A9Lw",
        "user": {
            "login": "scharlottej13",
            "id": 8620816,
            "node_id": "MDQ6VXNlcjg2MjA4MTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8620816?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/scharlottej13",
            "html_url": "https://github.com/scharlottej13",
            "followers_url": "https://api.github.com/users/scharlottej13/followers",
            "following_url": "https://api.github.com/users/scharlottej13/following{/other_user}",
            "gists_url": "https://api.github.com/users/scharlottej13/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/scharlottej13/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scharlottej13/subscriptions",
            "organizations_url": "https://api.github.com/users/scharlottej13/orgs",
            "repos_url": "https://api.github.com/users/scharlottej13/repos",
            "events_url": "https://api.github.com/users/scharlottej13/events{/privacy}",
            "received_events_url": "https://api.github.com/users/scharlottej13/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-03-02T17:58:08Z",
        "updated_at": "2022-03-02T17:58:08Z",
        "author_association": "MEMBER",
        "body": "@gjoseph92 did you and @jsignell still want to keep this discussion open?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1057215216/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1058418581",
        "html_url": "https://github.com/dask/dask/issues/8435#issuecomment-1058418581",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/8435",
        "id": 1058418581,
        "node_id": "IC_kwDOAbcwm84_Fi-V",
        "user": {
            "login": "gjoseph92",
            "id": 3309802,
            "node_id": "MDQ6VXNlcjMzMDk4MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3309802?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gjoseph92",
            "html_url": "https://github.com/gjoseph92",
            "followers_url": "https://api.github.com/users/gjoseph92/followers",
            "following_url": "https://api.github.com/users/gjoseph92/following{/other_user}",
            "gists_url": "https://api.github.com/users/gjoseph92/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gjoseph92/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gjoseph92/subscriptions",
            "organizations_url": "https://api.github.com/users/gjoseph92/orgs",
            "repos_url": "https://api.github.com/users/gjoseph92/repos",
            "events_url": "https://api.github.com/users/gjoseph92/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gjoseph92/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-03-03T19:41:18Z",
        "updated_at": "2022-03-03T19:41:18Z",
        "author_association": "MEMBER",
        "body": "Sure, seems like we agreed that we should do this, but maybe we'll just leave the issue open until it actually happens?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1058418581/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]