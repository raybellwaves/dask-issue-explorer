[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1360212530",
        "html_url": "https://github.com/dask/dask/issues/9773#issuecomment-1360212530",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9773",
        "id": 1360212530,
        "node_id": "IC_kwDOAbcwm85REzIy",
        "user": {
            "login": "jrbourbeau",
            "id": 11656932,
            "node_id": "MDQ6VXNlcjExNjU2OTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/11656932?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jrbourbeau",
            "html_url": "https://github.com/jrbourbeau",
            "followers_url": "https://api.github.com/users/jrbourbeau/followers",
            "following_url": "https://api.github.com/users/jrbourbeau/following{/other_user}",
            "gists_url": "https://api.github.com/users/jrbourbeau/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jrbourbeau/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jrbourbeau/subscriptions",
            "organizations_url": "https://api.github.com/users/jrbourbeau/orgs",
            "repos_url": "https://api.github.com/users/jrbourbeau/repos",
            "events_url": "https://api.github.com/users/jrbourbeau/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jrbourbeau/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-12-20T20:50:23Z",
        "updated_at": "2022-12-20T20:50:23Z",
        "author_association": "MEMBER",
        "body": "Thanks for the issue @thomasf1. @rjzamora do you have bandwidth to look at this one? ",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1360212530/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1360562492",
        "html_url": "https://github.com/dask/dask/issues/9773#issuecomment-1360562492",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9773",
        "id": 1360562492,
        "node_id": "IC_kwDOAbcwm85RGIk8",
        "user": {
            "login": "rjzamora",
            "id": 20461013,
            "node_id": "MDQ6VXNlcjIwNDYxMDEz",
            "avatar_url": "https://avatars.githubusercontent.com/u/20461013?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rjzamora",
            "html_url": "https://github.com/rjzamora",
            "followers_url": "https://api.github.com/users/rjzamora/followers",
            "following_url": "https://api.github.com/users/rjzamora/following{/other_user}",
            "gists_url": "https://api.github.com/users/rjzamora/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rjzamora/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rjzamora/subscriptions",
            "organizations_url": "https://api.github.com/users/rjzamora/orgs",
            "repos_url": "https://api.github.com/users/rjzamora/repos",
            "events_url": "https://api.github.com/users/rjzamora/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rjzamora/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-12-21T00:30:33Z",
        "updated_at": "2022-12-21T00:30:33Z",
        "author_association": "MEMBER",
        "body": "I will poke around and see if there is a clean way to still use the pandas metadata for index-preservation purposes when a proper pyarrow schema is already defined.\r\n\r\nWith that said, you should be able to specify something like `schema={\"a\": pa.string()}` to make it clear that you only want to specify the schema for a specific column (and that the rest of the schema can be inferred). Hopefully you won't loose the index using the `dict` approach.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1360562492/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1365223094",
        "html_url": "https://github.com/dask/dask/issues/9773#issuecomment-1365223094",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9773",
        "id": 1365223094,
        "node_id": "IC_kwDOAbcwm85RX6a2",
        "user": {
            "login": "thomasf1",
            "id": 937467,
            "node_id": "MDQ6VXNlcjkzNzQ2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/937467?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thomasf1",
            "html_url": "https://github.com/thomasf1",
            "followers_url": "https://api.github.com/users/thomasf1/followers",
            "following_url": "https://api.github.com/users/thomasf1/following{/other_user}",
            "gists_url": "https://api.github.com/users/thomasf1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thomasf1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thomasf1/subscriptions",
            "organizations_url": "https://api.github.com/users/thomasf1/orgs",
            "repos_url": "https://api.github.com/users/thomasf1/repos",
            "events_url": "https://api.github.com/users/thomasf1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thomasf1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-12-26T14:29:39Z",
        "updated_at": "2022-12-26T14:29:39Z",
        "author_association": "NONE",
        "body": "Great. Do you need me to test anything? I gues i could built it from source with the pull request :)\r\n\r\nI\u00b4ll also test the dict approach and report back, might require some documentation though or outputting a warning for other users.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1365223094/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1365231799",
        "html_url": "https://github.com/dask/dask/issues/9773#issuecomment-1365231799",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9773",
        "id": 1365231799,
        "node_id": "IC_kwDOAbcwm85RX8i3",
        "user": {
            "login": "thomasf1",
            "id": 937467,
            "node_id": "MDQ6VXNlcjkzNzQ2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/937467?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thomasf1",
            "html_url": "https://github.com/thomasf1",
            "followers_url": "https://api.github.com/users/thomasf1/followers",
            "following_url": "https://api.github.com/users/thomasf1/following{/other_user}",
            "gists_url": "https://api.github.com/users/thomasf1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thomasf1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thomasf1/subscriptions",
            "organizations_url": "https://api.github.com/users/thomasf1/orgs",
            "repos_url": "https://api.github.com/users/thomasf1/repos",
            "events_url": "https://api.github.com/users/thomasf1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thomasf1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-12-26T14:54:20Z",
        "updated_at": "2022-12-26T14:54:20Z",
        "author_association": "NONE",
        "body": "Update1: It did fix the Minimal Complete Verifiable Example, testing my original usecase now.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1365231799/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1365450128",
        "html_url": "https://github.com/dask/dask/issues/9773#issuecomment-1365450128",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9773",
        "id": 1365450128,
        "node_id": "IC_kwDOAbcwm85RYx2Q",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-12-26T20:35:27Z",
        "updated_at": "2022-12-26T20:35:27Z",
        "author_association": "MEMBER",
        "body": "Glad to hear it.  If your original use case is good then the PR looks good to me and I'd be happy to merge.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1365450128/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1365868427",
        "html_url": "https://github.com/dask/dask/issues/9773#issuecomment-1365868427",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9773",
        "id": 1365868427,
        "node_id": "IC_kwDOAbcwm85RaX-L",
        "user": {
            "login": "thomasf1",
            "id": 937467,
            "node_id": "MDQ6VXNlcjkzNzQ2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/937467?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thomasf1",
            "html_url": "https://github.com/thomasf1",
            "followers_url": "https://api.github.com/users/thomasf1/followers",
            "following_url": "https://api.github.com/users/thomasf1/following{/other_user}",
            "gists_url": "https://api.github.com/users/thomasf1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thomasf1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thomasf1/subscriptions",
            "organizations_url": "https://api.github.com/users/thomasf1/orgs",
            "repos_url": "https://api.github.com/users/thomasf1/repos",
            "events_url": "https://api.github.com/users/thomasf1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thomasf1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-12-27T12:29:33Z",
        "updated_at": "2022-12-27T12:29:33Z",
        "author_association": "NONE",
        "body": "Verified that the PR also works with the larger usecase. Thanks for the help :)\r\n\r\nThe reason I was using schema is that it seems to be required for parquet as otherwise infers datatype on each partition which could be as low as one row (using e.g. chunksize=10000) - with varing data that leads to issues merging things back together when reading the data again.\r\n\r\nI would have thought that write_metadata_file=True also saves the schema an re-uses when saving again, but this does not seem to be the case?\r\n\r\nTherefore I opted for schema, as it has a serialize function to save the schema to disk when saving the dataframe. If you guys know a more elegant way, I\u00b4d be grateful for a hint :).\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1365868427/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1366181943",
        "html_url": "https://github.com/dask/dask/issues/9773#issuecomment-1366181943",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9773",
        "id": 1366181943,
        "node_id": "IC_kwDOAbcwm85Rbkg3",
        "user": {
            "login": "thomasf1",
            "id": 937467,
            "node_id": "MDQ6VXNlcjkzNzQ2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/937467?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thomasf1",
            "html_url": "https://github.com/thomasf1",
            "followers_url": "https://api.github.com/users/thomasf1/followers",
            "following_url": "https://api.github.com/users/thomasf1/following{/other_user}",
            "gists_url": "https://api.github.com/users/thomasf1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thomasf1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thomasf1/subscriptions",
            "organizations_url": "https://api.github.com/users/thomasf1/orgs",
            "repos_url": "https://api.github.com/users/thomasf1/repos",
            "events_url": "https://api.github.com/users/thomasf1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thomasf1/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-12-27T21:07:41Z",
        "updated_at": "2022-12-27T21:07:41Z",
        "author_association": "NONE",
        "body": "Done some more testing and it doesn\u00b4t seem to work in all cases. I\u00b4ll have a closer look... :o",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1366181943/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1368016244",
        "html_url": "https://github.com/dask/dask/issues/9773#issuecomment-1368016244",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9773",
        "id": 1368016244,
        "node_id": "IC_kwDOAbcwm85RikV0",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-12-30T17:10:19Z",
        "updated_at": "2022-12-30T17:10:19Z",
        "author_association": "MEMBER",
        "body": "Thanks @thomasf1 I'll be curious to see what you learn",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1368016244/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1375801863",
        "html_url": "https://github.com/dask/dask/issues/9773#issuecomment-1375801863",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9773",
        "id": 1375801863,
        "node_id": "IC_kwDOAbcwm85SARIH",
        "user": {
            "login": "rjzamora",
            "id": 20461013,
            "node_id": "MDQ6VXNlcjIwNDYxMDEz",
            "avatar_url": "https://avatars.githubusercontent.com/u/20461013?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rjzamora",
            "html_url": "https://github.com/rjzamora",
            "followers_url": "https://api.github.com/users/rjzamora/followers",
            "following_url": "https://api.github.com/users/rjzamora/following{/other_user}",
            "gists_url": "https://api.github.com/users/rjzamora/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rjzamora/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rjzamora/subscriptions",
            "organizations_url": "https://api.github.com/users/rjzamora/orgs",
            "repos_url": "https://api.github.com/users/rjzamora/repos",
            "events_url": "https://api.github.com/users/rjzamora/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rjzamora/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-01-09T15:32:20Z",
        "updated_at": "2023-01-09T15:32:20Z",
        "author_association": "MEMBER",
        "body": ">Done some more testing and it doesn\u00b4t seem to work in all cases. I\u00b4ll have a closer look... :o\r\n\r\nThanks for testing this @thomasf1 - Are you able to share a reproducer for a case that isn't covered by https://github.com/dask/dask/pull/9780?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1375801863/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]