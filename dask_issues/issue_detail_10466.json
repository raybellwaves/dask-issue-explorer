{
    "url": "https://api.github.com/repos/dask/dask/issues/10466",
    "repository_url": "https://api.github.com/repos/dask/dask",
    "labels_url": "https://api.github.com/repos/dask/dask/issues/10466/labels{/name}",
    "comments_url": "https://api.github.com/repos/dask/dask/issues/10466/comments",
    "events_url": "https://api.github.com/repos/dask/dask/issues/10466/events",
    "html_url": "https://github.com/dask/dask/issues/10466",
    "id": 1867877467,
    "node_id": "I_kwDOAbcwm85vVYxb",
    "number": 10466,
    "title": "Incomplete LU factorization",
    "user": {
        "login": "gatling-nrl",
        "id": 38136423,
        "node_id": "MDQ6VXNlcjM4MTM2NDIz",
        "avatar_url": "https://avatars.githubusercontent.com/u/38136423?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gatling-nrl",
        "html_url": "https://github.com/gatling-nrl",
        "followers_url": "https://api.github.com/users/gatling-nrl/followers",
        "following_url": "https://api.github.com/users/gatling-nrl/following{/other_user}",
        "gists_url": "https://api.github.com/users/gatling-nrl/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/gatling-nrl/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gatling-nrl/subscriptions",
        "organizations_url": "https://api.github.com/users/gatling-nrl/orgs",
        "repos_url": "https://api.github.com/users/gatling-nrl/repos",
        "events_url": "https://api.github.com/users/gatling-nrl/events{/privacy}",
        "received_events_url": "https://api.github.com/users/gatling-nrl/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 3468123446,
            "node_id": "LA_kwDOAbcwm87Ot102",
            "url": "https://api.github.com/repos/dask/dask/labels/needs%20attention",
            "name": "needs attention",
            "color": "6d626c",
            "default": false,
            "description": "It's been a while since this was pushed on. Needs attention from the owner or a maintainer."
        },
        {
            "id": 3880424463,
            "node_id": "LA_kwDOAbcwm87nSpQP",
            "url": "https://api.github.com/repos/dask/dask/labels/needs%20triage",
            "name": "needs triage",
            "color": "eeeeee",
            "default": false,
            "description": "Needs a response from a contributor"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 0,
    "created_at": "2023-08-26T03:17:48Z",
    "updated_at": "2023-10-02T01:45:42Z",
    "closed_at": null,
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "Given sparse matrix `A` as either\r\n```python\r\nA = np.random.random([100,100])\r\nA[A<.95] = 0\r\n\r\nA1 = sparse.GCXS(A)\r\n# or\r\ni,j,v = scipy.sparse.find(A)\r\nA2 = scipy.sparse.coo_matrix((v, (i,j)), shape=A.shape).tocsc()\r\n```\r\n\r\nI would like to compute the incomplete LU factorization (for use as preconditioner in the GMRES iterative solver).\r\n\r\n```python\r\nscipy.sparse.linalg.spilu(A1)\r\n# and\r\nscipy.sparse.linalg.spilu(A2)\r\n```\r\n\r\nwork as expected, and return a `SuperLU` which can be handed off to `scipy.sparse.linalg.LinearOperator`\r\n\r\nBut\r\n\r\n```python\r\nA1b = da.from_array(A1, asarray=False)\r\nscipy.sparse.linalg.spilu(A1b)\r\n# -> fails because dask tries to call\r\n# scipy\\sparse\\linalg\\_dsolve\\linsolve.py:436\r\n# 436     A = csc_matrix(A)\r\n\r\n# and\r\nA2b =  da.from_array(A2, asarray=False)\r\nscipy.sparse.linalg.spilu(A2b)\r\n# -> fails because dask tries to call\r\n# scipy\\sparse\\_compressed.py:80\r\n# 80     arg1 = np.asarray(arg1)\r\n```\r\n\r\nSparse matrixes of the kind I am working with come from the finite element assembly, and are approaching 1M x 1M, so dense methods are just not feasible. I'm also pushing the limits of the single desktop, and I would very much like to adapt my codes to run on an HPC cluster, which is how I ended up here, on Dask.\r\n\r\nThe bottle neck at the moment is in the ILU factorization, which is why i'm trying to get that specifically to work with dask. So...\r\n\r\nIs support for `scipy.sparse.linalg` (broadly) or ILU factorization / GMRES (narrowly) a possible future feature?",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/dask/dask/issues/10466/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/dask/dask/issues/10466/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}