[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/312448883",
        "html_url": "https://github.com/dask/dask/issues/2498#issuecomment-312448883",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2498",
        "id": 312448883,
        "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQ0ODg4Mw==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-07-01T18:42:01Z",
        "updated_at": "2017-07-01T18:42:01Z",
        "author_association": "MEMBER",
        "body": "Is this behavior negatively affecting you in some way?  If so then are you able to describe how?\r\n\r\nSome people would describe these two arrays as different because they have different strides.  Historically we have tended to err on the side of being pretty conservative when it comes to hashing conflicts.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/312448883/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/312451443",
        "html_url": "https://github.com/dask/dask/issues/2498#issuecomment-312451443",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2498",
        "id": 312451443,
        "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQ1MTQ0Mw==",
        "user": {
            "login": "tsdlovell",
            "id": 16540200,
            "node_id": "MDQ6VXNlcjE2NTQwMjAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/16540200?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tsdlovell",
            "html_url": "https://github.com/tsdlovell",
            "followers_url": "https://api.github.com/users/tsdlovell/followers",
            "following_url": "https://api.github.com/users/tsdlovell/following{/other_user}",
            "gists_url": "https://api.github.com/users/tsdlovell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tsdlovell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tsdlovell/subscriptions",
            "organizations_url": "https://api.github.com/users/tsdlovell/orgs",
            "repos_url": "https://api.github.com/users/tsdlovell/repos",
            "events_url": "https://api.github.com/users/tsdlovell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tsdlovell/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-07-01T19:32:18Z",
        "updated_at": "2017-07-01T19:32:18Z",
        "author_association": "NONE",
        "body": "I think this is the crux of it:\r\n```\r\narr = np.array([[1, 2], [3, 4]], order='f')\r\npprint.pprint((arr.strides, arr.copy().strides))\r\n```\r\nprints\r\n```\r\n((8, 16), (16, 8))\r\n```\r\n\r\nI think its fair to say that these are in fact different, though I would call it a bit surprising.\r\n\r\nPerhaps there could be a switch to allow you to say you are \"only numerically concerned\" about equivalence?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/312451443/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/312452243",
        "html_url": "https://github.com/dask/dask/issues/2498#issuecomment-312452243",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2498",
        "id": 312452243,
        "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQ1MjI0Mw==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-07-01T19:48:46Z",
        "updated_at": "2017-07-01T19:48:46Z",
        "author_association": "MEMBER",
        "body": "You might be able to redefine and reregister the `normalize_token` function for numpy arrays to implement your own custom behavior.  See dask/base.py",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/312452243/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/312452751",
        "html_url": "https://github.com/dask/dask/issues/2498#issuecomment-312452751",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2498",
        "id": 312452751,
        "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQ1Mjc1MQ==",
        "user": {
            "login": "tsdlovell",
            "id": 16540200,
            "node_id": "MDQ6VXNlcjE2NTQwMjAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/16540200?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tsdlovell",
            "html_url": "https://github.com/tsdlovell",
            "followers_url": "https://api.github.com/users/tsdlovell/followers",
            "following_url": "https://api.github.com/users/tsdlovell/following{/other_user}",
            "gists_url": "https://api.github.com/users/tsdlovell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tsdlovell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tsdlovell/subscriptions",
            "organizations_url": "https://api.github.com/users/tsdlovell/orgs",
            "repos_url": "https://api.github.com/users/tsdlovell/repos",
            "events_url": "https://api.github.com/users/tsdlovell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tsdlovell/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-07-01T20:00:42Z",
        "updated_at": "2017-07-01T20:00:42Z",
        "author_association": "NONE",
        "body": "Yes, that does work.  I was suggesting the switch so that its more evident to other users that this might be an issue and so that its a part of dask (and gets whatever changes/updates are appropriate as other pieces change).",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/312452751/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/312452831",
        "html_url": "https://github.com/dask/dask/issues/2498#issuecomment-312452831",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2498",
        "id": 312452831,
        "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjQ1MjgzMQ==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-07-01T20:02:23Z",
        "updated_at": "2017-07-01T20:02:23Z",
        "author_association": "MEMBER",
        "body": "Adding a switch is convenient, but also comes at a cost.  There are hundreds or thousands of small choices like this.  Adding little switches everywhere tends to increase development inertia.  I'm more inclined to leave configuration at the more general `normalize_token` level just for code maintainability reasons.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/312452831/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/312528739",
        "html_url": "https://github.com/dask/dask/issues/2498#issuecomment-312528739",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2498",
        "id": 312528739,
        "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjUyODczOQ==",
        "user": {
            "login": "brianvanleeuwen",
            "id": 10393013,
            "node_id": "MDQ6VXNlcjEwMzkzMDEz",
            "avatar_url": "https://avatars.githubusercontent.com/u/10393013?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brianvanleeuwen",
            "html_url": "https://github.com/brianvanleeuwen",
            "followers_url": "https://api.github.com/users/brianvanleeuwen/followers",
            "following_url": "https://api.github.com/users/brianvanleeuwen/following{/other_user}",
            "gists_url": "https://api.github.com/users/brianvanleeuwen/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brianvanleeuwen/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brianvanleeuwen/subscriptions",
            "organizations_url": "https://api.github.com/users/brianvanleeuwen/orgs",
            "repos_url": "https://api.github.com/users/brianvanleeuwen/repos",
            "events_url": "https://api.github.com/users/brianvanleeuwen/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brianvanleeuwen/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-07-03T01:10:21Z",
        "updated_at": "2017-07-03T01:10:21Z",
        "author_association": "NONE",
        "body": "@mrocklin , `np.ndarray.copy()` defaults to order=C.  If I assign `x=pd.DataFrame([[0,1],[2,3]]).values`, then  `tokenize(x)` is not equal to `tokenize(x.copy())` because of the order change.  Is there some reason we would want copies of arrays to have distinct tokens based on how they are ordered in memory?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/312528739/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/312529057",
        "html_url": "https://github.com/dask/dask/issues/2498#issuecomment-312529057",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2498",
        "id": 312529057,
        "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjUyOTA1Nw==",
        "user": {
            "login": "brianvanleeuwen",
            "id": 10393013,
            "node_id": "MDQ6VXNlcjEwMzkzMDEz",
            "avatar_url": "https://avatars.githubusercontent.com/u/10393013?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brianvanleeuwen",
            "html_url": "https://github.com/brianvanleeuwen",
            "followers_url": "https://api.github.com/users/brianvanleeuwen/followers",
            "following_url": "https://api.github.com/users/brianvanleeuwen/following{/other_user}",
            "gists_url": "https://api.github.com/users/brianvanleeuwen/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brianvanleeuwen/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brianvanleeuwen/subscriptions",
            "organizations_url": "https://api.github.com/users/brianvanleeuwen/orgs",
            "repos_url": "https://api.github.com/users/brianvanleeuwen/repos",
            "events_url": "https://api.github.com/users/brianvanleeuwen/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brianvanleeuwen/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-07-03T01:15:00Z",
        "updated_at": "2017-07-03T01:15:00Z",
        "author_association": "NONE",
        "body": "There may be a minor bug on https://github.com/dask/dask/blob/master/dask/base.py#L399 due to the order=C default of np.ndarray.copy().  The same array could tokenize differently depending whether there is a BufferError, because `x.ravel(order='K').view('i1'))` could differ from `x.copy().ravel(order='K').view('i1'))`.  It might be safer to use `x.copy(order='K')`.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/312529057/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/312627962",
        "html_url": "https://github.com/dask/dask/issues/2498#issuecomment-312627962",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2498",
        "id": 312627962,
        "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjYyNzk2Mg==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-07-03T12:03:56Z",
        "updated_at": "2017-07-03T12:03:56Z",
        "author_association": "MEMBER",
        "body": "Adding `order='K'` seems like a decent approach as long as it produces a contiguous memoryview.\r\n\r\nI'm curious, how is this affecting you all?  Is there an application where this is causing bad behavior?  I haven't come across a situation where hashing different variables with the same content to different keys produced incorrect results.  The only issue here that I see is that we sometimes lose out on a potential deduplication.  To me this is a minor inconvenience at worst.  I may not fully appreciate the situation though.  Can either of you help me to understand the relevance here?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/312627962/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/312630747",
        "html_url": "https://github.com/dask/dask/issues/2498#issuecomment-312630747",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2498",
        "id": 312630747,
        "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjYzMDc0Nw==",
        "user": {
            "login": "pitrou",
            "id": 1721820,
            "node_id": "MDQ6VXNlcjE3MjE4MjA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1721820?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pitrou",
            "html_url": "https://github.com/pitrou",
            "followers_url": "https://api.github.com/users/pitrou/followers",
            "following_url": "https://api.github.com/users/pitrou/following{/other_user}",
            "gists_url": "https://api.github.com/users/pitrou/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pitrou/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pitrou/subscriptions",
            "organizations_url": "https://api.github.com/users/pitrou/orgs",
            "repos_url": "https://api.github.com/users/pitrou/repos",
            "events_url": "https://api.github.com/users/pitrou/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pitrou/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-07-03T12:18:51Z",
        "updated_at": "2017-07-03T12:19:05Z",
        "author_association": "MEMBER",
        "body": "Just because some arrays contain the same data doesn't mean they will behave the same. Trivially, imagine you execute the function `lambda a: a.strides`. Then this function will return different results for arrays having the same data (the same argument holds for the `dtype`).",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/312630747/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/312635860",
        "html_url": "https://github.com/dask/dask/issues/2498#issuecomment-312635860",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2498",
        "id": 312635860,
        "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjYzNTg2MA==",
        "user": {
            "login": "tsdlovell",
            "id": 16540200,
            "node_id": "MDQ6VXNlcjE2NTQwMjAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/16540200?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tsdlovell",
            "html_url": "https://github.com/tsdlovell",
            "followers_url": "https://api.github.com/users/tsdlovell/followers",
            "following_url": "https://api.github.com/users/tsdlovell/following{/other_user}",
            "gists_url": "https://api.github.com/users/tsdlovell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tsdlovell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tsdlovell/subscriptions",
            "organizations_url": "https://api.github.com/users/tsdlovell/orgs",
            "repos_url": "https://api.github.com/users/tsdlovell/repos",
            "events_url": "https://api.github.com/users/tsdlovell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tsdlovell/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-07-03T12:44:06Z",
        "updated_at": "2017-07-03T12:44:06Z",
        "author_association": "NONE",
        "body": "@mrocklin , we have an object that we would like to do distributed compute on.  We have a mechanism to copy it.  As a check that its copied properly, we tokenize and verify the token is the same.  That verification fails because somewhere in that object is a `pandas.DataFrame` that has a `numpy.ndarray` that was handed to us by something else with something other than the `order` that comes out of the copy.\r\n\r\nI take your point that they are in fact different and that the current behavior is not unreasonable.  We **are** able to work around it by re-registering a function for `numpy.ndarray`.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/312635860/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/312636333",
        "html_url": "https://github.com/dask/dask/issues/2498#issuecomment-312636333",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2498",
        "id": 312636333,
        "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjYzNjMzMw==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-07-03T12:46:21Z",
        "updated_at": "2017-07-03T12:46:21Z",
        "author_association": "MEMBER",
        "body": "Would adding the `order='K'` keyword to copy as suggested by @brianvanleeuwen resolve your issue?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/312636333/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/312640053",
        "html_url": "https://github.com/dask/dask/issues/2498#issuecomment-312640053",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2498",
        "id": 312640053,
        "node_id": "MDEyOklzc3VlQ29tbWVudDMxMjY0MDA1Mw==",
        "user": {
            "login": "tsdlovell",
            "id": 16540200,
            "node_id": "MDQ6VXNlcjE2NTQwMjAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/16540200?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tsdlovell",
            "html_url": "https://github.com/tsdlovell",
            "followers_url": "https://api.github.com/users/tsdlovell/followers",
            "following_url": "https://api.github.com/users/tsdlovell/following{/other_user}",
            "gists_url": "https://api.github.com/users/tsdlovell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tsdlovell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tsdlovell/subscriptions",
            "organizations_url": "https://api.github.com/users/tsdlovell/orgs",
            "repos_url": "https://api.github.com/users/tsdlovell/repos",
            "events_url": "https://api.github.com/users/tsdlovell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tsdlovell/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-07-03T13:03:34Z",
        "updated_at": "2017-07-03T13:03:34Z",
        "author_association": "NONE",
        "body": "I think we would still need to re-register: there are enough calls to `copy` around, some we may not be able to control, that its \"safer\"/saner to just re-register `normalize_token`",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/312640053/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/313727392",
        "html_url": "https://github.com/dask/dask/issues/2498#issuecomment-313727392",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2498",
        "id": 313727392,
        "node_id": "MDEyOklzc3VlQ29tbWVudDMxMzcyNzM5Mg==",
        "user": {
            "login": "adamklein",
            "id": 869232,
            "node_id": "MDQ6VXNlcjg2OTIzMg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/869232?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/adamklein",
            "html_url": "https://github.com/adamklein",
            "followers_url": "https://api.github.com/users/adamklein/followers",
            "following_url": "https://api.github.com/users/adamklein/following{/other_user}",
            "gists_url": "https://api.github.com/users/adamklein/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/adamklein/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/adamklein/subscriptions",
            "organizations_url": "https://api.github.com/users/adamklein/orgs",
            "repos_url": "https://api.github.com/users/adamklein/repos",
            "events_url": "https://api.github.com/users/adamklein/events{/privacy}",
            "received_events_url": "https://api.github.com/users/adamklein/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-07-07T16:18:52Z",
        "updated_at": "2017-07-07T16:18:52Z",
        "author_association": "NONE",
        "body": "Ok, so we are going the route of reregistering `ndarray` for ourselves, but it's a bit subtle, because if we want to invoke \r\n\r\n        @normalize_token.register(np.ndarray)\r\n        def layout_insensitive_normalize_array(x):\r\n\r\nThen our registered function gets replaced when later another non-`ndarray` `numpy` class requests to be tokenized, and so the lazily registered `@normalize_token.register_lazy(\"numpy\")` then gets invoked, which overwrites our earlier eager registration for `ndarray`. Basically we have to rewrite the whole lazy registration of numpy instead of just one hook. \r\n\r\nI think lazily loaded registrations should not overwrite eagerly loaded ones. ",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/313727392/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]