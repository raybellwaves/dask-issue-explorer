[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1230585708",
        "html_url": "https://github.com/dask/dask/pull/9440#issuecomment-1230585708",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9440",
        "id": 1230585708,
        "node_id": "IC_kwDOAbcwm85JWT9s",
        "user": {
            "login": "douglasdavis",
            "id": 3202090,
            "node_id": "MDQ6VXNlcjMyMDIwOTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3202090?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/douglasdavis",
            "html_url": "https://github.com/douglasdavis",
            "followers_url": "https://api.github.com/users/douglasdavis/followers",
            "following_url": "https://api.github.com/users/douglasdavis/following{/other_user}",
            "gists_url": "https://api.github.com/users/douglasdavis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/douglasdavis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/douglasdavis/subscriptions",
            "organizations_url": "https://api.github.com/users/douglasdavis/orgs",
            "repos_url": "https://api.github.com/users/douglasdavis/repos",
            "events_url": "https://api.github.com/users/douglasdavis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/douglasdavis/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-08-29T17:04:51Z",
        "updated_at": "2022-08-29T17:04:51Z",
        "author_association": "MEMBER",
        "body": "CI failure unrelated",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1230585708/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1230691603",
        "html_url": "https://github.com/dask/dask/pull/9440#issuecomment-1230691603",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9440",
        "id": 1230691603,
        "node_id": "IC_kwDOAbcwm85JWt0T",
        "user": {
            "login": "douglasdavis",
            "id": 3202090,
            "node_id": "MDQ6VXNlcjMyMDIwOTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3202090?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/douglasdavis",
            "html_url": "https://github.com/douglasdavis",
            "followers_url": "https://api.github.com/users/douglasdavis/followers",
            "following_url": "https://api.github.com/users/douglasdavis/following{/other_user}",
            "gists_url": "https://api.github.com/users/douglasdavis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/douglasdavis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/douglasdavis/subscriptions",
            "organizations_url": "https://api.github.com/users/douglasdavis/orgs",
            "repos_url": "https://api.github.com/users/douglasdavis/repos",
            "events_url": "https://api.github.com/users/douglasdavis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/douglasdavis/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-08-29T18:21:20Z",
        "updated_at": "2022-08-29T18:21:20Z",
        "author_association": "MEMBER",
        "body": "@ian-r-rose thanks for taking a look!",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1230691603/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1235783445",
        "html_url": "https://github.com/dask/dask/pull/9440#issuecomment-1235783445",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9440",
        "id": 1235783445,
        "node_id": "IC_kwDOAbcwm85JqI8V",
        "user": {
            "login": "ian-r-rose",
            "id": 5728311,
            "node_id": "MDQ6VXNlcjU3MjgzMTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5728311?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ian-r-rose",
            "html_url": "https://github.com/ian-r-rose",
            "followers_url": "https://api.github.com/users/ian-r-rose/followers",
            "following_url": "https://api.github.com/users/ian-r-rose/following{/other_user}",
            "gists_url": "https://api.github.com/users/ian-r-rose/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ian-r-rose/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ian-r-rose/subscriptions",
            "organizations_url": "https://api.github.com/users/ian-r-rose/orgs",
            "repos_url": "https://api.github.com/users/ian-r-rose/repos",
            "events_url": "https://api.github.com/users/ian-r-rose/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ian-r-rose/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-02T18:14:57Z",
        "updated_at": "2022-09-02T18:14:57Z",
        "author_association": "MEMBER",
        "body": "Sorry for the delay in getting back to this @douglasdavis!\r\n\r\nUnfortunately, I think you still need to give the overloads defaults in order for type inference to work. For example, on this branch the following fails to type check:\r\n\r\n```python\r\nfrom dask.bytes import read_bytes\r\n\r\nreveal_type(read_bytes(\"path/to/stuff\", include_path=True))\r\n```\r\n\r\nDealing with literals in default keyword-arguments has been a persistently annoying thing in `mypy` (see the long discussion in https://github.com/python/mypy/issues/6580), but I do think it's doable using the special ellipsis symbol. It's not very well documented, but see [here](https://mypy.readthedocs.io/en/stable/more_types.html#function-overloading).\r\n\r\nSo I was able to get it working with this diff:\r\n\r\n```diff\r\ndiff --git a/dask/bytes/core.py b/dask/bytes/core.py\r\nindex 0164d024d..8b783cba6 100644\r\n--- a/dask/bytes/core.py\r\n+++ b/dask/bytes/core.py\r\n@@ -15,28 +15,28 @@ from dask.utils import is_integer, parse_bytes\r\n @overload\r\n def read_bytes(\r\n     urlpath: str | list[str],\r\n-    delimiter: bytes | None,\r\n-    not_zero: bool,\r\n-    blocksize: str | int | None,\r\n-    sample: int | str | bool,\r\n-    compression: str | None,\r\n-    include_path: Literal[True],\r\n+    delimiter: bytes | None = None,\r\n+    not_zero: bool = False,\r\n+    blocksize: str | int | None = None,\r\n+    sample: int | str | bool = \"10 kiB\",\r\n+    compression: str | None = None,\r\n+    include_path: Literal[False] = False,\r\n     **kwargs: Any,\r\n-) -> tuple[bytes, list[list[Delayed]], list[str]]:\r\n+) -> tuple[bytes, list[list[Delayed]]]:\r\n     ...\r\n \r\n \r\n @overload\r\n def read_bytes(\r\n     urlpath: str | list[str],\r\n-    delimiter: bytes | None,\r\n-    not_zero: bool,\r\n-    blocksize: str | int | None,\r\n-    sample: int | str | bool,\r\n-    compression: str | None,\r\n-    include_path: Literal[False],\r\n+    delimiter: bytes | None = None,\r\n+    not_zero: bool = False,\r\n+    blocksize: str | int | None = None,\r\n+    sample: int | str | bool = \"10 kiB\",\r\n+    compression: str | None = None,\r\n+    include_path: Literal[True] = ...,\r\n     **kwargs: Any,\r\n-) -> tuple[bytes, list[list[Delayed]]]:\r\n+) -> tuple[bytes, list[list[Delayed]], list[str]]:\r\n     ...\r\n \r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1235783445/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1238667574",
        "html_url": "https://github.com/dask/dask/pull/9440#issuecomment-1238667574",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9440",
        "id": 1238667574,
        "node_id": "IC_kwDOAbcwm85J1JE2",
        "user": {
            "login": "douglasdavis",
            "id": 3202090,
            "node_id": "MDQ6VXNlcjMyMDIwOTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3202090?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/douglasdavis",
            "html_url": "https://github.com/douglasdavis",
            "followers_url": "https://api.github.com/users/douglasdavis/followers",
            "following_url": "https://api.github.com/users/douglasdavis/following{/other_user}",
            "gists_url": "https://api.github.com/users/douglasdavis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/douglasdavis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/douglasdavis/subscriptions",
            "organizations_url": "https://api.github.com/users/douglasdavis/orgs",
            "repos_url": "https://api.github.com/users/douglasdavis/repos",
            "events_url": "https://api.github.com/users/douglasdavis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/douglasdavis/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2022-09-06T21:27:03Z",
        "updated_at": "2022-09-06T21:27:26Z",
        "author_association": "MEMBER",
        "body": "Thanks, @ian-r-rose! This does some seem like quite the tough case for mypy \ud83d\ude1b with your diff I'm seeing this error from mypy (version: `mypy 0.971 (compiled: yes)`) if I run `mypy dask/bytes/core.py`:\r\n```\r\ndask/bytes/core.py:16: error: Overloaded function signatures 1 and 2 overlap with incompatible return types  [misc]\r\n```\r\nbut the example code snippet you wrote does indeed work. I'm wondering how to make the mypy check on the dask codebase work. At this point I'd be OK with having an `Any` return typehint if this is getting too in the weeds",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1238667574/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]