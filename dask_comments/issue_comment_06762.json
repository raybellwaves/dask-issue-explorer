[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/714414030",
        "html_url": "https://github.com/dask/dask/issues/6762#issuecomment-714414030",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6762",
        "id": 714414030,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcxNDQxNDAzMA==",
        "user": {
            "login": "TomAugspurger",
            "id": 1312546,
            "node_id": "MDQ6VXNlcjEzMTI1NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1312546?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TomAugspurger",
            "html_url": "https://github.com/TomAugspurger",
            "followers_url": "https://api.github.com/users/TomAugspurger/followers",
            "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
            "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
            "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
            "repos_url": "https://api.github.com/users/TomAugspurger/repos",
            "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-10-22T11:00:56Z",
        "updated_at": "2020-10-22T11:00:56Z",
        "author_association": "MEMBER",
        "body": "I haven't looked closely, but could https://github.com/pandas-dev/pandas/issues/19941 be related?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/714414030/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/714485535",
        "html_url": "https://github.com/dask/dask/issues/6762#issuecomment-714485535",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6762",
        "id": 714485535,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcxNDQ4NTUzNQ==",
        "user": {
            "login": "quasiben",
            "id": 1403768,
            "node_id": "MDQ6VXNlcjE0MDM3Njg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1403768?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/quasiben",
            "html_url": "https://github.com/quasiben",
            "followers_url": "https://api.github.com/users/quasiben/followers",
            "following_url": "https://api.github.com/users/quasiben/following{/other_user}",
            "gists_url": "https://api.github.com/users/quasiben/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/quasiben/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/quasiben/subscriptions",
            "organizations_url": "https://api.github.com/users/quasiben/orgs",
            "repos_url": "https://api.github.com/users/quasiben/repos",
            "events_url": "https://api.github.com/users/quasiben/events{/privacy}",
            "received_events_url": "https://api.github.com/users/quasiben/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-10-22T13:14:31Z",
        "updated_at": "2020-10-22T13:14:31Z",
        "author_association": "MEMBER",
        "body": "If it is _not_ CSV related, @jameslamb, you could test this with `dask.datasets.timeseries()` (which will generated a random timeseries on the fly) and see if you are still observing a memory leak",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/714485535/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/714590439",
        "html_url": "https://github.com/dask/dask/issues/6762#issuecomment-714590439",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6762",
        "id": 714590439,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcxNDU5MDQzOQ==",
        "user": {
            "login": "jsignell",
            "id": 4806877,
            "node_id": "MDQ6VXNlcjQ4MDY4Nzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4806877?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jsignell",
            "html_url": "https://github.com/jsignell",
            "followers_url": "https://api.github.com/users/jsignell/followers",
            "following_url": "https://api.github.com/users/jsignell/following{/other_user}",
            "gists_url": "https://api.github.com/users/jsignell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jsignell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jsignell/subscriptions",
            "organizations_url": "https://api.github.com/users/jsignell/orgs",
            "repos_url": "https://api.github.com/users/jsignell/repos",
            "events_url": "https://api.github.com/users/jsignell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jsignell/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-10-22T15:55:35Z",
        "updated_at": "2020-10-22T15:55:57Z",
        "author_association": "MEMBER",
        "body": "I think there might be something missing in garbage collection. It would be my expectation that if all references to an object are gone then it should be deleted from the cluster *even if it's been persisted*.\r\n\r\nI have a simplified example that doesn't use csvs. In one notebook:\r\n\r\n```python\r\nfrom dask.distributed import LocalCluster\r\n\r\ncluster = LocalCluster()\r\ncluster\r\n```\r\n\r\nIn another:\r\n\r\n```python\r\nfrom dask.datasets import timeseries\r\nfrom dask.distributed import Client, wait\r\n\r\nclient = Client(\"tcp://127.0.0.1:41813\")\r\n\r\nwait(timeseries().persist());\r\n```\r\n\r\nThen if you restart the kernel in the second notebook you'd notice that the cluster holds on to about 700MiB of memory. That is the point at which I expected the memory to get freed up since there are no more references to the data.\r\n\r\n\r\n### Work around\r\nIf you restart the client the data gets deleted, but that seems kind of intense.\r\n\r\n```python\r\nclient = Client(\"tcp://127.0.0.1:41813\")\r\nclient.restart()\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/714590439/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 1,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/717252394",
        "html_url": "https://github.com/dask/dask/issues/6762#issuecomment-717252394",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6762",
        "id": 717252394,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzI1MjM5NA==",
        "user": {
            "login": "martindurant",
            "id": 6042212,
            "node_id": "MDQ6VXNlcjYwNDIyMTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6042212?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/martindurant",
            "html_url": "https://github.com/martindurant",
            "followers_url": "https://api.github.com/users/martindurant/followers",
            "following_url": "https://api.github.com/users/martindurant/following{/other_user}",
            "gists_url": "https://api.github.com/users/martindurant/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/martindurant/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/martindurant/subscriptions",
            "organizations_url": "https://api.github.com/users/martindurant/orgs",
            "repos_url": "https://api.github.com/users/martindurant/repos",
            "events_url": "https://api.github.com/users/martindurant/events{/privacy}",
            "received_events_url": "https://api.github.com/users/martindurant/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-10-27T13:42:50Z",
        "updated_at": "2020-10-27T13:42:50Z",
        "author_association": "MEMBER",
        "body": "Just to add that you definitely don't expect all things to be cleared up. In my case, having executed @jsignell 's code, I have about 100MB per process (versus ~50MB for fresh processes), which might be accounted for by imports alone.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/717252394/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]