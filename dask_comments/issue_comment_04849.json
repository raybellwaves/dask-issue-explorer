[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/496785764",
        "html_url": "https://github.com/dask/dask/issues/4849#issuecomment-496785764",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4849",
        "id": 496785764,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5Njc4NTc2NA==",
        "user": {
            "login": "GenevieveBuckley",
            "id": 30920819,
            "node_id": "MDQ6VXNlcjMwOTIwODE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/30920819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GenevieveBuckley",
            "html_url": "https://github.com/GenevieveBuckley",
            "followers_url": "https://api.github.com/users/GenevieveBuckley/followers",
            "following_url": "https://api.github.com/users/GenevieveBuckley/following{/other_user}",
            "gists_url": "https://api.github.com/users/GenevieveBuckley/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GenevieveBuckley/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GenevieveBuckley/subscriptions",
            "organizations_url": "https://api.github.com/users/GenevieveBuckley/orgs",
            "repos_url": "https://api.github.com/users/GenevieveBuckley/repos",
            "events_url": "https://api.github.com/users/GenevieveBuckley/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GenevieveBuckley/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-29T05:05:49Z",
        "updated_at": "2019-05-29T05:05:49Z",
        "author_association": "MEMBER",
        "body": "Can you explain why it's more efficient to flatten each chunk separately, rather that flattening the whole dask array? \r\n\r\nI assume there is some extra overhead in calling `.ravel()` on a dask array vs a numpy array, but how substantial is it?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/496785764/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/496982758",
        "html_url": "https://github.com/dask/dask/issues/4849#issuecomment-496982758",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4849",
        "id": 496982758,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ5Njk4Mjc1OA==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-05-29T15:19:36Z",
        "updated_at": "2019-05-29T15:44:12Z",
        "author_association": "MEMBER",
        "body": "Thanks for the engagement here @GenevieveBuckley. Was debating pinging you, but was also thinking about diving into this issue a bit more before pulling more people in.\r\n\r\nWhen flattening a Dask Array, it effectively spreads out your chunks. This is because it is trying to respect the same traversal order that NumPy has. However this means it passes through each chunk repeatedly to extract small pieces from it. More generally this means your array must be rechunked (quite finely I might add) and rechunking is very expensive.\r\n\r\nIf we flatten the chunks themselves, then this doesn't require rechunking (as it happens within each chunk). Also combining these chunks in non-traversal order is basically free as it merely reorders how the chunks fit together. This should be very fast overall.\r\n\r\nPerhaps the answer here is we need another option for `ravel`, `flatten`, etc. to handle the traversal order per chunk when matching NumPy's order doesn't matter. Alternatively we could create a new function that has this API. ~~I'll raise~~ I've opened a new issue to discuss this further ( https://github.com/dask/dask/issues/4855 ).",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/496982758/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/621907788",
        "html_url": "https://github.com/dask/dask/issues/4849#issuecomment-621907788",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4849",
        "id": 621907788,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYyMTkwNzc4OA==",
        "user": {
            "login": "jsignell",
            "id": 4806877,
            "node_id": "MDQ6VXNlcjQ4MDY4Nzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4806877?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jsignell",
            "html_url": "https://github.com/jsignell",
            "followers_url": "https://api.github.com/users/jsignell/followers",
            "following_url": "https://api.github.com/users/jsignell/following{/other_user}",
            "gists_url": "https://api.github.com/users/jsignell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jsignell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jsignell/subscriptions",
            "organizations_url": "https://api.github.com/users/jsignell/orgs",
            "repos_url": "https://api.github.com/users/jsignell/repos",
            "events_url": "https://api.github.com/users/jsignell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jsignell/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-04-30T14:57:42Z",
        "updated_at": "2020-04-30T14:57:42Z",
        "author_association": "MEMBER",
        "body": "Seems like this has been superseded by #4855. Closing.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/621907788/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/621984251",
        "html_url": "https://github.com/dask/dask/issues/4849#issuecomment-621984251",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4849",
        "id": 621984251,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYyMTk4NDI1MQ==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-04-30T17:08:42Z",
        "updated_at": "2020-04-30T17:08:42Z",
        "author_association": "MEMBER",
        "body": "The issue is still valid as perf could be improved here. The other issue merely suggests a function that could  be used to improve perf.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/621984251/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/621992483",
        "html_url": "https://github.com/dask/dask/issues/4849#issuecomment-621992483",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4849",
        "id": 621992483,
        "node_id": "MDEyOklzc3VlQ29tbWVudDYyMTk5MjQ4Mw==",
        "user": {
            "login": "jsignell",
            "id": 4806877,
            "node_id": "MDQ6VXNlcjQ4MDY4Nzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4806877?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jsignell",
            "html_url": "https://github.com/jsignell",
            "followers_url": "https://api.github.com/users/jsignell/followers",
            "following_url": "https://api.github.com/users/jsignell/following{/other_user}",
            "gists_url": "https://api.github.com/users/jsignell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jsignell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jsignell/subscriptions",
            "organizations_url": "https://api.github.com/users/jsignell/orgs",
            "repos_url": "https://api.github.com/users/jsignell/repos",
            "events_url": "https://api.github.com/users/jsignell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jsignell/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-04-30T17:24:05Z",
        "updated_at": "2020-04-30T17:24:05Z",
        "author_association": "MEMBER",
        "body": "Ok, sorry for the premature close!",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/621992483/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]