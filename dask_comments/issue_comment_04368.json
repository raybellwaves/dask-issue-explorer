[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/453175780",
        "html_url": "https://github.com/dask/dask/issues/4368#issuecomment-453175780",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4368",
        "id": 453175780,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MzE3NTc4MA==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-01-10T17:11:00Z",
        "updated_at": "2019-01-10T17:11:00Z",
        "author_association": "MEMBER",
        "body": "I don't know of any current work on this, but it would be in scope if\nanyone wants to start work on it.\n\nOn Thu, Jan 10, 2019 at 5:41 AM Pierre-Bartet <notifications@github.com>\nwrote:\n\n> Unless I missed it, there is no way to sort or argsort dask arrays, is it\n> a current work in progress ?\n>\n> \u2014\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/dask/dask/issues/4368>, or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AASszFoITk3JhTA4Fti9L8LcoDD8BJ5zks5vB0LtgaJpZM4Z5hQY>\n> .\n>\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/453175780/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/453184641",
        "html_url": "https://github.com/dask/dask/issues/4368#issuecomment-453184641",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4368",
        "id": 453184641,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MzE4NDY0MQ==",
        "user": {
            "login": "shoyer",
            "id": 1217238,
            "node_id": "MDQ6VXNlcjEyMTcyMzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1217238?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shoyer",
            "html_url": "https://github.com/shoyer",
            "followers_url": "https://api.github.com/users/shoyer/followers",
            "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
            "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
            "organizations_url": "https://api.github.com/users/shoyer/orgs",
            "repos_url": "https://api.github.com/users/shoyer/repos",
            "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shoyer/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-01-10T17:34:41Z",
        "updated_at": "2019-06-24T15:02:34Z",
        "author_association": "MEMBER",
        "body": "The easy version of this would be to sort along single dimensions only when they use a single chunk, and otherwise error. The hard version would be to support sorting even in the multiple chunk case. I'd be glad to see either of these in dask.array.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/453184641/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/453233140",
        "html_url": "https://github.com/dask/dask/issues/4368#issuecomment-453233140",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4368",
        "id": 453233140,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MzIzMzE0MA==",
        "user": {
            "login": "Pierre-Bartet",
            "id": 24455641,
            "node_id": "MDQ6VXNlcjI0NDU1NjQx",
            "avatar_url": "https://avatars.githubusercontent.com/u/24455641?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Pierre-Bartet",
            "html_url": "https://github.com/Pierre-Bartet",
            "followers_url": "https://api.github.com/users/Pierre-Bartet/followers",
            "following_url": "https://api.github.com/users/Pierre-Bartet/following{/other_user}",
            "gists_url": "https://api.github.com/users/Pierre-Bartet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Pierre-Bartet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Pierre-Bartet/subscriptions",
            "organizations_url": "https://api.github.com/users/Pierre-Bartet/orgs",
            "repos_url": "https://api.github.com/users/Pierre-Bartet/repos",
            "events_url": "https://api.github.com/users/Pierre-Bartet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Pierre-Bartet/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-01-10T19:59:33Z",
        "updated_at": "2019-01-10T19:59:33Z",
        "author_association": "CONTRIBUTOR",
        "body": "Isn't it done somewhere in dask.dataframe.set_index ? I'll have a look.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/453233140/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/453233771",
        "html_url": "https://github.com/dask/dask/issues/4368#issuecomment-453233771",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4368",
        "id": 453233771,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MzIzMzc3MQ==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-01-10T20:01:32Z",
        "updated_at": "2019-01-10T20:01:32Z",
        "author_association": "MEMBER",
        "body": "Yes\n\nOn Thu, Jan 10, 2019 at 11:59 AM Pierre-Bartet <notifications@github.com>\nwrote:\n\n> Isn't it done somewhere in dask.dataframe.set_index ? I'll have a look.\n>\n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/dask/dask/issues/4368#issuecomment-453233140>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AASszCzj5nXoiaO_5dsuvAkFvKpCYjB6ks5vB5umgaJpZM4Z5hQY>\n> .\n>\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/453233771/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/453541731",
        "html_url": "https://github.com/dask/dask/issues/4368#issuecomment-453541731",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4368",
        "id": 453541731,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MzU0MTczMQ==",
        "user": {
            "login": "Pierre-Bartet",
            "id": 24455641,
            "node_id": "MDQ6VXNlcjI0NDU1NjQx",
            "avatar_url": "https://avatars.githubusercontent.com/u/24455641?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Pierre-Bartet",
            "html_url": "https://github.com/Pierre-Bartet",
            "followers_url": "https://api.github.com/users/Pierre-Bartet/followers",
            "following_url": "https://api.github.com/users/Pierre-Bartet/following{/other_user}",
            "gists_url": "https://api.github.com/users/Pierre-Bartet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Pierre-Bartet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Pierre-Bartet/subscriptions",
            "organizations_url": "https://api.github.com/users/Pierre-Bartet/orgs",
            "repos_url": "https://api.github.com/users/Pierre-Bartet/repos",
            "events_url": "https://api.github.com/users/Pierre-Bartet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Pierre-Bartet/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-01-11T14:52:13Z",
        "updated_at": "2019-01-13T08:46:12Z",
        "author_association": "CONTRIBUTOR",
        "body": "For an intermediate step, I've made a something like this:\r\n\r\nMake a graph -> compute it to obtain parameters p1, p2 -> Make another graph based on p1, p2 -> compute it to obtain desired result\r\n\r\nBut such a computation is not delayable, is there a way to delay a function which already compute a graph ?\r\n\r\nEdit: ok looking at dataframe.set_index code it is exactly the same issue where we have to compute unknown divisions first. It also explains why lazily calling set_index is misleadingly so slow. Isn't there a way to delay such a two (or many) stages computation so that from a user point of view set_index (or sort) is just a single lazy computation ?\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/453541731/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/453843967",
        "html_url": "https://github.com/dask/dask/issues/4368#issuecomment-453843967",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4368",
        "id": 453843967,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Mzg0Mzk2Nw==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-01-13T16:31:14Z",
        "updated_at": "2019-01-13T16:31:14Z",
        "author_association": "MEMBER",
        "body": "> Isn't there a way to delay such a two (or many) stages computation so that from a user point of view set_index (or sort) is just a single lazy computation ?\r\n\r\nNot if the structure of the computation depends on computed values.  When calling `dataframe.set_index` we need the divisions values for future dask.dataframe computations.  If you need to read data to compute these `divisions` values then things can't be entirely lazy.  If you're able to provide them manually then things will be entirely lazy.  \r\n\r\nIn the case of dask array you may not care about having that metadata upfront though, so this may not be an issue for you.\r\n\r\nIn short, if you're able to construct a task graph lazily then please do.  If you need to look at data to construct the task graph then no, there is no way to do that lazily.  (actually, there is, but it involves technology that we tend to avoid putting into dask array for complexity reasons).",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/453843967/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/453928322",
        "html_url": "https://github.com/dask/dask/issues/4368#issuecomment-453928322",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4368",
        "id": 453928322,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MzkyODMyMg==",
        "user": {
            "login": "Pierre-Bartet",
            "id": 24455641,
            "node_id": "MDQ6VXNlcjI0NDU1NjQx",
            "avatar_url": "https://avatars.githubusercontent.com/u/24455641?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Pierre-Bartet",
            "html_url": "https://github.com/Pierre-Bartet",
            "followers_url": "https://api.github.com/users/Pierre-Bartet/followers",
            "following_url": "https://api.github.com/users/Pierre-Bartet/following{/other_user}",
            "gists_url": "https://api.github.com/users/Pierre-Bartet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Pierre-Bartet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Pierre-Bartet/subscriptions",
            "organizations_url": "https://api.github.com/users/Pierre-Bartet/orgs",
            "repos_url": "https://api.github.com/users/Pierre-Bartet/repos",
            "events_url": "https://api.github.com/users/Pierre-Bartet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Pierre-Bartet/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-01-14T08:24:19Z",
        "updated_at": "2019-01-15T13:54:20Z",
        "author_association": "CONTRIBUTOR",
        "body": "Indeed it seems very complex to allow such a thing, but it could worth the complexity.\r\n\r\nEdit: Ok so I think that to be coherent with what is done elsewhere (groupby, shuffle) the way to go to avoid 'task within task' (even if it is potentially possible thanks to futures + get_client) is to use partd/task shuffles.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/453928322/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/505042789",
        "html_url": "https://github.com/dask/dask/issues/4368#issuecomment-505042789",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4368",
        "id": 505042789,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTA0Mjc4OQ==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-06-24T14:47:12Z",
        "updated_at": "2019-06-24T14:47:12Z",
        "author_association": "MEMBER",
        "body": "cc @jrbourbeau (for awareness)",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/505042789/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/505045546",
        "html_url": "https://github.com/dask/dask/issues/4368#issuecomment-505045546",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/4368",
        "id": 505045546,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUwNTA0NTU0Ng==",
        "user": {
            "login": "sjperkins",
            "id": 3530212,
            "node_id": "MDQ6VXNlcjM1MzAyMTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3530212?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sjperkins",
            "html_url": "https://github.com/sjperkins",
            "followers_url": "https://api.github.com/users/sjperkins/followers",
            "following_url": "https://api.github.com/users/sjperkins/following{/other_user}",
            "gists_url": "https://api.github.com/users/sjperkins/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sjperkins/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sjperkins/subscriptions",
            "organizations_url": "https://api.github.com/users/sjperkins/orgs",
            "repos_url": "https://api.github.com/users/sjperkins/repos",
            "events_url": "https://api.github.com/users/sjperkins/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sjperkins/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-06-24T14:53:23Z",
        "updated_at": "2019-06-24T14:53:23Z",
        "author_association": "MEMBER",
        "body": "A k-way merge may be appropriate for the implementation: https://stackoverflow.com/questions/50907949/k-way-merge-sort-divided-on-multiple-hosts",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/505045546/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]