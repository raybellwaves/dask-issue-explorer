[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1400864039",
        "html_url": "https://github.com/dask/dask/pull/9866#issuecomment-1400864039",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9866",
        "id": 1400864039,
        "node_id": "IC_kwDOAbcwm85Tf30n",
        "user": {
            "login": "GPUtester",
            "id": 38199262,
            "node_id": "MDQ6VXNlcjM4MTk5MjYy",
            "avatar_url": "https://avatars.githubusercontent.com/u/38199262?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GPUtester",
            "html_url": "https://github.com/GPUtester",
            "followers_url": "https://api.github.com/users/GPUtester/followers",
            "following_url": "https://api.github.com/users/GPUtester/following{/other_user}",
            "gists_url": "https://api.github.com/users/GPUtester/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GPUtester/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GPUtester/subscriptions",
            "organizations_url": "https://api.github.com/users/GPUtester/orgs",
            "repos_url": "https://api.github.com/users/GPUtester/repos",
            "events_url": "https://api.github.com/users/GPUtester/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GPUtester/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-01-23T19:25:47Z",
        "updated_at": "2023-01-23T19:25:47Z",
        "author_association": "COLLABORATOR",
        "body": "Can one of the admins verify this patch?\n\nAdmins can comment `ok to test` to allow this one PR to run or `add to allowlist` to allow all future PRs from the same author to run.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1400864039/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1400868315",
        "html_url": "https://github.com/dask/dask/pull/9866#issuecomment-1400868315",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9866",
        "id": 1400868315,
        "node_id": "IC_kwDOAbcwm85Tf43b",
        "user": {
            "login": "talkhanz",
            "id": 63508490,
            "node_id": "MDQ6VXNlcjYzNTA4NDkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/63508490?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/talkhanz",
            "html_url": "https://github.com/talkhanz",
            "followers_url": "https://api.github.com/users/talkhanz/followers",
            "following_url": "https://api.github.com/users/talkhanz/following{/other_user}",
            "gists_url": "https://api.github.com/users/talkhanz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/talkhanz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/talkhanz/subscriptions",
            "organizations_url": "https://api.github.com/users/talkhanz/orgs",
            "repos_url": "https://api.github.com/users/talkhanz/repos",
            "events_url": "https://api.github.com/users/talkhanz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/talkhanz/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-01-23T19:29:42Z",
        "updated_at": "2023-01-24T06:49:42Z",
        "author_association": "NONE",
        "body": "this was motivated by a need to use np.fill_diagonal which modifies array in place. I didnt have to do much to be honestly thanks to the fantastic work done for da.diag and da.diagonal and my first assumptions worked well! I only had to consider replacing np.diag and np.diagonal with np.fill_diagonal in the dask function code for the two and voila it worked out besides a little exception handling.  I have tested on a bunch of test cases that resolved some of the use cases I needed to run a dask.array.fill_diagonal implementation on. \r\n\r\nSome other thoughts id like to share: The only thing that irks me is the need to call da.fill_diagonal(array,val,wrap) with a .compute() on to make the in-place array modification take place. I tried it with a custom np.fill_diagonal implementation that returned the array with the filled diagonal. This obviated the need to call a .compute on dask_array = da.fill_diagonal(array,val,wrap) as a dask array was returned. I would like an opinion on this if possible\r\n\r\nI welcome feedback from the dask community!",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1400868315/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1400951266",
        "html_url": "https://github.com/dask/dask/pull/9866#issuecomment-1400951266",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9866",
        "id": 1400951266,
        "node_id": "IC_kwDOAbcwm85TgNHi",
        "user": {
            "login": "ncclementi",
            "id": 7526622,
            "node_id": "MDQ6VXNlcjc1MjY2MjI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7526622?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ncclementi",
            "html_url": "https://github.com/ncclementi",
            "followers_url": "https://api.github.com/users/ncclementi/followers",
            "following_url": "https://api.github.com/users/ncclementi/following{/other_user}",
            "gists_url": "https://api.github.com/users/ncclementi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ncclementi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ncclementi/subscriptions",
            "organizations_url": "https://api.github.com/users/ncclementi/orgs",
            "repos_url": "https://api.github.com/users/ncclementi/repos",
            "events_url": "https://api.github.com/users/ncclementi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ncclementi/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-01-23T20:40:58Z",
        "updated_at": "2023-01-23T20:40:58Z",
        "author_association": "MEMBER",
        "body": "ok to test",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1400951266/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1405266823",
        "html_url": "https://github.com/dask/dask/pull/9866#issuecomment-1405266823",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9866",
        "id": 1405266823,
        "node_id": "IC_kwDOAbcwm85TwquH",
        "user": {
            "login": "talkhanz",
            "id": 63508490,
            "node_id": "MDQ6VXNlcjYzNTA4NDkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/63508490?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/talkhanz",
            "html_url": "https://github.com/talkhanz",
            "followers_url": "https://api.github.com/users/talkhanz/followers",
            "following_url": "https://api.github.com/users/talkhanz/following{/other_user}",
            "gists_url": "https://api.github.com/users/talkhanz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/talkhanz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/talkhanz/subscriptions",
            "organizations_url": "https://api.github.com/users/talkhanz/orgs",
            "repos_url": "https://api.github.com/users/talkhanz/repos",
            "events_url": "https://api.github.com/users/talkhanz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/talkhanz/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-01-26T16:26:38Z",
        "updated_at": "2023-01-26T16:26:38Z",
        "author_association": "NONE",
        "body": "I have noticed da.diagonal breaks when i input a large array without calling dask_array.compute_chunk_sizes().\r\nThis subsequently breaks da.flll_diagonal as well because im reusing da.diagonal code @ncclementi @jrbourbeau \r\n```\r\n 919         row_filter = (row_starts <= kdiag_row_start) & (kdiag_row_start < row_stops_)\r\n    920         col_filter = (col_starts <= kdiag_col_start) & (kdiag_col_start < col_stops_)\r\n--> 921         (I,) = row_blockid[row_filter]\r\n    922         (J,) = col_blockid[col_filter]\r\n    923 \r\n\r\nValueError: not enough values to unpack (expected 1, got 0)\r\n```\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1405266823/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1416307066",
        "html_url": "https://github.com/dask/dask/pull/9866#issuecomment-1416307066",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9866",
        "id": 1416307066,
        "node_id": "IC_kwDOAbcwm85UayF6",
        "user": {
            "login": "talkhanz",
            "id": 63508490,
            "node_id": "MDQ6VXNlcjYzNTA4NDkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/63508490?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/talkhanz",
            "html_url": "https://github.com/talkhanz",
            "followers_url": "https://api.github.com/users/talkhanz/followers",
            "following_url": "https://api.github.com/users/talkhanz/following{/other_user}",
            "gists_url": "https://api.github.com/users/talkhanz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/talkhanz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/talkhanz/subscriptions",
            "organizations_url": "https://api.github.com/users/talkhanz/orgs",
            "repos_url": "https://api.github.com/users/talkhanz/repos",
            "events_url": "https://api.github.com/users/talkhanz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/talkhanz/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-03T19:24:13Z",
        "updated_at": "2023-02-03T19:24:13Z",
        "author_association": "NONE",
        "body": "providing an update that i also have da.fill_diagonal method that returns an array as modifying in place is not recommended as per https://docs.dask.org/en/stable/graphs.html#don-t-modify-data-in-place\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1416307066/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]