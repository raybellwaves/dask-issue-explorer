[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/398508959",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-398508959",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 398508959,
        "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODUwODk1OQ==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-06-19T19:00:26Z",
        "updated_at": "2018-06-19T19:00:26Z",
        "author_association": "MEMBER",
        "body": "As a side note, `map_overlap` allows handling different boundaries with different modes of padding (e.g. reflection on one axis and constant on another). Not aware of any use cases where this is needed. We may consider deprecating this functionality to make this transition simpler.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/398508959/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/400420813",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-400420813",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 400420813,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDQyMDgxMw==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-06-26T18:41:51Z",
        "updated_at": "2018-06-26T18:41:51Z",
        "author_association": "MEMBER",
        "body": "Any thoughts on this, @mrocklin?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/400420813/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/400424224",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-400424224",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 400424224,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDQyNDIyNA==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-06-26T18:53:11Z",
        "updated_at": "2018-06-26T18:53:11Z",
        "author_association": "MEMBER",
        "body": "I suspect that the modes used were built to support scikit-image, but I don't recall exactly.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/400424224/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/400449484",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-400449484",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 400449484,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDQ0OTQ4NA==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-06-26T20:24:19Z",
        "updated_at": "2018-06-26T20:24:19Z",
        "author_association": "MEMBER",
        "body": "Looking at [`da.map_overlap`'s boundaries docs]( http://dask.pydata.org/en/latest/array-ghost.html#boundaries ), these all seem to be supported by [`da.pad`]( http://dask.pydata.org/en/latest/array-api.html#dask.array.pad ). So it should be possible to call `da.pad` in all of these cases. Plus the custom user function case can be handled as well. Though agree it would be good to check.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/400449484/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/400450690",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-400450690",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 400450690,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDQ1MDY5MA==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-06-26T20:28:15Z",
        "updated_at": "2018-06-26T20:28:15Z",
        "author_association": "MEMBER",
        "body": "@emmanuelle @jni, am thinking about using `da.pad` to handle boundary conditions within `da.map_overlap`. Should provide greater flexibility to the user. Would this be of interest for things like `apply_parallel`? Are there other issues or concerns that you can think of, which would need to be addressed?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/400450690/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/400517417",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-400517417",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 400517417,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDUxNzQxNw==",
        "user": {
            "login": "jni",
            "id": 492549,
            "node_id": "MDQ6VXNlcjQ5MjU0OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/492549?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jni",
            "html_url": "https://github.com/jni",
            "followers_url": "https://api.github.com/users/jni/followers",
            "following_url": "https://api.github.com/users/jni/following{/other_user}",
            "gists_url": "https://api.github.com/users/jni/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jni/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jni/subscriptions",
            "organizations_url": "https://api.github.com/users/jni/orgs",
            "repos_url": "https://api.github.com/users/jni/repos",
            "events_url": "https://api.github.com/users/jni/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jni/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-06-27T01:53:20Z",
        "updated_at": "2018-06-27T01:53:20Z",
        "author_association": "CONTRIBUTOR",
        "body": "`da.pad` only applies to external boundaries, not the internal ones, right? So is this about not having to pad a NumPy array ahead of time?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/400517417/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/400540746",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-400540746",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 400540746,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDU0MDc0Ng==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-06-27T04:41:19Z",
        "updated_at": "2018-06-27T04:41:19Z",
        "author_association": "MEMBER",
        "body": "> `da.pad` only applies to external boundaries, not the internal ones, right?\r\n\r\nCorrect.\r\n\r\n> So is this about not having to pad a NumPy array ahead of time?\r\n\r\nSort of.\r\n\r\n`da.map_overlap` provides [some padding options]( http://dask.pydata.org/en/latest/array-ghost.html#boundaries ), but they are limited. [`da.pad`]( http://dask.pydata.org/en/latest/array-api.html#dask.array.pad ) provides substantially more options (including those supported by `map_overlap` currently). So this is about finding the best way to make use of `da.pad` with `da.map_overlap` to provide these additional options to the user.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/400540746/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/400546454",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-400546454",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 400546454,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDU0NjQ1NA==",
        "user": {
            "login": "jni",
            "id": 492549,
            "node_id": "MDQ6VXNlcjQ5MjU0OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/492549?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jni",
            "html_url": "https://github.com/jni",
            "followers_url": "https://api.github.com/users/jni/followers",
            "following_url": "https://api.github.com/users/jni/following{/other_user}",
            "gists_url": "https://api.github.com/users/jni/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jni/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jni/subscriptions",
            "organizations_url": "https://api.github.com/users/jni/orgs",
            "repos_url": "https://api.github.com/users/jni/repos",
            "events_url": "https://api.github.com/users/jni/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jni/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-06-27T05:23:58Z",
        "updated_at": "2018-06-27T05:23:58Z",
        "author_association": "CONTRIBUTOR",
        "body": "Oh. Why does `da.map_overlap` not call out to `da.pad`?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/400546454/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/400550575",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-400550575",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 400550575,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDU1MDU3NQ==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-06-27T05:49:59Z",
        "updated_at": "2018-06-27T05:49:59Z",
        "author_association": "MEMBER",
        "body": "Indeed, agree it should. Mainly because `da.pad` only recently got added. :)\r\n\r\nWe should also think about how we can pass arguments through `da.map_overlap` to `da.pad`.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/400550575/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/421121596",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-421121596",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 421121596,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTEyMTU5Ng==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-09-13T19:19:17Z",
        "updated_at": "2018-09-13T19:19:17Z",
        "author_association": "MEMBER",
        "body": "As you have been looking into related issues, @hmaarrfk, would be interested to hear your thoughts on this. :)",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/421121596/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/421143761",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-421143761",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 421143761,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTE0Mzc2MQ==",
        "user": {
            "login": "hmaarrfk",
            "id": 90008,
            "node_id": "MDQ6VXNlcjkwMDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/90008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hmaarrfk",
            "html_url": "https://github.com/hmaarrfk",
            "followers_url": "https://api.github.com/users/hmaarrfk/followers",
            "following_url": "https://api.github.com/users/hmaarrfk/following{/other_user}",
            "gists_url": "https://api.github.com/users/hmaarrfk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hmaarrfk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hmaarrfk/subscriptions",
            "organizations_url": "https://api.github.com/users/hmaarrfk/orgs",
            "repos_url": "https://api.github.com/users/hmaarrfk/repos",
            "events_url": "https://api.github.com/users/hmaarrfk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hmaarrfk/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-09-13T20:34:01Z",
        "updated_at": "2018-09-13T20:34:01Z",
        "author_association": "MEMBER",
        "body": "so `pad`  adds fancy ramps on the outside of the array. I don't see any problem with that.\r\n\r\nThe issue with `map_overlap` was that it was using concatenate to add virtual boundaries that would then get removed when the boundary was `none`. For a 2D array, this would result in 3 extra memory copies (vertical boundary, horizontal boundary, corner boundary).\r\n\r\nI don't know how pad is implemented but whatever it does, it should ensure that a single memory copy is necessary no matter the dimensionality of the originating array. There might even be more ways to optimize higher dimentionality arrays.\r\n\r\nFYI: a dask is only interested in large arrays, I figured I would cross ref this post.\r\n\r\nSome speedup can be expected in numpy 1.15.2 if the future PR mentionned at the bottom of this issue gets merged in: https://github.com/numpy/numpy/issues/11919\r\nBasically, copying large arrays linux was limited by page faulting\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/421143761/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/421380897",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-421380897",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 421380897,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTM4MDg5Nw==",
        "user": {
            "login": "hmaarrfk",
            "id": 90008,
            "node_id": "MDQ6VXNlcjkwMDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/90008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hmaarrfk",
            "html_url": "https://github.com/hmaarrfk",
            "followers_url": "https://api.github.com/users/hmaarrfk/followers",
            "following_url": "https://api.github.com/users/hmaarrfk/following{/other_user}",
            "gists_url": "https://api.github.com/users/hmaarrfk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hmaarrfk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hmaarrfk/subscriptions",
            "organizations_url": "https://api.github.com/users/hmaarrfk/orgs",
            "repos_url": "https://api.github.com/users/hmaarrfk/repos",
            "events_url": "https://api.github.com/users/hmaarrfk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hmaarrfk/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-09-14T14:43:44Z",
        "updated_at": "2018-09-14T14:43:44Z",
        "author_association": "MEMBER",
        "body": "Here are a few interesting benchmarks. We consider the case where we want to pad an chunked array. \r\nIf we want to have a contiguous array in memory, we must incur the cost of at least 1 memory copy. Numpy gives us an easy way to **express** this idea:\r\n\r\ni7 7700 HQ, Dual channel DDR4 2400MHz\r\n\r\n```python\r\nimport numpy as np\r\nfrom dask import array as da\r\n\r\nshape = (50, 1024, 1024)\r\nchunks = (50, shape[1]//2, shape[2]//2)\r\ndtype = 'uint8'\r\npadding = 10\r\n\r\npadded_chunks = (chunks[0] + padding*2, chunks[1] + padding * 2, chunks[2] + padding*2)\r\nd1 = da.ones(shape=shape, chunks=chunks, dtype=dtype).persist()\r\nn1 = np.ones(shape=shape, dtype=dtype)\r\n```\r\n```python\r\n%%timeit\r\nconstant_value = 0\r\nn00 = np.empty(shape=padded_chunks, dtype=d_padded.dtype)\r\nn01 = np.empty(shape=padded_chunks, dtype=d_padded.dtype)\r\nn10 = np.empty(shape=padded_chunks, dtype=d_padded.dtype)\r\nn11 = np.empty(shape=padded_chunks, dtype=d_padded.dtype)\r\n\r\nn00[padding:-padding, padding:-padding, padding:-padding] = n1[:, :n1.shape[1]//2, :n1.shape[2]//2]\r\nn11[padding:-padding, padding:-padding, padding:-padding] = n1[:, n1.shape[1]//2:, n1.shape[2]//2:]\r\nn01[padding:-padding, padding:-padding, padding:-padding] = n1[:, n1.shape[1]//2:, :n1.shape[2]//2]\r\nn01[padding:-padding, padding:-padding, padding:-padding] = n1[:, :n1.shape[1]//2, n1.shape[2]//2:]\r\n\r\n\r\nfor this_n in [n00, n01, n10, n11]:\r\n    this_n[:padding, ...] = 0\r\n    this_n[-padding:, ...] = 0\r\n    this_n[:, :padding, ...] = 0\r\n    this_n[:, -padding:, ...] = 0\r\n    this_n[:, :, :padding, ...] = 0\r\n    this_n[:, :, -padding:, ...] = 0\r\n```\r\n\r\n`12.1 ms \u00b1 59.5 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)`\r\n\r\nDask doesn't support array assignments. Which means we have to use the other primitives that are provided. Note that `d1` is persisted, therefore we don't count the creation of the `ones` array. Also please note that creating `zeros` isn't the same as initializing the memory to zero. The OS might trick you and so you would still incur page faults.\r\n\r\n```python\r\nd_padded = da.pad(d1, padding, mode='constant', constant_values=0)\r\n%timeit _ = d_padded.persist()\r\n```\r\n\r\n`43.7 ms \u00b1 452 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)`\r\n\r\n```\r\nd_overlaped = da.overlap.overlap(d1, depth=padding, boundary='nearest')\r\n%timeit _ = d_overlaped.persist()\r\n```\r\n`98.9 ms \u00b1 1.51 ms per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)`\r\n\r\nI've seen dask take 30 ms to start up in an other benchmark. So i'm not sure what the culprit is.\r\n\r\nI tried to write code that would effectively implement the numpy logic I wrote above in dask. Unfortunately, it was difficult without being able to assign to slices of dask arrays. Is this a feature that will be possible in the near future?\r\n\r\nFor tasks that finish in seconds, this kind of overhead is REALLY high. Is there a benchmarking suite for dask? It would be interesting to add these to it.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/421380897/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/421382155",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-421382155",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 421382155,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTM4MjE1NQ==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-09-14T14:47:27Z",
        "updated_at": "2018-09-14T14:47:27Z",
        "author_association": "MEMBER",
        "body": "> Unfortunately, it was difficult without being able to assign to slices of dask arrays. Is this a feature that will be possible in the near future?\r\n\r\nIt's certainly in-scope, but it would be challenging.  Implementing numpy-style slicing on chunked datasets is hard and requires some attention to detail.  We did this work for `__getitem__`.  The same work could be done for `__setitem__`, it just requires someone who has the focus and time to get it done.  https://github.com/dask/dask/blob/master/dask/array/slicing.py",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/421382155/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/421382415",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-421382415",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 421382415,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTM4MjQxNQ==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-09-14T14:48:13Z",
        "updated_at": "2018-09-14T14:48:13Z",
        "author_association": "MEMBER",
        "body": "> Is there a benchmarking suite for dask? It would be interesting to add these to it.\r\n\r\nThere is, though it's not well maintained.  No reason not to start now though :)\r\n\r\nhttps://github.com/dask/dask-benchmarks",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/421382415/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/421391228",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-421391228",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 421391228,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTM5MTIyOA==",
        "user": {
            "login": "hmaarrfk",
            "id": 90008,
            "node_id": "MDQ6VXNlcjkwMDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/90008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hmaarrfk",
            "html_url": "https://github.com/hmaarrfk",
            "followers_url": "https://api.github.com/users/hmaarrfk/followers",
            "following_url": "https://api.github.com/users/hmaarrfk/following{/other_user}",
            "gists_url": "https://api.github.com/users/hmaarrfk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hmaarrfk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hmaarrfk/subscriptions",
            "organizations_url": "https://api.github.com/users/hmaarrfk/orgs",
            "repos_url": "https://api.github.com/users/hmaarrfk/repos",
            "events_url": "https://api.github.com/users/hmaarrfk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hmaarrfk/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-09-14T15:15:25Z",
        "updated_at": "2018-09-14T15:15:25Z",
        "author_association": "MEMBER",
        "body": "WRT slicing, I think one time you mentioned that dask arrays were immutable.\r\n\r\nI think that mutable assignments might make a whole copy of the array? kinda scary. That would require much though.\r\n\r\nI think you could do it without that ability, just expressing things might be different.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/421391228/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/421391999",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-421391999",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 421391999,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTM5MTk5OQ==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-09-14T15:18:07Z",
        "updated_at": "2018-09-14T15:18:07Z",
        "author_association": "MEMBER",
        "body": "> I think one time you mentioned that dask arrays were immutable.\r\n\r\nthis is not currently the case\r\n\r\n> I think that mutable assignments might make a whole copy of the array?\r\n\r\nWhat does a \"whole copy of the array\" mean in this case?  A dask array is a task graph that constructs an array.  There isn't necessarily any data actively in memory when you copy it.  It's just a plan.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/421391999/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/421392385",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-421392385",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 421392385,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTM5MjM4NQ==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-09-14T15:19:22Z",
        "updated_at": "2018-09-14T15:19:22Z",
        "author_association": "MEMBER",
        "body": "> so `pad` adds fancy ramps on the outside of the array.\r\n\r\nIn some cases, yes. In other cases it may alter the original edge chunks. For example look at `pad_edge`. It really depends on the kind of padding chosen.\r\n\r\n> I don't know how pad is implemented but whatever it does, it should ensure that a single memory copy is necessary no matter the dimensionality of the originating array.\r\n\r\nFor the cases where it alters an original edge chunk, it just calls `numpy.pad` with appropriate arguments. Other cases where the original edge chunks are not altered we perform some sort of global operation and attach the results onto the edges and corners of the array. So the original edge chunks are not modified for the padded array in this case. In all cases, interior chunks are untouched.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/421392385/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/421396492",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-421396492",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 421396492,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTM5NjQ5Mg==",
        "user": {
            "login": "hmaarrfk",
            "id": 90008,
            "node_id": "MDQ6VXNlcjkwMDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/90008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hmaarrfk",
            "html_url": "https://github.com/hmaarrfk",
            "followers_url": "https://api.github.com/users/hmaarrfk/followers",
            "following_url": "https://api.github.com/users/hmaarrfk/following{/other_user}",
            "gists_url": "https://api.github.com/users/hmaarrfk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hmaarrfk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hmaarrfk/subscriptions",
            "organizations_url": "https://api.github.com/users/hmaarrfk/orgs",
            "repos_url": "https://api.github.com/users/hmaarrfk/repos",
            "events_url": "https://api.github.com/users/hmaarrfk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hmaarrfk/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-09-14T15:33:02Z",
        "updated_at": "2018-09-14T15:33:02Z",
        "author_association": "MEMBER",
        "body": "@jakirkham I didn't know about then numpy pad function. According to this benchmark it should basically not be used. a 4x slowdown!\r\n\r\n```python\r\n%%timeit\r\nn00 = np.pad(n1[:, :chunks[1], :chunks[2]], pad_width=padding, mode='constant', constant_values=0)\r\nn11 = np.pad(n1[:, chunks[1]:, chunks[2]:], pad_width=padding, mode='constant', constant_values=0)\r\nn01 = np.pad(n1[:, chunks[1]:, :chunks[2]], pad_width=padding, mode='constant', constant_values=0)\r\nn01 = np.pad(n1[:, :chunks[1], chunks[2]:], pad_width=padding, mode='constant', constant_values=0)\r\n```\r\n\r\n`68 ms \u00b1 787 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)`\r\n\r\nFYI, I may have installed that hugepages patch. so your benchmarks may differ. \r\n\r\nThe challenge that I think dask users will see (well I definitely saw) is that every operation becomes an out of cache operation. As such, repeated memory copies are unacceptable since you will always hit memory bandwidth limits.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/421396492/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/421399247",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-421399247",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 421399247,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTM5OTI0Nw==",
        "user": {
            "login": "hmaarrfk",
            "id": 90008,
            "node_id": "MDQ6VXNlcjkwMDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/90008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hmaarrfk",
            "html_url": "https://github.com/hmaarrfk",
            "followers_url": "https://api.github.com/users/hmaarrfk/followers",
            "following_url": "https://api.github.com/users/hmaarrfk/following{/other_user}",
            "gists_url": "https://api.github.com/users/hmaarrfk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hmaarrfk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hmaarrfk/subscriptions",
            "organizations_url": "https://api.github.com/users/hmaarrfk/orgs",
            "repos_url": "https://api.github.com/users/hmaarrfk/repos",
            "events_url": "https://api.github.com/users/hmaarrfk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hmaarrfk/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-09-14T15:42:23Z",
        "updated_at": "2018-09-14T15:42:23Z",
        "author_association": "MEMBER",
        "body": "Effectively, for a 3D array, `np.concatenate` is called `3*ndims` to pad an array!!\r\n\r\nhttps://github.com/numpy/numpy/blob/v1.15.1/numpy/lib/arraypad.py#L97\r\n\r\nI'm worried that I might be missing something. The comment is very encouraging so I'm not sure about the exact benchmark\r\n\r\nThis commit changed implementation, from something that looks like the `fast`, I showed to a new concatenation algorithm\r\nhttps://github.com/numpy/numpy/commit/246c06d2475718ec36ba193494444464e497c69a#diff-4fcddc9140fbe901655b3e1bd484205cR1331",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/421399247/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/421401068",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-421401068",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 421401068,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTQwMTA2OA==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-09-14T15:48:33Z",
        "updated_at": "2018-09-14T15:48:33Z",
        "author_association": "MEMBER",
        "body": "Think I'm missing some things in your benchmark. What are `n1`, `chunks`, and `padding` in this case? Also what are we comparing to?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/421401068/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/421401672",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-421401672",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 421401672,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTQwMTY3Mg==",
        "user": {
            "login": "hmaarrfk",
            "id": 90008,
            "node_id": "MDQ6VXNlcjkwMDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/90008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hmaarrfk",
            "html_url": "https://github.com/hmaarrfk",
            "followers_url": "https://api.github.com/users/hmaarrfk/followers",
            "following_url": "https://api.github.com/users/hmaarrfk/following{/other_user}",
            "gists_url": "https://api.github.com/users/hmaarrfk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hmaarrfk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hmaarrfk/subscriptions",
            "organizations_url": "https://api.github.com/users/hmaarrfk/orgs",
            "repos_url": "https://api.github.com/users/hmaarrfk/repos",
            "events_url": "https://api.github.com/users/hmaarrfk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hmaarrfk/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-09-14T15:50:26Z",
        "updated_at": "2018-09-14T15:50:26Z",
        "author_association": "MEMBER",
        "body": "You probably need code from https://github.com/dask/dask/issues/3641#issuecomment-421380897\r\nand i'm comparing to my naive implementation that makes use of `np.empty` and slicing.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/421401672/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/421403976",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-421403976",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 421403976,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTQwMzk3Ng==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-09-14T15:58:08Z",
        "updated_at": "2018-09-14T15:58:08Z",
        "author_association": "MEMBER",
        "body": "Need to think about this more, but comparing `da.pad` with a constant to `da.overlap.constant` is probably a more appropriate comparison for determining whether `da.pad` should be used in `map_overlap`.\r\n\r\nIf we think `numpy.pad`'s performance is poor, would be good to address that upstream.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/421403976/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/421420636",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-421420636",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 421420636,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTQyMDYzNg==",
        "user": {
            "login": "hmaarrfk",
            "id": 90008,
            "node_id": "MDQ6VXNlcjkwMDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/90008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hmaarrfk",
            "html_url": "https://github.com/hmaarrfk",
            "followers_url": "https://api.github.com/users/hmaarrfk/followers",
            "following_url": "https://api.github.com/users/hmaarrfk/following{/other_user}",
            "gists_url": "https://api.github.com/users/hmaarrfk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hmaarrfk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hmaarrfk/subscriptions",
            "organizations_url": "https://api.github.com/users/hmaarrfk/orgs",
            "repos_url": "https://api.github.com/users/hmaarrfk/repos",
            "events_url": "https://api.github.com/users/hmaarrfk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hmaarrfk/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-09-14T16:57:16Z",
        "updated_at": "2018-09-14T16:57:16Z",
        "author_association": "MEMBER",
        "body": "Here is the numpy issue that looks at this:\r\n\r\nhttps://github.com/numpy/numpy/issues/11126#issuecomment-421418820\r\n\r\nI've provided my benchmark there that illustrates the problem in a much more succinct way for `np.pad`\r\n\r\nI would say that benchmarks **need** to be used to motivate whatever choice is made. After all, dask is all about large arrays.\r\n\r\n1. I would be hesitant to add all the numpy options because it would be \"irreversable\". Instead, you can call out to the `pad` function, but keep the overlap functions minimal that way you can roll back in 6 months if `np.pad` improves in performance (whch it might since I might be motivated to do it depending on how much time I have).\r\n2. Improve the documentation on the `dask.overlapped` module to teach people how to break down their operations that way they can choose the implementation that is best for their use-case.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/421420636/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/421591556",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-421591556",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 421591556,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTU5MTU1Ng==",
        "user": {
            "login": "hmaarrfk",
            "id": 90008,
            "node_id": "MDQ6VXNlcjkwMDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/90008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hmaarrfk",
            "html_url": "https://github.com/hmaarrfk",
            "followers_url": "https://api.github.com/users/hmaarrfk/followers",
            "following_url": "https://api.github.com/users/hmaarrfk/following{/other_user}",
            "gists_url": "https://api.github.com/users/hmaarrfk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hmaarrfk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hmaarrfk/subscriptions",
            "organizations_url": "https://api.github.com/users/hmaarrfk/orgs",
            "repos_url": "https://api.github.com/users/hmaarrfk/repos",
            "events_url": "https://api.github.com/users/hmaarrfk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hmaarrfk/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-09-15T16:02:05Z",
        "updated_at": "2018-09-15T16:02:05Z",
        "author_association": "MEMBER",
        "body": "So here is a PR that should make `numpy.pad` much faster especially for dask users.\r\n\r\nhttps://github.com/numpy/numpy/pull/11358\r\n\r\nBenchmarking dask with this PR included might be super important if we do.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/421591556/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/421613327",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-421613327",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 421613327,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTYxMzMyNw==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-09-15T18:35:21Z",
        "updated_at": "2018-09-15T18:35:21Z",
        "author_association": "MEMBER",
        "body": "Thanks for working with upstream on this @hmaarrfk. It\u2019s greatly appreciated \ud83d\ude42",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/421613327/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/434152853",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-434152853",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 434152853,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDE1Mjg1Mw==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-10-30T02:49:53Z",
        "updated_at": "2018-10-30T02:49:53Z",
        "author_association": "MEMBER",
        "body": "Given it's taking a bit to resolve the `numpy.pad` issue, took a look at `da.pad` again to see if we could eliminate `numpy.pad` in the cases it was used. Think PR ( https://github.com/dask/dask/pull/4152 ) addresses this concern. Also has the benefit of making the padding behavior a bit more consistent between padding modes.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/434152853/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/504152109",
        "html_url": "https://github.com/dask/dask/issues/3641#issuecomment-504152109",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3641",
        "id": 504152109,
        "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDE1MjEwOQ==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-06-20T19:26:46Z",
        "updated_at": "2019-06-20T19:31:49Z",
        "author_association": "MEMBER",
        "body": "If we are comfortable with a breaking change here, we could make another 1.x release, which warns users that boundaries will not be handled by `da.map_overlap` going forward and users should call `da.pad` before calling `da.map_overlap` to get this functionality. As part of 2.0, we could then remove these options.\r\n\r\nEdit: Also worth pointing to issue ( https://github.com/dask/dask/issues/4252 ), which suggests this.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/504152109/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]