[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/400489933",
        "html_url": "https://github.com/dask/dask/issues/3674#issuecomment-400489933",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3674",
        "id": 400489933,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDQ4OTkzMw==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-06-26T23:02:21Z",
        "updated_at": "2018-06-26T23:02:21Z",
        "author_association": "MEMBER",
        "body": "My gut feeling here is that there will be too many competing interests for\nDask to enforce a universally acceptable policy here, and that we'll\nprobably have to defer this to users.\n\nI believe that @crusaderky had thoughts on this topic at some point (though\nI could be mistaken about who this was) and may be interested in this issue.\n\nOn Tue, Jun 26, 2018 at 6:48 PM, Yu Feng <notifications@github.com> wrote:\n\n> In dask 0.18.1, the return value of compute() can be a view to the\n> original data. When the result of compute() is modified in-place for\n> post-processing, the behavior is surprising, as the original data is\n> tainted as well.\n>\n> def test_return_no_views():\n>     import dask.array as da\n>     import numpy\n>     a = numpy.ones(10)\n>     d = da.from_array(a, chunks=10)\n>\n>     r = d.compute()\n>     r[3:4] = 2\n>     assert (a == 1).all() # fails because a is modified as well.\n>\n> On the other hand, if any operations were performed during the\n> construction of d, then inplace modification of the result of compute()\n> won't affect the original input a.\n>\n> If a view is highly desired (for performance) then consider marking the\n> result of compute() read-only when a view to the original data is returned,\n> to provide some numpy level protection against accidental overwriting the\n> original data.\n>\n> \u2014\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/dask/dask/issues/3674>, or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AASszFxw5YrJS62ucTaweUSi_5jJfLuRks5uAroggaJpZM4U4y-5>\n> .\n>\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/400489933/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/400520296",
        "html_url": "https://github.com/dask/dask/issues/3674#issuecomment-400520296",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3674",
        "id": 400520296,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDUyMDI5Ng==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-06-27T02:13:10Z",
        "updated_at": "2018-06-27T02:13:10Z",
        "author_association": "MEMBER",
        "body": "There was some discussion about making NumPy arrays read-only when used internally within the graph. This seems like desirable behavior to me.\r\n\r\nGuessing you are referring to issue ( https://github.com/dask/distributed/issues/1978 ), @mrocklin, agree that seems related.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/400520296/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/400561399",
        "html_url": "https://github.com/dask/dask/issues/3674#issuecomment-400561399",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3674",
        "id": 400561399,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDU2MTM5OQ==",
        "user": {
            "login": "crusaderky",
            "id": 6213168,
            "node_id": "MDQ6VXNlcjYyMTMxNjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6213168?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/crusaderky",
            "html_url": "https://github.com/crusaderky",
            "followers_url": "https://api.github.com/users/crusaderky/followers",
            "following_url": "https://api.github.com/users/crusaderky/following{/other_user}",
            "gists_url": "https://api.github.com/users/crusaderky/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/crusaderky/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/crusaderky/subscriptions",
            "organizations_url": "https://api.github.com/users/crusaderky/orgs",
            "repos_url": "https://api.github.com/users/crusaderky/repos",
            "events_url": "https://api.github.com/users/crusaderky/events{/privacy}",
            "received_events_url": "https://api.github.com/users/crusaderky/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-06-27T06:46:32Z",
        "updated_at": "2018-06-27T06:46:32Z",
        "author_association": "MEMBER",
        "body": "making the view read only seems sane to me and doesn't have the performance drawbacks of a copy ",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/400561399/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/400830655",
        "html_url": "https://github.com/dask/dask/issues/3674#issuecomment-400830655",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3674",
        "id": 400830655,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwMDgzMDY1NQ==",
        "user": {
            "login": "rainwoodman",
            "id": 138060,
            "node_id": "MDQ6VXNlcjEzODA2MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/138060?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rainwoodman",
            "html_url": "https://github.com/rainwoodman",
            "followers_url": "https://api.github.com/users/rainwoodman/followers",
            "following_url": "https://api.github.com/users/rainwoodman/following{/other_user}",
            "gists_url": "https://api.github.com/users/rainwoodman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rainwoodman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rainwoodman/subscriptions",
            "organizations_url": "https://api.github.com/users/rainwoodman/orgs",
            "repos_url": "https://api.github.com/users/rainwoodman/repos",
            "events_url": "https://api.github.com/users/rainwoodman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rainwoodman/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-06-27T21:12:17Z",
        "updated_at": "2018-06-27T21:12:17Z",
        "author_association": "CONTRIBUTOR",
        "body": "What about regardless marking result of `da.compute` read-only regardless? I suspect this could be a single line change at the end of the compute function.\r\n\r\n- It is difficult to tell if a view or a new instance is created. \r\n\r\n- This would be the behavior if the proposal in 1978 is fully implemented. Though by not requiring intermediate results to be read-only is keeps the compatibility with extensions not using cython 0.28 read-only memoryviews.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/400830655/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/405022346",
        "html_url": "https://github.com/dask/dask/issues/3674#issuecomment-405022346",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3674",
        "id": 405022346,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTAyMjM0Ng==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-07-14T13:01:00Z",
        "updated_at": "2018-07-14T13:01:00Z",
        "author_association": "MEMBER",
        "body": "Note that today you can call `x.copy()` and, if the array has a single chunk, it will do an actual copy.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/405022346/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]