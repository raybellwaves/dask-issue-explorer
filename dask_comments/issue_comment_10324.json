[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1570856656",
        "html_url": "https://github.com/dask/dask/issues/10324#issuecomment-1570856656",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/10324",
        "id": 1570856656,
        "node_id": "IC_kwDOAbcwm85doV7Q",
        "user": {
            "login": "jrbourbeau",
            "id": 11656932,
            "node_id": "MDQ6VXNlcjExNjU2OTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/11656932?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jrbourbeau",
            "html_url": "https://github.com/jrbourbeau",
            "followers_url": "https://api.github.com/users/jrbourbeau/followers",
            "following_url": "https://api.github.com/users/jrbourbeau/following{/other_user}",
            "gists_url": "https://api.github.com/users/jrbourbeau/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jrbourbeau/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jrbourbeau/subscriptions",
            "organizations_url": "https://api.github.com/users/jrbourbeau/orgs",
            "repos_url": "https://api.github.com/users/jrbourbeau/repos",
            "events_url": "https://api.github.com/users/jrbourbeau/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jrbourbeau/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-05-31T19:57:40Z",
        "updated_at": "2023-05-31T19:57:40Z",
        "author_association": "MEMBER",
        "body": "Thanks @carshadi, I'm able to reproduce. What you're doing seems a little off to me as `storage_options` are supposed to be forwarded to the creation of an `FSStore` object\r\n\r\nhttps://github.com/dask/dask/blob/940bcd1e702ca0a0dbb9a054074cd1ed31bbc9d1/dask/array/core.py#L3708-L3713\r\n\r\nSo it seems strange to want to both use `storage_options` and specify an existing `FSStore` instance. \r\n\r\nThat said, the behavior you've highlighted here (writing to local disk) is arguably even more strange and problematic. My guess is the thing to do here is to raise an informative error when `url` is an `FSStore` instance and `storage_options` are given. ",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1570856656/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1570868732",
        "html_url": "https://github.com/dask/dask/issues/10324#issuecomment-1570868732",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/10324",
        "id": 1570868732,
        "node_id": "IC_kwDOAbcwm85doY38",
        "user": {
            "login": "carshadi",
            "id": 44130022,
            "node_id": "MDQ6VXNlcjQ0MTMwMDIy",
            "avatar_url": "https://avatars.githubusercontent.com/u/44130022?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/carshadi",
            "html_url": "https://github.com/carshadi",
            "followers_url": "https://api.github.com/users/carshadi/followers",
            "following_url": "https://api.github.com/users/carshadi/following{/other_user}",
            "gists_url": "https://api.github.com/users/carshadi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/carshadi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/carshadi/subscriptions",
            "organizations_url": "https://api.github.com/users/carshadi/orgs",
            "repos_url": "https://api.github.com/users/carshadi/repos",
            "events_url": "https://api.github.com/users/carshadi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/carshadi/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-05-31T20:06:07Z",
        "updated_at": "2023-05-31T20:06:07Z",
        "author_association": "NONE",
        "body": "I first noticed this when using `ome-zarr-py`, they essentially do the above in the `writer.write_multiscale` function https://github.com/ome/ome-zarr-py/blob/685eb89ab009560f5e41bd7cd0b7c067d91e0a2e/ome_zarr/writer.py#L252-L260\r\n\r\n`storage_options` is always given, so the error occurs. I will also open an issue in their repo referencing this one.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1570868732/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1570875072",
        "html_url": "https://github.com/dask/dask/issues/10324#issuecomment-1570875072",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/10324",
        "id": 1570875072,
        "node_id": "IC_kwDOAbcwm85doabA",
        "user": {
            "login": "jrbourbeau",
            "id": 11656932,
            "node_id": "MDQ6VXNlcjExNjU2OTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/11656932?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jrbourbeau",
            "html_url": "https://github.com/jrbourbeau",
            "followers_url": "https://api.github.com/users/jrbourbeau/followers",
            "following_url": "https://api.github.com/users/jrbourbeau/following{/other_user}",
            "gists_url": "https://api.github.com/users/jrbourbeau/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jrbourbeau/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jrbourbeau/subscriptions",
            "organizations_url": "https://api.github.com/users/jrbourbeau/orgs",
            "repos_url": "https://api.github.com/users/jrbourbeau/repos",
            "events_url": "https://api.github.com/users/jrbourbeau/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jrbourbeau/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-05-31T20:09:30Z",
        "updated_at": "2023-05-31T20:09:30Z",
        "author_association": "MEMBER",
        "body": "Thanks @carshadi\r\n\r\n> I first noticed this when using `ome-zarr-py`\r\n\r\n@joshmoore is the Zarr expert anyways : ) ",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1570875072/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]