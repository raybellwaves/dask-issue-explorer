[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/725197894",
        "html_url": "https://github.com/dask/dask/issues/6827#issuecomment-725197894",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6827",
        "id": 725197894,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcyNTE5Nzg5NA==",
        "user": {
            "login": "rjzamora",
            "id": 20461013,
            "node_id": "MDQ6VXNlcjIwNDYxMDEz",
            "avatar_url": "https://avatars.githubusercontent.com/u/20461013?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rjzamora",
            "html_url": "https://github.com/rjzamora",
            "followers_url": "https://api.github.com/users/rjzamora/followers",
            "following_url": "https://api.github.com/users/rjzamora/following{/other_user}",
            "gists_url": "https://api.github.com/users/rjzamora/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rjzamora/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rjzamora/subscriptions",
            "organizations_url": "https://api.github.com/users/rjzamora/orgs",
            "repos_url": "https://api.github.com/users/rjzamora/repos",
            "events_url": "https://api.github.com/users/rjzamora/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rjzamora/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-11T04:55:17Z",
        "updated_at": "2020-11-11T04:55:17Z",
        "author_association": "MEMBER",
        "body": "> When I write to parquet using the below code, the correct parquet folders are created (i.e. name=XXXX), but the parquet files also have the name field which is the column I partitioned on.\r\n\r\nI can try to reproduce myself tomorrow, but my understanding is that you are correct: The individual parquet files should not include the column(s) used for partitioning.  Are you reading back a single file with something like pandas when you find this behavior?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/725197894/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/725562912",
        "html_url": "https://github.com/dask/dask/issues/6827#issuecomment-725562912",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6827",
        "id": 725562912,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcyNTU2MjkxMg==",
        "user": {
            "login": "eric-valente",
            "id": 35536427,
            "node_id": "MDQ6VXNlcjM1NTM2NDI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/35536427?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/eric-valente",
            "html_url": "https://github.com/eric-valente",
            "followers_url": "https://api.github.com/users/eric-valente/followers",
            "following_url": "https://api.github.com/users/eric-valente/following{/other_user}",
            "gists_url": "https://api.github.com/users/eric-valente/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/eric-valente/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/eric-valente/subscriptions",
            "organizations_url": "https://api.github.com/users/eric-valente/orgs",
            "repos_url": "https://api.github.com/users/eric-valente/repos",
            "events_url": "https://api.github.com/users/eric-valente/events{/privacy}",
            "received_events_url": "https://api.github.com/users/eric-valente/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-11T17:41:12Z",
        "updated_at": "2020-11-11T17:42:52Z",
        "author_association": "NONE",
        "body": "Hi @rjzamora thank you so much for the reply.  \r\n\r\nI'm using Dask to write the partitions to S3:\r\n```\r\n.to_parquet(f\"s3://bucket/cartest\", engine=\"pyarrow\", write_index=False, compression=\"snappy\", partition_on=['Car'])\r\n```\r\nThen using awswrangler to write the data to AWS Glue/Athena and it's picking up a second column that matches the partition column name.  \r\n```\r\nwr.s3.store_parquet_metadata(\r\n    path='s3://bucket/cartest',\r\n    database=\"database\",\r\n    table=\"cartest\",\r\n    dataset=True,\r\n    mode=\"overwrite\",\r\n    compression=\"snappy\",\r\n    use_threads=True\r\n)\r\n```\r\n![image](https://user-images.githubusercontent.com/35536427/98845201-3739c700-2402-11eb-983b-e4c74540f5ff.png)\r\n\r\nIt may be on their side, I'm checking there - I'll let you know, thanks again! \r\n\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/725562912/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]