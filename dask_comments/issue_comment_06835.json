[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/726822756",
        "html_url": "https://github.com/dask/dask/issues/6835#issuecomment-726822756",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6835",
        "id": 726822756,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcyNjgyMjc1Ng==",
        "user": {
            "login": "RogerMoens",
            "id": 45488927,
            "node_id": "MDQ6VXNlcjQ1NDg4OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/45488927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RogerMoens",
            "html_url": "https://github.com/RogerMoens",
            "followers_url": "https://api.github.com/users/RogerMoens/followers",
            "following_url": "https://api.github.com/users/RogerMoens/following{/other_user}",
            "gists_url": "https://api.github.com/users/RogerMoens/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RogerMoens/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RogerMoens/subscriptions",
            "organizations_url": "https://api.github.com/users/RogerMoens/orgs",
            "repos_url": "https://api.github.com/users/RogerMoens/repos",
            "events_url": "https://api.github.com/users/RogerMoens/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RogerMoens/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-13T15:18:52Z",
        "updated_at": "2020-11-13T15:52:09Z",
        "author_association": "CONTRIBUTOR",
        "body": "Also as an addition to this:\r\nhttps://www.stat.berkeley.edu/~mmahoney/pubs/lawn297.pdf\r\nand\r\nhttps://arxiv.org/pdf/1910.01354.pdf\r\n\r\nAlso a question to @mrocklin: where do you see dask in connection with linear algebra? I mean, it is nice to improve the approximate svd, but if in this and a year there is a connection to MPI-based implementations or PLASMA/MAGMA/Ballistic, then what is the purpose? Those out-perform MapReduce based algorithms by far. And what about https://github.com/project-alchemist?tab=repositories ? Is it still alive?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/726822756/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/726848139",
        "html_url": "https://github.com/dask/dask/issues/6835#issuecomment-726848139",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6835",
        "id": 726848139,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcyNjg0ODEzOQ==",
        "user": {
            "login": "RogerMoens",
            "id": 45488927,
            "node_id": "MDQ6VXNlcjQ1NDg4OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/45488927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RogerMoens",
            "html_url": "https://github.com/RogerMoens",
            "followers_url": "https://api.github.com/users/RogerMoens/followers",
            "following_url": "https://api.github.com/users/RogerMoens/following{/other_user}",
            "gists_url": "https://api.github.com/users/RogerMoens/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RogerMoens/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RogerMoens/subscriptions",
            "organizations_url": "https://api.github.com/users/RogerMoens/orgs",
            "repos_url": "https://api.github.com/users/RogerMoens/repos",
            "events_url": "https://api.github.com/users/RogerMoens/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RogerMoens/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-13T16:04:38Z",
        "updated_at": "2020-11-13T16:04:38Z",
        "author_association": "CONTRIBUTOR",
        "body": "Also note on this paper (@eric-czech): (Heavner and Martinsson 2020)\r\nIt is not yet clear to me whether it offers the advantage of compression that an SVD has. If you save the different components of an SVD you end up with an immense compression for storage purpose and also you can use it it post-processing. In this one it seems that you create an m x m matrix and an n x n matrix in the process?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/726848139/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/729866844",
        "html_url": "https://github.com/dask/dask/issues/6835#issuecomment-729866844",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6835",
        "id": 729866844,
        "node_id": "MDEyOklzc3VlQ29tbWVudDcyOTg2Njg0NA==",
        "user": {
            "login": "RogerMoens",
            "id": 45488927,
            "node_id": "MDQ6VXNlcjQ1NDg4OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/45488927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RogerMoens",
            "html_url": "https://github.com/RogerMoens",
            "followers_url": "https://api.github.com/users/RogerMoens/followers",
            "following_url": "https://api.github.com/users/RogerMoens/following{/other_user}",
            "gists_url": "https://api.github.com/users/RogerMoens/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RogerMoens/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RogerMoens/subscriptions",
            "organizations_url": "https://api.github.com/users/RogerMoens/orgs",
            "repos_url": "https://api.github.com/users/RogerMoens/repos",
            "events_url": "https://api.github.com/users/RogerMoens/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RogerMoens/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-18T18:20:51Z",
        "updated_at": "2020-11-20T08:55:13Z",
        "author_association": "CONTRIBUTOR",
        "body": "https://ieeexplore.ieee.org/abstract/document/8091029\r\n\r\nCould be interesting, they don't talk about distributed however.\r\n\r\n@eric-czech: Also matrix sketching could be interesting:\r\nhttps://dl.acm.org/doi/pdf/10.1145/2487575.2487623\r\n\r\nI think it has some similarities with randomized methods.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/729866844/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/730987119",
        "html_url": "https://github.com/dask/dask/issues/6835#issuecomment-730987119",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6835",
        "id": 730987119,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczMDk4NzExOQ==",
        "user": {
            "login": "RogerMoens",
            "id": 45488927,
            "node_id": "MDQ6VXNlcjQ1NDg4OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/45488927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RogerMoens",
            "html_url": "https://github.com/RogerMoens",
            "followers_url": "https://api.github.com/users/RogerMoens/followers",
            "following_url": "https://api.github.com/users/RogerMoens/following{/other_user}",
            "gists_url": "https://api.github.com/users/RogerMoens/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RogerMoens/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RogerMoens/subscriptions",
            "organizations_url": "https://api.github.com/users/RogerMoens/orgs",
            "repos_url": "https://api.github.com/users/RogerMoens/repos",
            "events_url": "https://api.github.com/users/RogerMoens/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RogerMoens/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-20T07:55:04Z",
        "updated_at": "2020-11-20T09:16:23Z",
        "author_association": "CONTRIBUTOR",
        "body": "A question I was asking myself yesterday: in order to avoid oversubscribing of cores (https://docs.dask.org/en/latest/array-best-practices.html#avoid-oversubscribing-threads), one has to put the number of threads to 1 for MKL or the kernel at use. \r\n\r\nHowever, when you perform a randomized svd, there is still an svd that is performed at the heart. In the case of the dask implementation this happens via the tsqr with svd option. So, an actual svd needs to be calculated at the heart on a reduced matrix. So now, imagine you have a tall skinny matrix e.g. `10**9 x 10**5` (cols x rows) and want to calculate the first `10**3` singular values. Then at the heart a `10**5 x 10**3+n_oversamples` (cols x rows) svd will be performed. My question now is, whether setting the number of threads to 1, does not greatly affect that calculation. Especially, when you have let's say 50 cores available on a single node where the svd is calculated and the input matrix for the inner svd is still 'large' for single core.\r\n\r\nThis might actually slow down performance.\r\n\r\n**Example:**\r\nThese are some tests I did some time ago on a single node, with different core settings (c2 => 2 cores, c4 => 4 cores, etc.). Where I compared GESVD against GESDD performance for a certain matrix with respect to time, how long it takes to be performed. Note that the y-axis is logarithmic. You can see that for all cases this can make a big difference (up to 10-fold). Of course the number fold difference will depend on the input matrix. As the matrix is tall-and-skinny, GESVD is slightly in the advantage for these cases. Also note that for the 1 and 2 core cases, I did not perform this experiment, as it would take up to much time (given it is the mean over 5 cases).\r\n\r\n![svd_1](https://user-images.githubusercontent.com/45488927/99781517-3bf42e80-2b18-11eb-92dc-a2e78d65ac76.png)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/730987119/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/731274457",
        "html_url": "https://github.com/dask/dask/issues/6835#issuecomment-731274457",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6835",
        "id": 731274457,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczMTI3NDQ1Nw==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-20T16:38:34Z",
        "updated_at": "2020-11-20T16:38:34Z",
        "author_association": "MEMBER",
        "body": "We could keep MKL numthreads high, and have the dask schedulers start to\nbecome more intelligent about avoiding oversubscription.  See\nhttps://github.com/dask/distributed/issues/4053\n\nOn Thu, Nov 19, 2020 at 11:55 PM RogerMoens <notifications@github.com>\nwrote:\n\n> A question I was asking myself yesterday: in order to avoid\n> oversubscribing of nodes (\n> https://docs.dask.org/en/latest/array-best-practices.html#avoid-oversubscribing-threads),\n> one has to put the number of threads to 1 for MKL or the kernel at use.\n>\n> However, when you perform a randomized svd, there is still an svd that is\n> performed at the heart. In the case of the dask implementation this happens\n> via the tsqr with svd option. Still the svd needs to be calculated at the\n> heart. So now my question is, imagine you have a tall skinny matrix e.g. 10*9\n> x 10*5 and want to calculate the first 10*3 singular values. Then at the\n> heart a 10*5 x 10**3+n_oversamples svd will be performed. My question now\n> is, whether setting the number of threads to 1, does not greatly affect\n> that calculation. Especially, when you have let's say 50 cores available on\n> a single node where the svd is calculated and the input matrix for the\n> inner svd is still 'large' for single core.\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/dask/dask/issues/6835#issuecomment-730987119>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AACKZTD6V7UFOPUPQV4BURTSQYOGNANCNFSM4TUSBP5A>\n> .\n>\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/731274457/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/734302421",
        "html_url": "https://github.com/dask/dask/issues/6835#issuecomment-734302421",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6835",
        "id": 734302421,
        "node_id": "MDEyOklzc3VlQ29tbWVudDczNDMwMjQyMQ==",
        "user": {
            "login": "RogerMoens",
            "id": 45488927,
            "node_id": "MDQ6VXNlcjQ1NDg4OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/45488927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RogerMoens",
            "html_url": "https://github.com/RogerMoens",
            "followers_url": "https://api.github.com/users/RogerMoens/followers",
            "following_url": "https://api.github.com/users/RogerMoens/following{/other_user}",
            "gists_url": "https://api.github.com/users/RogerMoens/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RogerMoens/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RogerMoens/subscriptions",
            "organizations_url": "https://api.github.com/users/RogerMoens/orgs",
            "repos_url": "https://api.github.com/users/RogerMoens/repos",
            "events_url": "https://api.github.com/users/RogerMoens/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RogerMoens/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-11-26T13:36:06Z",
        "updated_at": "2020-11-26T13:36:06Z",
        "author_association": "CONTRIBUTOR",
        "body": "Also interesting for the GPU-based version of RSVD:\r\nhttps://onlinelibrary.wiley.com/doi/abs/10.1002/cpe.5754?casa_token=bGov0V80uJsAAAAA:MVNX6P2F2qmG4fzcfL_lVVnfxmb-ziEJDM1pDiT0IaSdWotxSEvck0JvZNVceaLU-PlNH10DcaA2K3jZ\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/734302421/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/800897925",
        "html_url": "https://github.com/dask/dask/issues/6835#issuecomment-800897925",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6835",
        "id": 800897925,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgwMDg5NzkyNQ==",
        "user": {
            "login": "eric-czech",
            "id": 6130352,
            "node_id": "MDQ6VXNlcjYxMzAzNTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6130352?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/eric-czech",
            "html_url": "https://github.com/eric-czech",
            "followers_url": "https://api.github.com/users/eric-czech/followers",
            "following_url": "https://api.github.com/users/eric-czech/following{/other_user}",
            "gists_url": "https://api.github.com/users/eric-czech/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/eric-czech/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/eric-czech/subscriptions",
            "organizations_url": "https://api.github.com/users/eric-czech/orgs",
            "repos_url": "https://api.github.com/users/eric-czech/repos",
            "events_url": "https://api.github.com/users/eric-czech/events{/privacy}",
            "received_events_url": "https://api.github.com/users/eric-czech/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-17T08:32:59Z",
        "updated_at": "2021-03-17T08:32:59Z",
        "author_association": "MEMBER",
        "body": "> Also matrix sketching could be interesting\r\n\r\nThe \"Random Projections\" baseline in Figure 1 looks to be a compatible comparison (of accuracy) to the Halko 4.3 algorithm with no power iterations: \r\n\r\n<img width=\"343\" alt=\"Screen Shot 2021-03-17 at 2 44 39 AM\" src=\"https://user-images.githubusercontent.com/6130352/111426252-c154ad80-86ca-11eb-8d40-10678024a673.png\">\r\n\r\nIt would be interesting to see how much a power iteration or two changes that picture.  It wasn't clear to me how we might compare efficiency since the number of SVDs needed in the frequent directions algorithm is dependent upon the input matrix content.\r\n\r\nFor posterity, http://www.nbertagnolli.com/jekyll/update/2015/09/26/FD.html is a useful summary of Edo's work on this and it uses this simple [scala implementation](https://github.com/nbertagnolli/FrequentDirections).  I haven't looked much yet at \r\nhttps://github.com/edoliberty/frequent-directions, and I don't see any more popular implementations.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/800897925/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/801037372",
        "html_url": "https://github.com/dask/dask/issues/6835#issuecomment-801037372",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6835",
        "id": 801037372,
        "node_id": "MDEyOklzc3VlQ29tbWVudDgwMTAzNzM3Mg==",
        "user": {
            "login": "RogerMoens",
            "id": 45488927,
            "node_id": "MDQ6VXNlcjQ1NDg4OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/45488927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RogerMoens",
            "html_url": "https://github.com/RogerMoens",
            "followers_url": "https://api.github.com/users/RogerMoens/followers",
            "following_url": "https://api.github.com/users/RogerMoens/following{/other_user}",
            "gists_url": "https://api.github.com/users/RogerMoens/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RogerMoens/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RogerMoens/subscriptions",
            "organizations_url": "https://api.github.com/users/RogerMoens/orgs",
            "repos_url": "https://api.github.com/users/RogerMoens/repos",
            "events_url": "https://api.github.com/users/RogerMoens/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RogerMoens/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-03-17T12:19:48Z",
        "updated_at": "2021-03-17T12:22:50Z",
        "author_association": "CONTRIBUTOR",
        "body": "@eric-czech: from my experience so-far, it changes a lot! Also if you have information from a previous SVD, it might speed up the process and the accuracy! \r\n\r\nAlso an important note is that it really depends on the matrix you are sampling/sketching. E.g. when your matrix has bases that are sparse (only a few entries which are important), it might be harder to achieve the same accuracy as when you have all entries of the base being included. I would recommend having a look at the Halko paper where they explain a bit about calculating the error norm, I think that might be relevant to estimate the error made through this method.\r\n\r\nI am happy to help to see how these methods compare with respect to each other! However, I am a bit busy until the first week of April, so maybe we could join forces afterwards? I have some implementations already available in plain python and dask.\r\n\r\nAdditionally, CUR/CX decomposition might be interesting too!",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/801037372/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]