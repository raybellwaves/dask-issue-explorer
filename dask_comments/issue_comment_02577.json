[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/319412771",
        "html_url": "https://github.com/dask/dask/issues/2577#issuecomment-319412771",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2577",
        "id": 319412771,
        "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTQxMjc3MQ==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-08-01T15:51:34Z",
        "updated_at": "2017-08-01T15:51:34Z",
        "author_association": "MEMBER",
        "body": "This came from #2497 ",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/319412771/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/319417681",
        "html_url": "https://github.com/dask/dask/issues/2577#issuecomment-319417681",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2577",
        "id": 319417681,
        "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTQxNzY4MQ==",
        "user": {
            "login": "jcrist",
            "id": 2783717,
            "node_id": "MDQ6VXNlcjI3ODM3MTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2783717?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jcrist",
            "html_url": "https://github.com/jcrist",
            "followers_url": "https://api.github.com/users/jcrist/followers",
            "following_url": "https://api.github.com/users/jcrist/following{/other_user}",
            "gists_url": "https://api.github.com/users/jcrist/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jcrist/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jcrist/subscriptions",
            "organizations_url": "https://api.github.com/users/jcrist/orgs",
            "repos_url": "https://api.github.com/users/jcrist/repos",
            "events_url": "https://api.github.com/users/jcrist/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jcrist/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-08-01T16:08:16Z",
        "updated_at": "2017-08-01T16:14:51Z",
        "author_association": "MEMBER",
        "body": "Fine by me. This also could allow custom mutable mappings to generate their dependencies in a potentially more efficient way. I'm curious, on real problems how much of the time is saved by being smarter about this?\r\n\r\n>  However, this also is a break to top-level API and will break user code from some more advanced users.\r\n\r\nUsers writing their own optimizations/creating custom classes are already using fringe features. Could either do a clean break (easy for us, hard for users) or deprecate with something like:\r\n\r\n```\r\nres = x._optimize(x.dask, x._keys())\r\nif len(res) == 2:\r\n    dsk, dependencies = res\r\nelse:\r\n    warn(\"In the future optimize methods should return \"\r\n         \"dependencies.\")\r\n    dsk = res\r\n    dependencies = ...\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/319417681/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/319418660",
        "html_url": "https://github.com/dask/dask/issues/2577#issuecomment-319418660",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2577",
        "id": 319418660,
        "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTQxODY2MA==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-08-01T16:11:36Z",
        "updated_at": "2017-08-01T16:11:36Z",
        "author_association": "MEMBER",
        "body": "> I'm curious, on real problems how much of the time is saved by being smarter about this?\r\n\r\nYeah, that's a valid question.  This is a centralized scheduling cost, and so becomes an issue as we scale to larger distributed problems, such as occur for large-scale array analysis.  Today interaction times on large datasets can be slowed down quite a bit at the graph optimization and submission stage.  People sometimes wait a minute or so between hitting persist/compute and seeing anything show up on the scheduler.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/319418660/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/319427478",
        "html_url": "https://github.com/dask/dask/issues/2577#issuecomment-319427478",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/2577",
        "id": 319427478,
        "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTQyNzQ3OA==",
        "user": {
            "login": "shoyer",
            "id": 1217238,
            "node_id": "MDQ6VXNlcjEyMTcyMzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1217238?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shoyer",
            "html_url": "https://github.com/shoyer",
            "followers_url": "https://api.github.com/users/shoyer/followers",
            "following_url": "https://api.github.com/users/shoyer/following{/other_user}",
            "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions",
            "organizations_url": "https://api.github.com/users/shoyer/orgs",
            "repos_url": "https://api.github.com/users/shoyer/repos",
            "events_url": "https://api.github.com/users/shoyer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shoyer/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2017-08-01T16:42:41Z",
        "updated_at": "2017-08-01T16:42:41Z",
        "author_association": "MEMBER",
        "body": "This seems reasonable to me.\r\n\r\nWe don't use the optimization API directly in xarray yet, so there's no concern there.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/319427478/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]