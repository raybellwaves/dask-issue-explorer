[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/382730527",
        "html_url": "https://github.com/dask/dask/issues/3411#issuecomment-382730527",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3411",
        "id": 382730527,
        "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjczMDUyNw==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-04-19T13:15:52Z",
        "updated_at": "2018-04-19T13:15:52Z",
        "author_association": "MEMBER",
        "body": "Nice detective work @gorlins !  Those are nice examples that clearly show a problem.  Would you be willing to follow up with a PR with a fix?\r\n\r\n> For a slice where no partitions should be returned, I'm not sure what the desired result should be. As is it will 'work' but be suboptimal because it needs to compute an entire partition unnecessarily, while all that is needed is an empty dataframe corresponding to meta\r\n\r\nTwo options come to mind:\r\n\r\n1.  Use unknown divisions `[None, None]`\r\n2.  Use any minimum and maximum value from the previous dataframe.  It's technically accurate?\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/382730527/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/382809274",
        "html_url": "https://github.com/dask/dask/issues/3411#issuecomment-382809274",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3411",
        "id": 382809274,
        "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjgwOTI3NA==",
        "user": {
            "login": "gorlins",
            "id": 139286,
            "node_id": "MDQ6VXNlcjEzOTI4Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/139286?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gorlins",
            "html_url": "https://github.com/gorlins",
            "followers_url": "https://api.github.com/users/gorlins/followers",
            "following_url": "https://api.github.com/users/gorlins/following{/other_user}",
            "gists_url": "https://api.github.com/users/gorlins/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gorlins/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gorlins/subscriptions",
            "organizations_url": "https://api.github.com/users/gorlins/orgs",
            "repos_url": "https://api.github.com/users/gorlins/repos",
            "events_url": "https://api.github.com/users/gorlins/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gorlins/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-04-19T17:02:33Z",
        "updated_at": "2018-04-19T17:02:33Z",
        "author_association": "NONE",
        "body": "for that latter case, the issue is not about the divisions, but whether we want to have npartitions=0 or use a 'fake' partition that generates an empty frame (using _meta only).  There should be no need to actually bring one of the keys/delayed objects from the sliced DF into the new object just to make an empty slice, except to the extent that we don't trust _meta to be accurate...",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/382809274/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/382899924",
        "html_url": "https://github.com/dask/dask/issues/3411#issuecomment-382899924",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3411",
        "id": 382899924,
        "node_id": "MDEyOklzc3VlQ29tbWVudDM4Mjg5OTkyNA==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-04-19T22:27:31Z",
        "updated_at": "2018-04-19T22:27:31Z",
        "author_association": "MEMBER",
        "body": "I think that this would depend on how zero-partition dataframes interact\nwith the rest of the codebase.  My guess is that there would be a few small\nbugs that we would need to find.  We could find these (maybe this is best)\nor we could produce a single-partition dataframe with an empty frame.  I'm\nsomewhat inclined towards the single-empty-partition case just out of\nlaziness.\n\nOn Thu, Apr 19, 2018 at 1:02 PM, Scott Gorlin <notifications@github.com>\nwrote:\n\n> for that latter case, the issue is not about the divisions, but whether we\n> want to have npartitions=0 or use a 'fake' partition that generates an\n> empty frame (using _meta only). There should be no need to actually bring\n> one of the keys/delayed objects from the sliced DF into the new object just\n> to make an empty slice, except to the extent that we don't trust _meta to\n> be accurate...\n>\n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/dask/dask/issues/3411#issuecomment-382809274>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AASszExt9pW7DSx31TIQj5JASY0kj_GXks5tqMMqgaJpZM4TXJ1B>\n> .\n>\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/382899924/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/383168443",
        "html_url": "https://github.com/dask/dask/issues/3411#issuecomment-383168443",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3411",
        "id": 383168443,
        "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzE2ODQ0Mw==",
        "user": {
            "login": "gorlins",
            "id": 139286,
            "node_id": "MDQ6VXNlcjEzOTI4Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/139286?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gorlins",
            "html_url": "https://github.com/gorlins",
            "followers_url": "https://api.github.com/users/gorlins/followers",
            "following_url": "https://api.github.com/users/gorlins/following{/other_user}",
            "gists_url": "https://api.github.com/users/gorlins/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gorlins/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gorlins/subscriptions",
            "organizations_url": "https://api.github.com/users/gorlins/orgs",
            "repos_url": "https://api.github.com/users/gorlins/repos",
            "events_url": "https://api.github.com/users/gorlins/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gorlins/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-04-20T17:34:37Z",
        "updated_at": "2018-04-20T17:34:37Z",
        "author_association": "NONE",
        "body": "to be clear, would that single partition be the result of picking any arbitrary partition from the previous, and slicing it?  Or something like ```return dask_df.from_delayed([Delayed(df._meta)], meta=df._meta)```?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/383168443/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/383177242",
        "html_url": "https://github.com/dask/dask/issues/3411#issuecomment-383177242",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3411",
        "id": 383177242,
        "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzE3NzI0Mg==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-04-20T18:06:11Z",
        "updated_at": "2018-04-20T18:06:11Z",
        "author_association": "MEMBER",
        "body": "Probably better to use meta so that we don't have to compute the\ndependencies.  You might consider constructing the task graph manually as a\ndictionary rather than using from_delayed (we rarely used delayed directly\nin dataframe code).  See http://dask.pydata.org/en/latest/custom-graphs.html\n.  You probably want something like {(name, 0): meta.iloc[:0]}\n\nOn Fri, Apr 20, 2018 at 1:34 PM, Scott Gorlin <notifications@github.com>\nwrote:\n\n> to be clear, would that single partition be the result of picking any\n> arbitrary partition from the previous, and slicing it? Or something like return\n> dask_df.from_delayed([Delayed(df._meta)], meta=df._meta)?\n>\n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/dask/dask/issues/3411#issuecomment-383168443>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AASszHe5gCkwp9emUoeU7zEQAVotlyXVks5tqhwugaJpZM4TXJ1B>\n> .\n>\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/383177242/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]