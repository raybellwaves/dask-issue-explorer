[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/657132121",
        "html_url": "https://github.com/dask/dask/pull/6405#issuecomment-657132121",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6405",
        "id": 657132121,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY1NzEzMjEyMQ==",
        "user": {
            "login": "owena11",
            "id": 3437812,
            "node_id": "MDQ6VXNlcjM0Mzc4MTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3437812?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/owena11",
            "html_url": "https://github.com/owena11",
            "followers_url": "https://api.github.com/users/owena11/followers",
            "following_url": "https://api.github.com/users/owena11/following{/other_user}",
            "gists_url": "https://api.github.com/users/owena11/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/owena11/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/owena11/subscriptions",
            "organizations_url": "https://api.github.com/users/owena11/orgs",
            "repos_url": "https://api.github.com/users/owena11/repos",
            "events_url": "https://api.github.com/users/owena11/events{/privacy}",
            "received_events_url": "https://api.github.com/users/owena11/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-07-11T21:22:39Z",
        "updated_at": "2020-07-11T21:22:39Z",
        "author_association": "NONE",
        "body": "(Ah realised I was running the unittests slightly incorrectly, so was getting skips for the test I was interested in rather than failures but should be fixed now!) \r\n\r\nNot overly scientific but as a little timing example to see how performance is affected by the change in file opening :\r\n\r\n```python\r\nimport dask\r\nimport dask.array as da\r\n\r\ntest_file = 'test.hdf5'\r\n\r\ndatasets = [( '/'+str(dset_name), da.random.random(size=(500,500), chunks=(100,100)))\r\n            for dset_name in range(10)]\r\n\r\nfor dset_name, dset_array in datasets:\r\n    dset_array.to_hdf5(test_file, dset_name)\r\n```\r\n\r\nmaster:\r\n```\r\npython preformance_hdf5.py  0.60s user 0.15s system 89% cpu 0.832 total\r\npython preformance_hdf5.py  0.59s user 0.15s system 89% cpu 0.829 total\r\npython preformance_hdf5.py  0.60s user 0.15s system 90% cpu 0.828 total\r\n```\r\n\r\nbranch:\r\n```\r\npython preformance_hdf5.py  0.82s user 0.24s system 80% cpu 1.311 total\r\npython preformance_hdf5.py  0.81s user 0.20s system 83% cpu 1.220 total\r\npython preformance_hdf5.py  0.80s user 0.20s system 82% cpu 1.214 total\r\n```\r\n\r\nIt seems to have quite a drastic performance impact even on such a small test set.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/657132121/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/657606390",
        "html_url": "https://github.com/dask/dask/pull/6405#issuecomment-657606390",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6405",
        "id": 657606390,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY1NzYwNjM5MA==",
        "user": {
            "login": "quasiben",
            "id": 1403768,
            "node_id": "MDQ6VXNlcjE0MDM3Njg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1403768?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/quasiben",
            "html_url": "https://github.com/quasiben",
            "followers_url": "https://api.github.com/users/quasiben/followers",
            "following_url": "https://api.github.com/users/quasiben/following{/other_user}",
            "gists_url": "https://api.github.com/users/quasiben/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/quasiben/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/quasiben/subscriptions",
            "organizations_url": "https://api.github.com/users/quasiben/orgs",
            "repos_url": "https://api.github.com/users/quasiben/repos",
            "events_url": "https://api.github.com/users/quasiben/events{/privacy}",
            "received_events_url": "https://api.github.com/users/quasiben/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-07-13T14:50:43Z",
        "updated_at": "2020-07-13T14:50:43Z",
        "author_association": "MEMBER",
        "body": "Hmm, not sure why there is performance hit.  If you're interested/have time you could benchmark at a larger datasize and see if it is still noticeable (maybe 500MB or 1GB).  @jcrist any further comments here ?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/657606390/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/657608805",
        "html_url": "https://github.com/dask/dask/pull/6405#issuecomment-657608805",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6405",
        "id": 657608805,
        "node_id": "MDEyOklzc3VlQ29tbWVudDY1NzYwODgwNQ==",
        "user": {
            "login": "jcrist",
            "id": 2783717,
            "node_id": "MDQ6VXNlcjI3ODM3MTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2783717?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jcrist",
            "html_url": "https://github.com/jcrist",
            "followers_url": "https://api.github.com/users/jcrist/followers",
            "following_url": "https://api.github.com/users/jcrist/following{/other_user}",
            "gists_url": "https://api.github.com/users/jcrist/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jcrist/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jcrist/subscriptions",
            "organizations_url": "https://api.github.com/users/jcrist/orgs",
            "repos_url": "https://api.github.com/users/jcrist/repos",
            "events_url": "https://api.github.com/users/jcrist/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jcrist/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2020-07-13T14:54:58Z",
        "updated_at": "2020-07-13T14:54:58Z",
        "author_association": "MEMBER",
        "body": "Yeah, I'd like to see a more realistic benchmark to see if this is negligible or not on real data sizes.\r\n\r\nIf we do need to worry about the cost of opening the file each time, we can add a mechanism to cache opening the file per-process, but I wouldn't want to add this complication if it wasn't necessary.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/657608805/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/926772644",
        "html_url": "https://github.com/dask/dask/pull/6405#issuecomment-926772644",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6405",
        "id": 926772644,
        "node_id": "IC_kwDOAbcwm843PW2k",
        "user": {
            "login": "ncclementi",
            "id": 7526622,
            "node_id": "MDQ6VXNlcjc1MjY2MjI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7526622?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ncclementi",
            "html_url": "https://github.com/ncclementi",
            "followers_url": "https://api.github.com/users/ncclementi/followers",
            "following_url": "https://api.github.com/users/ncclementi/following{/other_user}",
            "gists_url": "https://api.github.com/users/ncclementi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ncclementi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ncclementi/subscriptions",
            "organizations_url": "https://api.github.com/users/ncclementi/orgs",
            "repos_url": "https://api.github.com/users/ncclementi/repos",
            "events_url": "https://api.github.com/users/ncclementi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ncclementi/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-09-24T16:42:30Z",
        "updated_at": "2021-09-24T16:42:30Z",
        "author_association": "MEMBER",
        "body": " Checking in here, What is the status of this PR? \r\n @jcrist you mentioned you want to see a more realistic benchmark, Do you have a suggestion for @owena11 to give it a go?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/926772644/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/926772658",
        "html_url": "https://github.com/dask/dask/pull/6405#issuecomment-926772658",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6405",
        "id": 926772658,
        "node_id": "IC_kwDOAbcwm843PW2y",
        "user": {
            "login": "GPUtester",
            "id": 38199262,
            "node_id": "MDQ6VXNlcjM4MTk5MjYy",
            "avatar_url": "https://avatars.githubusercontent.com/u/38199262?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GPUtester",
            "html_url": "https://github.com/GPUtester",
            "followers_url": "https://api.github.com/users/GPUtester/followers",
            "following_url": "https://api.github.com/users/GPUtester/following{/other_user}",
            "gists_url": "https://api.github.com/users/GPUtester/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GPUtester/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GPUtester/subscriptions",
            "organizations_url": "https://api.github.com/users/GPUtester/orgs",
            "repos_url": "https://api.github.com/users/GPUtester/repos",
            "events_url": "https://api.github.com/users/GPUtester/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GPUtester/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-09-24T16:42:31Z",
        "updated_at": "2021-09-24T16:42:31Z",
        "author_association": "COLLABORATOR",
        "body": "Can one of the admins verify this patch?",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/926772658/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/927981502",
        "html_url": "https://github.com/dask/dask/pull/6405#issuecomment-927981502",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/6405",
        "id": 927981502,
        "node_id": "IC_kwDOAbcwm843T9--",
        "user": {
            "login": "jsignell",
            "id": 4806877,
            "node_id": "MDQ6VXNlcjQ4MDY4Nzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4806877?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jsignell",
            "html_url": "https://github.com/jsignell",
            "followers_url": "https://api.github.com/users/jsignell/followers",
            "following_url": "https://api.github.com/users/jsignell/following{/other_user}",
            "gists_url": "https://api.github.com/users/jsignell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jsignell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jsignell/subscriptions",
            "organizations_url": "https://api.github.com/users/jsignell/orgs",
            "repos_url": "https://api.github.com/users/jsignell/repos",
            "events_url": "https://api.github.com/users/jsignell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jsignell/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2021-09-27T15:24:00Z",
        "updated_at": "2021-09-27T15:24:00Z",
        "author_association": "MEMBER",
        "body": "ok to test",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/927981502/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]