[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1420588455",
        "html_url": "https://github.com/dask/dask/pull/9925#issuecomment-1420588455",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9925",
        "id": 1420588455,
        "node_id": "IC_kwDOAbcwm85UrHWn",
        "user": {
            "login": "fjetter",
            "id": 8629629,
            "node_id": "MDQ6VXNlcjg2Mjk2Mjk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8629629?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fjetter",
            "html_url": "https://github.com/fjetter",
            "followers_url": "https://api.github.com/users/fjetter/followers",
            "following_url": "https://api.github.com/users/fjetter/following{/other_user}",
            "gists_url": "https://api.github.com/users/fjetter/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fjetter/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fjetter/subscriptions",
            "organizations_url": "https://api.github.com/users/fjetter/orgs",
            "repos_url": "https://api.github.com/users/fjetter/repos",
            "events_url": "https://api.github.com/users/fjetter/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fjetter/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-07T11:03:44Z",
        "updated_at": "2023-02-07T11:03:44Z",
        "author_association": "MEMBER",
        "body": "Three test cases failed. I assume I'm missing something. I'd be happy to be educated about the topic more. Maybe there is a way to get this working with minor modifications",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1420588455/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/1421295713",
        "html_url": "https://github.com/dask/dask/pull/9925#issuecomment-1421295713",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/9925",
        "id": 1421295713,
        "node_id": "IC_kwDOAbcwm85Ut0Bh",
        "user": {
            "login": "gjoseph92",
            "id": 3309802,
            "node_id": "MDQ6VXNlcjMzMDk4MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3309802?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gjoseph92",
            "html_url": "https://github.com/gjoseph92",
            "followers_url": "https://api.github.com/users/gjoseph92/followers",
            "following_url": "https://api.github.com/users/gjoseph92/following{/other_user}",
            "gists_url": "https://api.github.com/users/gjoseph92/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gjoseph92/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gjoseph92/subscriptions",
            "organizations_url": "https://api.github.com/users/gjoseph92/orgs",
            "repos_url": "https://api.github.com/users/gjoseph92/repos",
            "events_url": "https://api.github.com/users/gjoseph92/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gjoseph92/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2023-02-07T19:01:08Z",
        "updated_at": "2023-02-07T19:01:08Z",
        "author_association": "MEMBER",
        "body": "I ran into this a bit ago, and I think I tried something like what you're doing here, but also found it didn't work. \r\n\r\nI vaguely recall it had to do with the order of the elements not matching with NumPy if you just do it blockwise on multidimensional arrays. Kind of like this warning mentions: https://github.com/dask/dask/blob/834a19eaeb6a5d756ca4ea90b56ca9ac943cb051/dask/array/slicing.py#L1149-L1152\r\n\r\nBecause `x[x > 100]` produces a 1D array when `x` is N-D, if you do the operation elemwise, each chunk will be flattened. But if you just concatenate all those 1D arrays, the elements will not be overall row-major order like you'd get from NumPy. If the chunks are squares, say, chunk 0 will contain elements from multiple rows, then chunk 1 will contain elements from multiple rows. You'd expect all the elements from row 0 to come before elements in row 1.\r\n\r\nSo it kind of makes sense that rechunking is involved, since there isn't a 1:1 mapping between chunks in the input and chunks in the output.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/1421295713/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]