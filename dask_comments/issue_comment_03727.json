[
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/403051752",
        "html_url": "https://github.com/dask/dask/issues/3727#issuecomment-403051752",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3727",
        "id": 403051752,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzA1MTc1Mg==",
        "user": {
            "login": "d-v-b",
            "id": 3805136,
            "node_id": "MDQ6VXNlcjM4MDUxMzY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3805136?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/d-v-b",
            "html_url": "https://github.com/d-v-b",
            "followers_url": "https://api.github.com/users/d-v-b/followers",
            "following_url": "https://api.github.com/users/d-v-b/following{/other_user}",
            "gists_url": "https://api.github.com/users/d-v-b/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/d-v-b/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/d-v-b/subscriptions",
            "organizations_url": "https://api.github.com/users/d-v-b/orgs",
            "repos_url": "https://api.github.com/users/d-v-b/repos",
            "events_url": "https://api.github.com/users/d-v-b/events{/privacy}",
            "received_events_url": "https://api.github.com/users/d-v-b/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-07-06T14:31:54Z",
        "updated_at": "2018-07-06T14:31:54Z",
        "author_association": "MEMBER",
        "body": "`apply_along_axis` is decorated with `@wraps(np.apply_along_axis)`, so it gets its docstring from `np.apply_along_axis`. Therefore dask-specific kwargs (like `dtype` and `shape`) can't be added to this function with a docstring. \r\n\r\nGiven this constraint, it seems reasonable to make a better inference of output shape and dtype by calling the test function on a more representative vector.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/403051752/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/403065526",
        "html_url": "https://github.com/dask/dask/issues/3727#issuecomment-403065526",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3727",
        "id": 403065526,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzA2NTUyNg==",
        "user": {
            "login": "mrocklin",
            "id": 306380,
            "node_id": "MDQ6VXNlcjMwNjM4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/306380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mrocklin",
            "html_url": "https://github.com/mrocklin",
            "followers_url": "https://api.github.com/users/mrocklin/followers",
            "following_url": "https://api.github.com/users/mrocklin/following{/other_user}",
            "gists_url": "https://api.github.com/users/mrocklin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mrocklin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mrocklin/subscriptions",
            "organizations_url": "https://api.github.com/users/mrocklin/orgs",
            "repos_url": "https://api.github.com/users/mrocklin/repos",
            "events_url": "https://api.github.com/users/mrocklin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mrocklin/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-07-06T15:21:45Z",
        "updated_at": "2018-07-06T15:21:45Z",
        "author_association": "MEMBER",
        "body": "My apologies for the lack of response here (it's a busy week).  Removing the `@wraps` from any function is always a possibility.  It's just there because we've been too lazy to write a docstring.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/403065526/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/403318507",
        "html_url": "https://github.com/dask/dask/issues/3727#issuecomment-403318507",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3727",
        "id": 403318507,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzMxODUwNw==",
        "user": {
            "login": "d-v-b",
            "id": 3805136,
            "node_id": "MDQ6VXNlcjM4MDUxMzY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3805136?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/d-v-b",
            "html_url": "https://github.com/d-v-b",
            "followers_url": "https://api.github.com/users/d-v-b/followers",
            "following_url": "https://api.github.com/users/d-v-b/following{/other_user}",
            "gists_url": "https://api.github.com/users/d-v-b/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/d-v-b/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/d-v-b/subscriptions",
            "organizations_url": "https://api.github.com/users/d-v-b/orgs",
            "repos_url": "https://api.github.com/users/d-v-b/repos",
            "events_url": "https://api.github.com/users/d-v-b/events{/privacy}",
            "received_events_url": "https://api.github.com/users/d-v-b/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-07-08T21:27:36Z",
        "updated_at": "2018-07-08T21:27:36Z",
        "author_association": "MEMBER",
        "body": "If `arr` is not singleton along `axis`, the current scheme for inferring output shape in `apply_along_axis(func1d, arr, axis)` (applying the `func1d` to a singleton array) is guaranteed to error or just be wrong for a huge class of functions, e.g. any function that preserves the shape of its inputs. \r\n\r\nIt would be a potentially breaking change to infer output shape by applying `func1d` on a vector with representative shape, since this function call could be very expensive. Nonetheless, I think this is the right direction to take. If users have a `func1d` that is very expensive to call, then they should use the `dtype` and `shape` kwargs to explicitly skip the function call. \r\n\r\n(and I think the same principle applies to `map_blocks`)\r\n\r\nThoughts?\r\n@mrocklin \r\n@jakirkham \r\n ",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/403318507/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/403319323",
        "html_url": "https://github.com/dask/dask/issues/3727#issuecomment-403319323",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3727",
        "id": 403319323,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzMxOTMyMw==",
        "user": {
            "login": "d-v-b",
            "id": 3805136,
            "node_id": "MDQ6VXNlcjM4MDUxMzY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3805136?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/d-v-b",
            "html_url": "https://github.com/d-v-b",
            "followers_url": "https://api.github.com/users/d-v-b/followers",
            "following_url": "https://api.github.com/users/d-v-b/following{/other_user}",
            "gists_url": "https://api.github.com/users/d-v-b/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/d-v-b/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/d-v-b/subscriptions",
            "organizations_url": "https://api.github.com/users/d-v-b/orgs",
            "repos_url": "https://api.github.com/users/d-v-b/repos",
            "events_url": "https://api.github.com/users/d-v-b/events{/privacy}",
            "received_events_url": "https://api.github.com/users/d-v-b/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-07-08T21:40:33Z",
        "updated_at": "2018-07-08T21:40:33Z",
        "author_association": "MEMBER",
        "body": "I should mention that I'm working on a PR to add the `shape` and `dtype` kwargs to `apply_along_axis`",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/403319323/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/403893565",
        "html_url": "https://github.com/dask/dask/issues/3727#issuecomment-403893565",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3727",
        "id": 403893565,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzg5MzU2NQ==",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2018-07-10T16:56:16Z",
        "updated_at": "2018-07-10T16:56:16Z",
        "author_association": "MEMBER",
        "body": "So it appears this issue wasn't resolved by the merged PR, correct? As such going to go ahead and reopen this. Though it appears there is another PR that attempts to address this issue, so we can keep the discussion over there and close this out when it is done.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/403893565/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    },
    {
        "url": "https://api.github.com/repos/dask/dask/issues/comments/488003013",
        "html_url": "https://github.com/dask/dask/issues/3727#issuecomment-488003013",
        "issue_url": "https://api.github.com/repos/dask/dask/issues/3727",
        "id": 488003013,
        "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODAwMzAxMw==",
        "user": {
            "login": "TomAugspurger",
            "id": 1312546,
            "node_id": "MDQ6VXNlcjEzMTI1NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1312546?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TomAugspurger",
            "html_url": "https://github.com/TomAugspurger",
            "followers_url": "https://api.github.com/users/TomAugspurger/followers",
            "following_url": "https://api.github.com/users/TomAugspurger/following{/other_user}",
            "gists_url": "https://api.github.com/users/TomAugspurger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/TomAugspurger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TomAugspurger/subscriptions",
            "organizations_url": "https://api.github.com/users/TomAugspurger/orgs",
            "repos_url": "https://api.github.com/users/TomAugspurger/repos",
            "events_url": "https://api.github.com/users/TomAugspurger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/TomAugspurger/received_events",
            "type": "User",
            "site_admin": false
        },
        "created_at": "2019-04-30T15:40:22Z",
        "updated_at": "2019-04-30T15:40:22Z",
        "author_association": "MEMBER",
        "body": "For reference, in https://github.com/dask/dask/pull/3731 is was decided that the best approach here is to add keywords to `apply_along_axis` to specify the shape and dtype of the output.",
        "reactions": {
            "url": "https://api.github.com/repos/dask/dask/issues/comments/488003013/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "performed_via_github_app": null
    }
]